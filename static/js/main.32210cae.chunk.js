(this.webpackJsonpsrt2=this.webpackJsonpsrt2||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),l=n.n(c),i=n(25),o=n.n(i),r=(n(50),n(6)),s=n(8),d=(n(51),n(21)),u=function(e){var t=e.text,n=e.x,c=e.y,l=e.width,i=e.size,o=e.style,s=e.id,d=e.globalStyle,u=e.editStyles,b=e.onClick;return Object(a.jsx)("p",{onClick:b,id:"".concat(s),style:Object(r.a)(Object(r.a)(Object(r.a)({position:"absolute",top:"".concat(c,"%"),left:"".concat(n,"%"),width:"".concat(l,"%"),fontSize:"".concat(i,"px")},o),d),u),children:t})},b=function(e){var t,n,l=e.imgPath,i=e.subtitle,o=e.page,b=e.editStyles,j=(e.onClick,e.onTextClick),O=Object(d.a)(e,["imgPath","subtitle","page","editStyles","onClick","onTextClick"]),m=Object(c.useRef)(null),f=Object(c.useState)(0),g=Object(s.a)(f,2),p=g[0],h=g[1],x=Object(c.useState)(0),v=Object(s.a)(x,2),S=v[0],y=v[1],C=Object(c.useState)(0),_=Object(s.a)(C,2),N=_[0],k=_[1],I=Object(c.useState)(0),w=Object(s.a)(I,2),L=w[0],R=w[1],T=Object(c.useState)(!1),F=Object(s.a)(T,2),P=(F[0],F[1]),z=function(){var e,t,n,a;h(null===(e=m.current)||void 0===e?void 0:e.offsetTop),y(null===(t=m.current)||void 0===t?void 0:t.offsetLeft),k(null===(n=m.current)||void 0===n?void 0:n.offsetHeight),R(null===(a=m.current)||void 0===a?void 0:a.offsetWidth)};return Object(c.useEffect)((function(){return window.addEventListener("resize",z),function(){window.removeEventListener("resize",z)}}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onMouseDown:function(e){P(!0)},onMouseUp:function(){P(!1)},onMouseLeave:function(e){P(!1)},onMouseMove:function(e){},style:{position:"absolute",zIndex:11,top:p,left:S,width:L,height:N},children:null===(t=i[o])||void 0===t?void 0:t.sort((function(e,t){return e.index-t.index})).map((function(e){var t,n=e.text,c=e.x,l=e.y,r=e.width,s=e.size,d=e.style,O=e.index;return Object(a.jsx)(u,{id:O,text:n,onClick:function(e){return null===j||void 0===j?void 0:j(O,e)},globalStyle:i.__global_style__,editStyles:null===b||void 0===b||null===(t=b[o])||void 0===t?void 0:t[O],x:c,y:l,width:r,size:s*L/100,style:d},O)}))}),Object(a.jsx)("img",Object(r.a)({onLoad:z,ref:m,src:l||(null===i||void 0===i||null===(n=i.__image_link__)||void 0===n?void 0:n[o]),alt:o},O))]})},j=function(e){var t={},n="",a=0,c=0;return e.split("\n").map((function(e){if(e.includes("$START"))n=e.substring(6).trim().split("|")[0],t[n]=[],e.substring(6).trim().split("|")[1]&&(t.__global_style__=JSON.parse(e.substring(6).trim().split("|")[1])),e.substring(6).trim().split("|")[2]&&(Object.keys(t).includes("__image_link__")||(t.__image_link__={}),t.__image_link__[n]=e.substring(6).trim().split("|")[2]);else if(e.includes("$END"))n="";else if(e.includes(">>")){var l,i,o=e.substring(2),r=o.split("|")[0].split("-"),d=Object(s.a)(r,4),u=d[0],b=d[1],j=d[2],O=d[3];null===(l=t[n])||void 0===l||l.push({index:o.split("|")[2]?parseInt(o.split("|")[2]):c+a,x:parseFloat(u),y:parseFloat(b),size:parseFloat(j),width:parseFloat(O),style:JSON.parse(null===(i=o.split("|"))||void 0===i?void 0:i[1])}),c=o.split("|")[2]?parseInt(o.split("|")[2]):c,a+=1}else if(e.length>1){var m,f;if((null===(m=t[n])||void 0===m?void 0:m.length)>0)t[n][(null===(f=t[n])||void 0===f?void 0:f.length)-1].text=e}})),t},O=n(23),m=n(11),f=n(22),g=n(66),p=n(63),h=n(39),x=n(38),v=n(64),S=n(44),y=n(65),C=n(37),_="#0f0",N=function(e){var t=e.placeholder,n=e.value,c=e.onChange,l=e.className,i=void 0===l?"":l,o=Object(d.a)(e,["placeholder","value","onChange","className"]);return Object(a.jsx)(y.a,{className:"mb-3 "+i,children:Object(a.jsx)(C.a,Object(r.a)({placeholder:t,"aria-label":t,"aria-describedby":"basic-addon1",onChange:function(e){return c(e.target.value)},value:n},o))})};function k(e,t,n){var a=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,t);else{var c=document.createElement("a"),l=URL.createObjectURL(a);c.href=l,c.download=t,document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(l)}),0)}}var I=function(e){return function(t){var n=t.target.files;if(FileReader&&n&&n.length){var a=new FileReader;a.onload=function(){return e(a)},a.readAsDataURL(n[0])}}},w=function(e){return function(t){var n=t.target.files;if(FileReader&&n&&n.length){var a=new FileReader;a.onload=function(){return e(a)},a.readAsText(n[0])}}},L=function(e){var t=e.options,n=e.title,c=e.onChange,l=e.defaultValue,i=Object(d.a)(e,["options","title","onChange","defaultValue"]);return Object(a.jsxs)(g.a.Control,Object(r.a)(Object(r.a)({},i),{},{onChange:c,as:"select",className:"mr-sm-2",value:l,custom:!0,children:[Object(a.jsx)("option",{value:"none",children:n||"Choose..."}),t.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}))},R={bgc:"background-color",bg:"background",p:"padding",pb:"paddingBottom",pt:"paddingTop",pl:"paddingLeft",pr:"paddingRight",m:"margin",mb:"marginBottom",mt:"marginTop",ml:"marginLeft",mr:"marginRight",bd:"border",bdw:"borderWidth",bdst:"borderStyle",bdsp:"borderSpacing",bdb:"borderBottom",bdt:"borderTop",bdl:"borderLeft",bdr:"borderRight",bdrd:"borderRadius",bdbrd:"borderBottomRadius",bdtrd:"borderTopRadius",bdlrd:"borderLeftRadius",bdrrd:"borderRightRadius",bdblrd:"borderBottomLeftRadius",bdtlrd:"borderTopLeftRadius",bdtrrd:"borderTopRightRadius",bdbrrd:"borderBottomRightRadius",bdbst:"borderBottomStyle",bdtst:"borderTopStyle",bdlst:"borderLeftStyle",bdrst:"borderRightStyle",bdbw:"borderBottomWidith",bdtw:"borderTopWidith",bdlw:"borderLeftWidith",bdrw:"borderRightWidith"},T=function(e){var t,n,l,i=e.sub,o=e.setSub,d=e.page,u=e.setPage,b=e.setImage,y=e.image,C=e.textIndexselected,T=Object(c.useState)(d||"page1"),F=Object(s.a)(T,2),P=F[0],z=F[1],E=Object(c.useState)(!1),B=Object(s.a)(E,2),G=B[0],J=B[1],M=Object(c.useState)(void 0!==C?C:1),A=Object(s.a)(M,2),D=A[0],W=A[1],Y=Object(c.useState)(0),X=Object(s.a)(Y,2),U=X[0],V=X[1],$=Object(c.useState)(0),H=Object(s.a)($,2),q=H[0],K=H[1],Q=Object(c.useState)(0),Z=Object(s.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(0),ae=Object(s.a)(ne,2),ce=ae[0],le=ae[1],ie=Object(c.useState)(""),oe=Object(s.a)(ie,2),re=oe[0],se=oe[1],de=Object(c.useState)(!0),ue=Object(s.a)(de,2),be=ue[0],je=ue[1],Oe=Object(c.useState)({}),me=Object(s.a)(Oe,2),fe=me[0],ge=me[1],pe=Object(c.useState)(""),he=Object(s.a)(pe,2),xe=he[0],ve=he[1],Se=Object(c.useState)(""),ye=Object(s.a)(Se,2),Ce=ye[0],_e=ye[1],Ne=Object(c.useState)("sub"),ke=Object(s.a)(Ne,2),Ie=ke[0],we=ke[1],Le=Object(c.useState)(100),Re=Object(s.a)(Le,2),Te=Re[0],Fe=Re[1],Pe=Object(c.useState)(!1),ze=Object(s.a)(Pe,2),Ee=ze[0],Be=ze[1],Ge=Object(c.useState)(!1),Je=Object(s.a)(Ge,2),Me=Je[0],Ae=Je[1],De=Object(c.useState)((null===(t=i["".concat(P)])||void 0===t?void 0:t.reduce((function(e,t){return t.index>e?t.index:e}),0))+1),We=Object(s.a)(De,2),Ye=We[0],Xe=We[1];Object(c.useEffect)((function(){!function(){if(setEditStyles(Object(m.a)({},P,Object(m.a)({},D,{border:"1px solid #0f0"}))),Object.keys(i).includes(P))try{o((function(e){var t;return Object(r.a)(Object(r.a)({},e),{},Object(m.a)({},P,Object(O.a)(null===(t=e[P])||void 0===t?void 0:t.map((function(e){return e.index===parseInt(String(D))?Object(r.a)(Object(r.a)({},e),{},{x:parseFloat(U),y:parseFloat(q),width:parseFloat(ee),size:parseFloat(ce),text:re,style:Object(r.a)({},fe)}):e})))))}))}catch(e){console.log(e)}}()}),[U,q,ee,ce,re,fe,d]);var Ue=function(e){if(P){var t,n=null===(t=(e||i)[P])||void 0===t?void 0:t.find((function(e){return e.index===parseInt(String(D))}));V((function(e){return(null===n||void 0===n?void 0:n.x)||e})),K((function(e){return(null===n||void 0===n?void 0:n.y)||e})),te((function(e){return(null===n||void 0===n?void 0:n.width)||e})),le((function(e){return(null===n||void 0===n?void 0:n.size)||e})),se((null===n||void 0===n?void 0:n.text)||""),ge((function(e){return(null===n||void 0===n?void 0:n.style)?Object(r.a)({},null===n||void 0===n?void 0:n.style):Object(r.a)({},e)}))}};return Object(c.useEffect)((function(){Ue()}),[D,P]),Object(c.useEffect)((function(){var e;J(!Object.keys(i).includes(P)),Object.keys(i).includes(P)&&u(P),Xe((null===(e=i[P])||void 0===e?void 0:e.reduce((function(e,t){var n=t.index;return n>e?n:e}),0))+1)}),[P]),Object(c.useEffect)((function(){void 0!==C&&W(C)}),[C]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("configs")||"{}");(null===e||void 0===e?void 0:e.maxTextSize)&&Fe(e.maxTextSize)}),[]),Object(a.jsxs)(g.a,{style:{position:"fixed",width:"500px",left:0,overflowY:"auto",overflowX:"hidden",zIndex:50},children:[Object(a.jsxs)("div",{className:"form-check form-switch mr-0",children:[Object(a.jsx)("input",{className:"form-check-input",type:"checkbox",onClick:function(){return je((function(e){return!e}))},id:"flexSwitchCheckChecked",checked:be}),Object(a.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckChecked",children:"Settings"})]}),be&&Object(a.jsxs)("div",{className:"col-12",children:[Object(a.jsxs)(p.a,{className:"mb-2",children:[Object(a.jsxs)(g.a.Group,{className:" col-4 mb-0",controlId:"subtitle-file",children:[Object(a.jsx)(g.a.Label,{className:"btn btn-primary",children:"Load Image"}),Object(a.jsx)(g.a.Control,{readOnly:!0,onChange:I((function(e){localStorage.setItem("lastImage",String(e.result)),b(String(e.result))})),type:"file",style:{visibility:"hidden",height:"0px"},placeholder:"Image"})]}),Object(a.jsxs)(g.a.Group,{className:" col-4 mb-0",controlId:"image-file",children:[Object(a.jsx)(g.a.Label,{className:"btn btn-primary",children:"Load SubTitle"}),Object(a.jsx)(g.a.Control,{readOnly:!0,onChange:w((function(e){var t;localStorage.setItem("lastPSRT",String(e.result));var n=j(String(e.result));o(n),Xe((null===(t=n[P])||void 0===t?void 0:t.reduce((function(e,t){var n=t.index;return n>e?n:e}),0))+1),Ue(n)})),type:"file",style:{visibility:"hidden",height:"0px"},placeholder:"Image"})]}),Object(a.jsx)(h.a,{className:" col-2",onClick:function(){o({page1:[]}),z("page1"),W(0),Xe(0)},variant:"danger",children:"Clear All"}),Object(a.jsx)(N,{className:"mt-2 col-12",value:(null===y||void 0===y?void 0:y.includes("base64"))?"File":y,placeholder:"Image Link",onChange:function(e){b((function(t){return"File"===e?t:(n=P,a=e,o((function(e){return Object(r.a)(Object(r.a)({},e),{},{__image_link__:Object(r.a)(Object(r.a)({},null===e||void 0===e?void 0:e.__image_link__),{},Object(m.a)({},n,a))})})),e);var n,a}))}})]}),Object(a.jsxs)(p.a,{className:"col-12",style:{alignItems:"flex-end"},children:[Object(a.jsxs)(g.a.Group,{className:" col-3 mb-0",controlId:"formPage",children:[Object(a.jsx)(g.a.Label,{children:"Page"}),Ee?Object(a.jsx)(g.a.Control,{value:P,onChange:function(e){return z(e.target.value)},placeholder:"Page"}):Object(a.jsx)(L,{defaultValue:P,options:Object.keys(i).filter((function(e){return"__"!==e.slice(0,2)})).map((function(e){return{id:e,name:e.replaceAll("_"," ")}})),title:"Pages",onChange:function(e){return z(e.target.value)}})]}),Object(a.jsxs)(x.a,{className:"col-3",children:[Ee&&Object(a.jsx)(h.a,{className:"col-12 mb-1",onClick:function(){return Be(!1)},variant:"danger",children:"cancel"}),Object(a.jsx)(h.a,{className:"col-12",onClick:function(e){return Ee?void(G&&(o(Object(r.a)(Object(r.a)({},i),{},Object(m.a)({},P,[{index:parseInt(String(0)),x:parseFloat(String(U)),y:parseFloat(String(q)),width:parseFloat(String(ee)),size:parseFloat(String(ce)),text:re,style:Object(r.a)(Object(r.a)({},fe),{},{backgroundColor:_})}]))),Ue(i),W(0),Xe(1),u(P),Ue(),Be(!1))):Be(!0)},variant:"success",children:Ee?"confirm":Object(a.jsx)("b",{className:"fs-1 m-0 p-0",children:"+"})})]}),Object(a.jsxs)(g.a.Group,{className:" col-3 mb-0",controlId:"formPage",children:[Object(a.jsx)(g.a.Label,{children:"Index"}),Me?Object(a.jsx)(g.a.Control,{value:D,onChange:function(e){return W(e.target.value)},placeholder:"Index"}):Object(a.jsx)(L,{defaultValue:D,options:(null===(n=i[String(P)])||void 0===n?void 0:n.map((function(e,t){return{id:t,name:t}})))||[],title:"Indexes",onChange:function(e){return W(e.target.value)}})]}),Object(a.jsxs)(x.a,{className:"col-3",children:[Me&&Object(a.jsx)(h.a,{className:"col-12 mb-1 mr-0",onClick:function(){return Ae(!1)},variant:"danger",children:"cancel"}),Object(a.jsx)(h.a,{className:"col-12",onClick:function(e){W(i[P].length),Me?(o((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(m.a)({},P,[].concat(Object(O.a)(e[P]),[{index:parseInt(String(Ye)),x:parseFloat(String(U)),y:parseFloat(String(q)),width:parseFloat(String(ee)),size:parseFloat(String(ce)),text:re,style:Object(r.a)(Object(r.a)({},fe),{},{backgroundColor:_})}])))})),W(Ye),Ae(!1),Xe((function(e){return e+1}))):Ae(!0)},variant:"success",children:Me?"confirm":Object(a.jsx)("b",{className:"fs-1 m-0 p-0",children:"+"})})]})]}),Object(a.jsxs)(p.a,{className:"col-12 justify-content-between",children:[Object(a.jsx)(h.a,{className:"col-5 mb-1 mt-3 ml-3 mr-0",onClick:function(){return function(){if(!G){var e="";o(Object(r.a)({},Object.keys(i).filter((function(e){return e!==P})).reduce((function(t,n){return e=n,Object(r.a)(Object(r.a)({},t),{},Object(m.a)({},n,"__"===n.slice(0,2)?i[n]:Object(O.a)(i[n])))}),{}))),z(e),Ue(i),W(0),Xe(1),u(P),Ue(),Be(!1)}}()},variant:"danger",children:"Remove Page"}),Object(a.jsx)(h.a,{className:"col-5 mb-1 mt-3 ml-4 mr-3",onClick:function(){return o((function(e){var t,n,a=Object(O.a)(e[P].filter((function(e){return e.index!==D})));return W(null===(t=a[a.length-1])||void 0===t?void 0:t.index),Xe(null===(n=a[a.length-1])||void 0===n?void 0:n.index),Object(r.a)(Object(r.a)({},e),{},Object(m.a)({},P,a))})),void Ae(!1)},variant:"danger",children:"Remove Index"})]}),Object(a.jsxs)(p.a,{className:" col-12 p-0 mt-5 mb-5 ml-2 mr-2",children:[Object(a.jsxs)(x.a,{className:" col-2 p-0 m-0",children:[Object(a.jsxs)(g.a.Group,{className:" col-12 p-0 m-0",controlId:"formX",children:[Object(a.jsx)(g.a.Label,{children:"X axis"}),Object(a.jsx)(g.a.Control,{value:U,onChange:function(e){return V(e.target.value)},type:"number",min:"0",max:"100",step:"0.1",placeholder:"X"})]}),Object(a.jsxs)(g.a.Group,{className:" col-12 p-0 m-0",controlId:"formY",children:[Object(a.jsx)(g.a.Label,{children:"Y axis"}),Object(a.jsx)(g.a.Control,{value:q,onChange:function(e){return K(e.target.value)},type:"number",min:"0",max:"100",step:"0.1",placeholder:"Y"})]})]}),Object(a.jsx)(x.a,{className:" col-8 p-0 m-0",children:Object(a.jsxs)(p.a,{className:" col-12 justify-content-center m-0",children:[Object(a.jsx)(x.a,{className:" col-1 justify-content-center m-0 pt-3",children:Object(a.jsx)(f.a,{axis:"y",y:q||0,xstep:.1,onChange:function(e){var t=e.y;return K(t.toPrecision(2))}})}),Object(a.jsxs)(x.a,{className:" col-8 p-0 mr-1 ml-2",children:[Object(a.jsx)(f.a,{className:" mb-2",axis:"x",xstep:.1,x:U||0,onChange:function(e){var t=e.x;return V(t.toPrecision(2))}}),Object(a.jsx)("textarea",{value:re,onChange:function(e){return se(e.target.value)},className:" col-12",style:{height:"80%"}}),Object(a.jsx)(f.a,{axis:"x",xstep:.1,x:ee||0,onChange:function(e){var t=e.x;return te(t.toPrecision(2))}})]}),Object(a.jsx)(x.a,{className:" col-1 m-0 pt-3",children:Object(a.jsx)(f.a,{axis:"y",ystep:.1,ymax:Te,y:ce||0,onChange:function(e){var t=e.y;return le(t.toPrecision(2))}})})]})}),Object(a.jsxs)(x.a,{className:" col-2 p-0 m-0",children:[Object(a.jsxs)(g.a.Group,{className:"col-12 p-0 m-0",controlId:"formY",children:[Object(a.jsx)(g.a.Label,{children:"Size"}),Object(a.jsx)(g.a.Control,{value:ce,onChange:function(e){return le(e.target.value)},type:"number",min:"0",max:"100",step:"0.1",placeholder:"size"})]}),Object(a.jsxs)(g.a.Group,{className:" col-12 p-0 m-0",controlId:"formWidth",children:[Object(a.jsx)(g.a.Label,{children:"Width"}),Object(a.jsx)(g.a.Control,{value:ee,onChange:function(e){return te(e.target.value)},type:"number",min:"0",max:"100",step:"0.1",placeholder:"width"})]})]})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a.Label,{className:"col-3 mb-4 ml-4",children:"Max Text Size"}),Object(a.jsx)(g.a.Control,{className:"col-2 mb-4 ",value:Te,onChange:function(e){Fe(e.target.value);var t=JSON.parse(localStorage.getItem("configs")||"{}");localStorage.setItem("configs",JSON.stringify(Object(r.a)(Object(r.a)({},t),{},{maxTextSize:e.target.value})))},type:"number",min:"0",max:"100",step:"0.1",placeholder:"Max Text Size"}),Object.keys(fe).length>0&&Object(a.jsx)(v.a,{className:"col-4 mb-4",variant:"secondary",id:"dropdown-basic-button",title:"Styles",children:Object.keys(fe).length>0&&(null===(l=Object.keys(fe))||void 0===l?void 0:l.map((function(e){return Object(a.jsx)(S.a.Item,{onClick:function(){return function(e){_e(fe[e]),ve(e);var t=Object(r.a)({},fe);delete t[e],ge(t)}(e)},children:"".concat(e.replaceAll("_"," ")," : ").concat(fe[e])},e)})))})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(g.a.Group,{className:" col-4",controlId:"formKeyStyle",children:Object(a.jsx)(g.a.Control,{value:xe,onChange:function(e){return ve(e.target.value)},type:"text",placeholder:"key"})}),Object(a.jsx)(g.a.Group,{className:" col-4",controlId:"formValueStyle",children:Object(a.jsx)(g.a.Control,{value:Ce,onChange:function(e){return _e(e.target.value)},type:"text",placeholder:"value"})}),Object(a.jsx)(h.a,{style:{height:"100%"},className:"p-2 col-4 btn-secondary",onClick:function(){ge((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(m.a)({},R[xe]||xe,Ce))})),_e(""),ve("")},children:"Add Style"})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(g.a.Group,{className:" col-6",controlId:"formDownload",children:[Object(a.jsx)(g.a.Label,{children:"Download Subtitle"}),Object(a.jsx)(g.a.Control,{value:Ie,onChange:function(e){return we(e.target.value)},placeholder:"Download Subtitle"})]}),Object(a.jsxs)(x.a,{className:" col-6",children:[Object(a.jsx)(h.a,{className:" col-12 mb-2",disabled:!Ie,onClick:function(){return k(function(e){var t="";return Object.keys(e).filter((function(e){return!e.includes("__")})).map((function(n){var a;t+="$START ".concat(n,"  |  ").concat(JSON.stringify((null===e||void 0===e?void 0:e.__global_style__)||{}),"  |  ").concat(null===e||void 0===e?void 0:e.__image_link__[n],"\n"),null===(a=e[n])||void 0===a||a.map((function(e,n){var a=e.x,c=e.y,l=e.size,i=e.width,o=e.text,r=e.style,s=e.index;t+=">>".concat(a,"-").concat(c,"-").concat(l,"-").concat(i,"  |  ").concat(JSON.stringify(r),"  |  ").concat(s||n,"\n"),t+="".concat(o,"\n\n")})),t+="$END ".concat(n,"\n\n")})),t}(i),"".concat(Ie,".psrt"),"*.psrt")},variant:"primary",children:"(.psrt)"}),Object(a.jsx)(h.a,{className:" col-12",disabled:!Ie,onClick:function(){return k(JSON.stringify(i),"".concat(Ie,".json"),"*.json")},variant:"primary",children:"(.json)"})]})]})]})]})};n(57);var F=function(){var e=Object(c.useState)(localStorage.getItem("lastImage")||""),t=Object(s.a)(e,2),n=t[0],l=t[1],i=Object(c.useState)({}),o=Object(s.a)(i,2),d=o[0],u=o[1],O=Object(c.useState)(!1),m=Object(s.a)(O,2),f=m[0],g=m[1],p=Object(c.useState)(0),h=Object(s.a)(p,2),x=h[0],v=h[1],S=Object(c.useState)(0),y=Object(s.a)(S,2),C=y[0],_=y[1],N=Object(c.useState)(0),k=Object(s.a)(N,2),I=k[0],w=k[1],L=Object(c.useState)(localStorage.getItem("lastPSRT")?j(localStorage.getItem("lastPSRT")||""):function(e){var t={},n=new XMLHttpRequest;return n.open("GET",e,!1),n.onreadystatechange=function(){4===n.readyState&&(200!==n.status&&0!=n.status||(t=Object(r.a)({},j(n.responseText))))},n.send(null),t}("assets/kaifuku_32.psrt")),R=Object(s.a)(L,2),F=R[0],P=R[1],z=Object(c.useState)(localStorage.getItem("lastPage")||"page1"),E=Object(s.a)(z,2),B=E[0],G=E[1],J=function(e){e.preventDefault();e.pageX,e.target.offsetLeft,e.pageY,e.target.offsetTop;g(!0),_((e.clientX-e.target.offsetLeft)/e.target.offsetWidth*100),e.target.offsetTop>=e.clientY&&w((e.clientY-e.target.offsetTop)/e.target.clientHeight*100)},M=Object(c.useState)({}),A=Object(s.a)(M,2),D=A[0],W=A[1];return Object(c.useEffect)((function(){var e,t;(localStorage.setItem("lastPage",B),null===F||void 0===F||null===(e=F.__image_link__)||void 0===e?void 0:e[B])&&l(null===F||void 0===F||null===(t=F.__image_link__)||void 0===t?void 0:t[B])}),[B]),Object(c.useEffect)((function(){localStorage.setItem("lastImage",n)}),[n]),Object(a.jsxs)("div",{className:"App container mb-6",style:{display:"flex"},children:[Object(a.jsx)(T,{sub:F,setSub:P,page:B,setPage:G,setImage:l,image:n,setImageStyle:u,editStyles:D,setEditStyles:W,mouse:{x:C,y:I},setMouseImageClick:g,mouseImageClick:f,textIndexselected:x}),Object(a.jsxs)("div",{className:"mb-5 mt-5 ml-5 pl-5 justify-content-end col",children:[Object(a.jsx)(b,{editStyles:D,style:Object(r.a)({width:"600px",border:"1px solid"},d),imgPath:n,page:B,subtitle:F,onClick:J,onTextClick:function(e,t){v(e)}}),Object(a.jsx)(b,{style:Object(r.a)({width:"1000px",border:"1px solid"},d),editStyles:D,imgPath:n,page:B,subtitle:F,onClick:J})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),l(e),i(e)}))};o.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),P()}},[[58,1,2]]]);
//# sourceMappingURL=main.32210cae.chunk.js.map