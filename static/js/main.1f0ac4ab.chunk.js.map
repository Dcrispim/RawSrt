{"version":3,"sources":["cmponents/ImageSubTittle.tsx","service/subtitle.ts","cmponents/EditSub.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SubTitle","text","x","y","width","size","style","id","globalStyle","editStyles","onClick","position","top","left","fontSize","ImageSubTittle","imgPath","subtitle","page","onTextClick","props","imgRef","useRef","useState","subY","setSubY","subX","setSubX","subH","setSubH","subW","setSubW","setMouseDown","updateSubs","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","useEffect","window","addEventListener","removeEventListener","onMouseDown","e","onMouseUp","onMouseLeave","onMouseMove","zIndex","height","sort","a","b","index","map","__global_style__","onLoad","ref","src","__image_link__","alt","parsePSRTToObject","out","currentPage","i","lastIndex","split","line","includes","substring","trim","JSON","parse","Object","keys","clearLine","s","w","push","parseInt","parseFloat","length","BG_SELECT_COLOR","InputSettings","placeholder","value","onChange","className","otherProps","InputGroup","FormControl","aria-label","aria-describedby","evt","target","download","data","filename","type","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","getLocalImage","callback","files","FileReader","fr","onload","readAsDataURL","getLocalSubtitle","readAsText","Select","options","title","defaultValue","Form","Control","as","custom","option","name","abbrevStyles","bgc","bg","p","pb","pt","pl","pr","m","mb","mt","ml","mr","bd","bdw","bdst","bdsp","bdb","bdt","bdl","bdr","bdrd","bdbrd","bdtrd","bdlrd","bdrrd","bdblrd","bdtlrd","bdtrrd","bdbrrd","bdbst","bdtst","bdlst","bdrst","bdbw","bdtw","bdlw","bdrw","EditSub","sub","setSub","defaultPage","setDefaultPage","setPage","setImage","image","textIndexselected","setEditStyles","isNewPage","setIsNewPage","undefined","setIndex","setX","setY","setWidth","setSize","subText","setSubText","show","setShow","setStyle","keyStyle","setKeyStyle","valueStyle","setValueStyle","dowloadFileName","setDowloadFileName","maxTextSize","setMaxTextSize","isEditingPage","setIsEditingPage","isEditingIndex","setIsEditingIndex","reduce","c","setLastIndex","border","txt","String","error","console","log","handleChangeSub","updateSubInfos","newSub","find","oldX","oldY","oldW","oldS","old","config","localStorage","getItem","overflowY","overflowX","checked","htmlFor","Row","Group","controlId","Label","readOnly","setItem","result","visibility","Button","page1","variant","d","pg","link","dt","alignItems","filter","subProp","slice","replaceAll","Col","backgroundColor","_lastPage","removePage","newPagesubs","min","max","step","axis","xstep","toPrecision","ystep","ymax","stringify","DropdownButton","styleProp","Dropdown","Item","key","newStyles","handleRemoveStyle","disabled","parseObjectToPSRT","App","imageBlob","setImageBlob","imageStyle","setImageStyle","mouseImageClick","setMouseImageClick","setTextIndexselected","mouseX","setMouseX","mouseY","setMouseY","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","send","parsePSRTFileToObject","subs","setSubs","setCurrentPage","handleMouseClick","preventDefault","pageX","pageY","clientX","clientY","clientHeight","display","mouse","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f0ac4ab.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { parsePSRTFileToObject } from \"../service/subtitle\";\n\n// import { Container } from './styles';\n\nexport type ImageStyle = {\n  [page: string]: {\n    [id: number]: React.CSSProperties;\n  };\n};\n\nexport type TypeSub = {\n  __global_style__?: React.CSSProperties;\n  __image_link__?: {\n    [page: string]: string;\n  };\n  [page: string]: {\n    x: number;\n    y: number;\n    width: number;\n    size: number;\n    text: string;\n    index: number;\n    style: React.CSSProperties;\n  }[];\n};\n\nconst ImageSubTittle: React.FC<{\n  imgPath: string;\n  subtitle: TypeSub;\n  page: string;\n  editStyles?: ImageStyle;\n  style?: React.CSSProperties;\n  onClick?: (e: React.MouseEvent<HTMLImageElement, MouseEvent>) => void;\n  onTextClick?: (\n    index: number | string,\n    e: React.MouseEvent<HTMLParagraphElement, MouseEvent>\n  ) => void;\n  [prop: string]: any;\n}> = ({\n  imgPath,\n  subtitle,\n  page,\n  editStyles,\n  onClick,\n  onTextClick,\n  ...props\n}) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [subY, setSubY] = useState<any>(0);\n  const [subX, setSubX] = useState<any>(0);\n  const [subH, setSubH] = useState<any>(0);\n  const [subW, setSubW] = useState<any>(0);\n  const [mouseDown, setMouseDown] = useState(false);\n  const updateSubs = () => {\n    setSubY(imgRef.current?.offsetTop);\n    setSubX(imgRef.current?.offsetLeft);\n    setSubH(imgRef.current?.offsetHeight);\n    setSubW(imgRef.current?.offsetWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateSubs);\n    return () => {\n      window.removeEventListener(\"resize\", updateSubs);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div\n        onMouseDown={(e) => {\n          setMouseDown(true);\n        }}\n        onMouseUp={() => {\n          setMouseDown(false);\n        }}\n        onMouseLeave={(e) => {\n          setMouseDown(false);\n        }}\n        onMouseMove={(e) => {\n          if (mouseDown) {\n            // console.log({\n            //   posY: subH - e.pageY,\n            //   subH,\n            //   posX: e.pageX - e.target.offsetLeft,\n            //   subW,\n            //   imgTop: imgRef.current?.offsetTop,\n            //   imgY: imgRef.current?.cle,\n            //   clientY: e.target.clientY,\n            //   subY\n            // });\n          }\n        }}\n        style={{\n          position: \"absolute\",\n          zIndex: 11,\n          top: subY,\n          left: subX,\n          width: subW,\n          height: subH,\n        }}\n      >\n        {subtitle[page]\n          ?.sort((a, b) => a.index - b.index)\n          .map(({ text, x, y, width, size, style, index }) => (\n            <SubTitle\n              key={index}\n              id={index}\n              text={text}\n              onClick={(e) => onTextClick?.(index, e)}\n              globalStyle={subtitle.__global_style__}\n              editStyles={editStyles?.[page]?.[index]}\n              x={x}\n              y={y}\n              width={width}\n              size={(size * subW) / 100}\n              style={style}\n            />\n          ))}\n      </div>\n      <img\n        onLoad={updateSubs}\n        ref={imgRef}\n        src={imgPath || subtitle?.__image_link__?.[page]}\n        alt={page}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst SubTitle = ({\n  text,\n  x,\n  y,\n  width,\n  size,\n  style,\n  id,\n  globalStyle,\n  editStyles,\n  onClick,\n}: {\n  text: string;\n  x: number;\n  y: number;\n  width?: number;\n  globalStyle?: React.CSSProperties;\n  editStyles?: React.CSSProperties;\n  onClick?: React.MouseEventHandler<HTMLParagraphElement> | undefined;\n  [k: string]: any;\n}) => {\n  return (\n    <p\n      onClick={onClick}\n      id={`${id}`}\n      style={{\n        position: \"absolute\",\n        top: `${y}%`,\n        left: `${x}%`,\n        width: `${width}%`,\n        fontSize: `${size}px`,\n        ...style,\n        ...globalStyle,\n        ...editStyles,\n      }}\n    >\n      {text}\n    </p>\n  );\n};\n\nexport default ImageSubTittle;\n","export const parsePSRTFileToObject = (\n  file: string\n): {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n} => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n  let rawFile = new XMLHttpRequest();\n  rawFile.open(\"GET\", file, false);\n  rawFile.onreadystatechange = function () {\n    if (rawFile.readyState === 4) {\n      if (rawFile.status === 200 || rawFile.status == 0) {\n        out = { ...parsePSRTToObject(rawFile.responseText) };\n      }\n    }\n  };\n\n  rawFile.send(null);\n\n  return out;\n};\n\nexport const parsePSRTToObject = (subtitle: string) => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n\n  let i = 0;\n  let lastIndex = 0;\n\n  subtitle.split(\"\\n\").map((line) => {\n    if (line.includes(\"$START\")) {\n      currentPage = line.substring(6).trim().split(\"|\")[0];\n      out[currentPage] = [];\n      if (line.substring(6).trim().split(\"|\")[1]) {\n        out.__global_style__ = JSON.parse(\n          line.substring(6).trim().split(\"|\")[1]\n        );\n      }\n      if (line.substring(6).trim().split(\"|\")[2]) {\n        if (!Object.keys(out).includes(\"__image_link__\")) {\n          out[\"__image_link__\"] = {};\n        }\n        out[\"__image_link__\"][currentPage] = line\n          .substring(6)\n          .trim()\n          .split(\"|\")[2];\n      }\n    } else if (line.includes(\"$END\")) {\n      currentPage = \"\";\n    } else if (line.includes(\">>\")) {\n      const clearLine = line.substring(2);\n      const [x, y, s, w] = clearLine.split(\"|\")[0].split(\"-\");\n      out[currentPage]?.push({\n        index: clearLine.split(\"|\")[2]\n          ? parseInt(clearLine.split(\"|\")[2])\n          : lastIndex + i,\n        x: parseFloat(x),\n        y: parseFloat(y),\n        size: parseFloat(s),\n        width: parseFloat(w),\n        style: JSON.parse(clearLine.split(\"|\")?.[1]),\n      });\n      lastIndex = clearLine.split(\"|\")[2]\n        ? parseInt(clearLine.split(\"|\")[2])\n        : lastIndex;\n\n      i += 1;\n    } else if (line.length > 1) {\n      if (out[currentPage]?.length > 0) {\n        out[currentPage][out[currentPage]?.length - 1].text = line;\n      }\n    }\n  });\n\n  return out;\n};\n\nexport const parseObjectToPSRT = (sub: {\n  [page: string]: {\n    x: number;\n    y: number;\n    width: number;\n    size: number;\n    text: string;\n    index: number;\n    style: React.CSSProperties;\n  }[];\n}): string => {\n  let out = \"\";\n\n  Object.keys(sub)\n    .filter((a) => !a.includes(\"__\"))\n    .map((page) => {\n      out += `$START ${page}  |  ${JSON.stringify(sub?.__global_style__ || {})}  |  ${sub?.__image_link__[page]}\\n`;\n      sub[page]?.map(({ x, y, size, width, text, style, index }, i) => {\n        out += `>>${x}-${y}-${size}-${width}  |  ${JSON.stringify(style)}  |  ${\n          index || i\n        }\\n`;\n        out += `${text}\\n\\n`;\n      });\n      out += `$END ${page}\\n\\n`;\n    });\n  return out;\n};\n","/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from \"react\";\nimport Slider from \"react-input-slider\";\n\nimport {\n  Form,\n  Button,\n  DropdownButton,\n  Dropdown,\n  Row,\n  Col,\n  InputGroup,\n  FormControl,\n} from \"react-bootstrap\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"../service/subtitle\";\nimport { ImageStyle, TypeSub } from \"./ImageSubTittle\";\n\nconst BG_SELECT_COLOR = \"#0f0\";\n//import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\ntype TypeUseState<T> = (a: T | ((a: T) => T)) => void;\n\nconst EditSub: React.FC<{\n  sub: TypeSub;\n  setSub: TypeUseState<TypeSub>;\n  page?: string;\n  setPage: TypeUseState<string>;\n  setImage: TypeUseState<string>;\n  image?: string;\n  setImageStyle: TypeUseState<React.CSSProperties | string>;\n  setEditStyles: TypeUseState<ImageStyle>;\n  mouseImageClick?: boolean;\n  setMouseImageClick?: React.Dispatch<React.SetStateAction<boolean>>;\n  mouse?: { x: number; y: number };\n  textIndexselected?: number | string;\n}> = ({\n  sub,\n  setSub,\n  page: defaultPage,\n  setPage: setDefaultPage,\n  setImage,\n  image,\n  textIndexselected,\n  setEditStyles\n}) => {\n  const [page, setPage] = useState(defaultPage || \"page1\");\n  const [isNewPage, setIsNewPage] = useState(false);\n  const [index, setIndex] = useState<string | number>(\n    textIndexselected !== undefined ? textIndexselected : 1\n  );\n  const [x, setX] = useState<string | number>(0);\n  const [y, setY] = useState<string | number>(0);\n  const [width, setWidth] = useState<string | number>(0);\n  const [size, setSize] = useState<string | number>(0);\n  const [subText, setSubText] = useState(\"\");\n  const [show, setShow] = useState(true);\n  const [style, setStyle] = useState<{ [cssAttr: string]: string }>({});\n  const [keyStyle, setKeyStyle] = useState<string>(\"\");\n  const [valueStyle, setValueStyle] = useState<string>(\"\");\n  const [dowloadFileName, setDowloadFileName] = useState(\"sub\");\n  const [maxTextSize, setMaxTextSize] = useState(100);\n  const [isEditingPage, setIsEditingPage] = useState(false);\n  const [isEditingIndex, setIsEditingIndex] = useState(false);\n\n  const [lastIndex, setLastIndex] = useState(\n    sub[`${page}`]?.reduce((p, c) => (c.index > p ? c.index : p), 0) + 1\n  );\n\n  const handleChangeSub = () => {\n    setEditStyles({\n      [page]: {\n        [index]: {\n          border: \"1px solid \" + BG_SELECT_COLOR,\n        },\n      },\n    });\n    if (Object.keys(sub).includes(page)) {\n      try {\n        setSub((data) => ({\n          ...data,\n          [page]: [\n            ...data[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                  },\n                };\n              } else {\n                return txt;\n              }\n            }),\n          ],\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    //console.log(sub);\n    handleChangeSub();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [x, y, width, size, subText, style, defaultPage]);\n\n  const updateSubInfos = (newSub?: TypeSub) => {\n    const _sub = newSub || sub;\n    if (page) {\n      const text = _sub[page]?.find((a) => a.index === parseInt(String(index)));\n      setX((oldX) => text?.x || oldX);\n      setY((oldY) => text?.y || oldY);\n      setWidth((oldW) => text?.width || oldW);\n      setSize((oldS) => text?.size || oldS);\n      setSubText(text?.text || \"\");\n      setStyle((old) => (text?.style ? { ...text?.style } : { ...old }));\n    }\n  };\n\n  const updateImageLink = (pg: string, link: string) => {\n    setSub((dt) => ({\n      ...dt,\n      __image_link__: {\n        ...dt?.__image_link__,\n        [pg]: link,\n      },\n    }));\n  };\n  const addNewText = () => {\n    setSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n            backgroundColor: BG_SELECT_COLOR,\n          },\n        },\n      ],\n    }));\n\n    setIndex(lastIndex);\n    setIsEditingIndex(false);\n    setLastIndex((old) => old + 1);\n  };\n\n  const removeText = () => {\n    setSub((data) => {\n      const newPagesubs = [...data[page].filter((txt) => txt.index !== index)];\n      setIndex(newPagesubs[newPagesubs.length - 1]?.index);\n      setLastIndex(newPagesubs[newPagesubs.length - 1]?.index);\n      return {\n        ...data,\n        [page]: newPagesubs,\n      };\n    });\n\n    setIsEditingIndex(false);\n  };\n\n  const addNewPage = () => {\n    if (isNewPage) {\n      setSub({\n        ...sub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n              backgroundColor: BG_SELECT_COLOR,\n            },\n          },\n        ],\n      });\n      updateSubInfos(sub);\n\n      setIndex(0);\n      setLastIndex(1);\n      setDefaultPage(page);\n      updateSubInfos();\n      setIsEditingPage(false);\n    }\n  };\n\n  const removePage = () => {\n    if (!isNewPage) {\n      let _lastPage = \"\";\n      setSub({\n        ...Object.keys(sub)\n          .filter((pg) => pg !== page)\n          .reduce((newSub, pg) => {\n            _lastPage = pg;\n            return {\n              ...newSub,\n              [pg]: pg.slice(0, 2) === \"__\" ? sub[pg] : [...sub[pg]],\n            };\n          }, {}),\n      });\n      setPage(_lastPage);\n      updateSubInfos(sub);\n\n      setIndex(0);\n      setLastIndex(1);\n      setDefaultPage(page);\n      updateSubInfos();\n      setIsEditingPage(false);\n    }\n  };\n\n  const updateSubtitleFile = (fr: FileReader) => {\n    localStorage.setItem(\"lastPSRT\", String(fr.result));\n    const newSub: TypeSub = parsePSRTToObject(String(fr.result));\n    setSub(newSub);\n    setLastIndex(\n      newSub[page]?.reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n    updateSubInfos(newSub);\n  };\n  const showImage = (fr: FileReader) => {\n    localStorage.setItem(\"lastImage\", String(fr.result));\n    setImage(String(fr.result));\n  };\n\n  const handleAddStyle = () => {\n    setStyle((old) => ({\n      ...old,\n      [abbrevStyles[keyStyle] || keyStyle]: valueStyle,\n    }));\n    setValueStyle(\"\");\n    setKeyStyle(\"\");\n  };\n\n  const handleRemoveStyle = (key: string) => {\n    setValueStyle(style[key]);\n    setKeyStyle(key);\n    const newStyles = { ...style };\n\n    delete newStyles[key];\n\n    setStyle(newStyles);\n  };\n\n  const handleClearAll = () => {\n    const newSub = {\n      page1: [],\n    };\n\n    setSub(newSub);\n    setPage(\"page1\");\n    setIndex(0);\n    setLastIndex(0);\n  };\n\n  useEffect(() => {\n    updateSubInfos();\n  }, [index, page]);\n\n  useEffect(() => {\n    setIsNewPage(!Object.keys(sub).includes(page));\n    Object.keys(sub).includes(page) && setDefaultPage(page);\n    setLastIndex(\n      sub[page]?.reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n  }, [page]);\n\n  // useEffect(() => {\n  //   if (mouseImageClick) {\n  //     setX((prevX) => (mouse?.x !== undefined ? mouse?.x : prevX));\n  //     setY((prevY) => (mouse?.y !== undefined ? mouse?.y : prevY));\n  //     setMouseImageClick && setMouseImageClick(false);\n  //   }\n  // }, [mouseImageClick, mouse, setMouseImageClick]);\n\n  useEffect(() => {\n    textIndexselected !== undefined && setIndex(textIndexselected);\n  }, [textIndexselected]);\n\n  useEffect(() => {\n    const config = JSON.parse(localStorage.getItem(\"configs\") || \"{}\");\n    if (config?.maxTextSize) {\n      setMaxTextSize(config.maxTextSize);\n    }\n  }, []);\n\n  return (\n    <Form\n      style={{\n        position: \"fixed\",\n        width: \"500px\",\n        left: 0,\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        zIndex: 50,\n      }}\n    >\n      <div className={`form-check form-switch mr-0`}>\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          onClick={() => setShow((a) => !a)}\n          id=\"flexSwitchCheckChecked\"\n          checked={show}\n        />\n        <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckChecked\">\n          Settings\n        </label>\n      </div>\n      {show && (\n        <div className=\"col-12\">\n          <Row className=\"mb-2\">\n            <Form.Group className=\" col-4 mb-0\" controlId=\"subtitle-file\">\n              <Form.Label className=\"btn btn-primary\">Load Image</Form.Label>\n              <Form.Control\n                readOnly\n                onChange={getLocalImage(showImage)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-4 mb-0\" controlId=\"image-file\">\n              <Form.Label className=\"btn btn-primary\">Load SubTitle</Form.Label>\n              <Form.Control\n                readOnly\n                onChange={getLocalSubtitle(updateSubtitleFile)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={handleClearAll}\n              variant=\"danger\"\n            >\n              Clear All\n            </Button>\n            <InputSettings\n              className=\"mt-2 col-12\"\n              value={image?.includes(\"base64\") ? \"File\" : image}\n              placeholder=\"Image Link\"\n              onChange={(d: string) => {\n                setImage((data) => {\n                  if (d === \"File\") {\n                    return data;\n                  } else {\n                    updateImageLink(page, d);\n                    return d;\n                  }\n                });\n              }}\n            />\n          </Row>\n\n          <Row className=\"col-12\" style={{ alignItems: \"flex-end\" }}>\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formPage\">\n              <Form.Label>Page</Form.Label>\n              {isEditingPage ? (\n                <Form.Control\n                  value={page}\n                  onChange={(e) => setPage(e.target.value)}\n                  placeholder=\"Page\"\n                />\n              ) : (\n                <Select\n                  defaultValue={page}\n                  options={Object.keys(sub)\n                    .filter((subProp) => subProp.slice(0, 2) !== \"__\")\n                    .map((subProp) => {\n                      return {\n                        id: subProp,\n                        name: subProp.replaceAll(\"_\", \" \"),\n                      };\n                    })}\n                  title=\"Pages\"\n                  onChange={(e) => setPage(e.target.value)}\n                />\n              )}\n            </Form.Group>\n            <Col className=\"col-3\">\n              {isEditingPage && (\n                <Button\n                  className=\"col-12 mb-1\"\n                  onClick={() => setIsEditingPage(false)}\n                  variant=\"danger\"\n                >\n                  cancel\n                </Button>\n              )}\n\n              <Button\n                className=\"col-12\"\n                onClick={(e) =>\n                  isEditingPage ? addNewPage() : setIsEditingPage(true)\n                }\n                variant={\"success\"}\n              >\n                {isEditingPage ? (\n                  \"confirm\"\n                ) : (\n                  <b className=\"fs-1 m-0 p-0\">{\"\\u002B\"}</b>\n                )}\n              </Button>\n            </Col>\n\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formPage\">\n              <Form.Label>Index</Form.Label>\n              {isEditingIndex ? (\n                <Form.Control\n                  value={index}\n                  onChange={(e) => setIndex(e.target.value)}\n                  placeholder=\"Index\"\n                />\n              ) : (\n                <Select\n                  defaultValue={index}\n                  options={\n                    sub[String(page)]?.map((subProp, i) => {\n                      return {\n                        id: i,\n                        name: i,\n                      };\n                    }) || []\n                  }\n                  title=\"Indexes\"\n                  onChange={(e) => setIndex(e.target.value)}\n                />\n              )}\n            </Form.Group>\n            <Col className=\"col-3\">\n              {isEditingIndex && (\n                <Button\n                  className=\"col-12 mb-1 mr-0\"\n                  onClick={() => setIsEditingIndex(false)}\n                  variant=\"danger\"\n                >\n                  cancel\n                </Button>\n              )}\n              <Button\n                className=\"col-12\"\n                onClick={(e) => {\n                  setIndex(sub[page].length);\n                  isEditingIndex ? addNewText() : setIsEditingIndex(true);\n                }}\n                variant={\"success\"}\n              >\n                {isEditingIndex ? (\n                  \"confirm\"\n                ) : (\n                  <b className=\"fs-1 m-0 p-0\">{\"\\u002B\"}</b>\n                )}\n              </Button>\n            </Col>\n          </Row>\n          <Row className=\"col-12 justify-content-between\">\n            <Button\n              className=\"col-5 mb-1 mt-3 ml-3 mr-0\"\n              onClick={() => removePage()}\n              variant=\"danger\"\n            >\n              Remove Page\n            </Button>\n\n            <Button\n              className=\"col-5 mb-1 mt-3 ml-4 mr-3\"\n              onClick={() => removeText()}\n              variant=\"danger\"\n            >\n              Remove Index\n            </Button>\n          </Row>\n          <Row className=\" col-12 p-0 mt-5 mb-5 ml-2 mr-2\">\n            <Col className=\" col-2 p-0 m-0\">\n              <Form.Group className=\" col-12 p-0 m-0\" controlId=\"formX\">\n                <Form.Label>X axis</Form.Label>\n                <Form.Control\n                  value={x}\n                  onChange={(e) => setX(e.target.value)}\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"0.1\"\n                  placeholder=\"X\"\n                />\n              </Form.Group>\n\n              <Form.Group className=\" col-12 p-0 m-0\" controlId=\"formY\">\n                <Form.Label>Y axis</Form.Label>\n                <Form.Control\n                  value={y}\n                  onChange={(e) => setY(e.target.value)}\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"0.1\"\n                  placeholder=\"Y\"\n                />\n              </Form.Group>\n            </Col>\n            <Col className=\" col-8 p-0 m-0\">\n              <Row className=\" col-12 justify-content-center m-0\">\n                <Col className=\" col-1 justify-content-center m-0 pt-3\">\n                  <Slider\n                    axis=\"y\"\n                    y={y || 0}\n                    xstep={0.1}\n                    onChange={({ y }) => setY(y.toPrecision(2))}\n                  />\n                </Col>\n\n                <Col className=\" col-8 p-0 mr-1 ml-2\">\n                  <Slider\n                    className=\" mb-2\"\n                    axis=\"x\"\n                    xstep={0.1}\n                    x={x || 0}\n                    onChange={({ x }) => setX(x.toPrecision(2))}\n                  />\n                  <textarea\n                    value={subText}\n                    onChange={(e) => setSubText(e.target.value)}\n                    className=\" col-12\"\n                    style={{ height: \"80%\" }}\n                  ></textarea>\n                  <Slider\n                    axis=\"x\"\n                    xstep={0.1}\n                    x={width || 0}\n                    onChange={({ x }) => setWidth(x.toPrecision(2))}\n                  />\n                </Col>\n                <Col className=\" col-1 m-0 pt-3\">\n                  <Slider\n                    axis=\"y\"\n                    ystep={0.1}\n                    ymax={maxTextSize}\n                    y={size || 0}\n                    onChange={({ y }) => setSize(y.toPrecision(2))}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col className=\" col-2 p-0 m-0\">\n              <Form.Group className=\"col-12 p-0 m-0\" controlId=\"formY\">\n                <Form.Label>Size</Form.Label>\n                <Form.Control\n                  value={size}\n                  onChange={(e) => setSize(e.target.value)}\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"0.1\"\n                  placeholder=\"size\"\n                />\n              </Form.Group>\n              <Form.Group className=\" col-12 p-0 m-0\" controlId=\"formWidth\">\n                <Form.Label>Width</Form.Label>\n                <Form.Control\n                  value={width}\n                  onChange={(e) => setWidth(e.target.value)}\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"0.1\"\n                  placeholder=\"width\"\n                />\n              </Form.Group>\n            </Col>\n          </Row>\n          <Row>\n            <Form.Label className=\"col-3 mb-4 ml-4\">Max Text Size</Form.Label>\n            <Form.Control\n              className=\"col-2 mb-4 \"\n              value={maxTextSize}\n              onChange={(e) => {\n                setMaxTextSize(e.target.value);\n                const config = JSON.parse(\n                  localStorage.getItem(\"configs\") || \"{}\"\n                );\n                localStorage.setItem(\n                  \"configs\",\n                  JSON.stringify({ ...config, maxTextSize: e.target.value })\n                );\n              }}\n              type=\"number\"\n              min=\"0\"\n              max=\"100\"\n              step=\"0.1\"\n              placeholder=\"Max Text Size\"\n            />\n\n            {Object.keys(style).length > 0 && (\n              <DropdownButton\n                className=\"col-4 mb-4\"\n                variant=\"secondary\"\n                id=\"dropdown-basic-button\"\n                title=\"Styles\"\n              >\n                {Object.keys(style).length > 0 &&\n                  Object.keys(style)?.map((styleProp) => (\n                    <Dropdown.Item\n                      onClick={() => handleRemoveStyle(styleProp)}\n                      key={styleProp}\n                    >\n                      {`${styleProp.replaceAll(\"_\", \" \")} : ${\n                        style[styleProp]\n                      }`}\n                    </Dropdown.Item>\n                  ))}\n              </DropdownButton>\n            )}\n          </Row>\n          <Row>\n            <Form.Group className=\" col-4\" controlId=\"formKeyStyle\">\n              <Form.Control\n                value={keyStyle}\n                onChange={(e) => setKeyStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"key\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-4\" controlId=\"formValueStyle\">\n              <Form.Control\n                value={valueStyle}\n                onChange={(e) => setValueStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"value\"\n              />\n            </Form.Group>\n\n            <Button\n              style={{ height: \"100%\" }}\n              className=\"p-2 col-4 btn-secondary\"\n              onClick={handleAddStyle}\n            >\n              Add Style\n            </Button>\n          </Row>\n\n          <Row>\n            <Form.Group className=\" col-6\" controlId=\"formDownload\">\n              <Form.Label>Download Subtitle</Form.Label>\n              <Form.Control\n                value={dowloadFileName}\n                onChange={(e) => setDowloadFileName(e.target.value)}\n                placeholder=\"Download Subtitle\"\n              />\n            </Form.Group>\n            <Col className=\" col-6\">\n              <Button\n                className=\" col-12 mb-2\"\n                disabled={!dowloadFileName}\n                onClick={() =>\n                  download(\n                    parseObjectToPSRT(sub),\n                    `${dowloadFileName}.psrt`,\n                    \"*.psrt\"\n                  )\n                }\n                variant=\"primary\"\n              >\n                (.psrt)\n              </Button>\n              <Button\n                className=\" col-12\"\n                disabled={!dowloadFileName}\n                onClick={() =>\n                  download(\n                    JSON.stringify(sub),\n                    `${dowloadFileName}.json`,\n                    \"*.json\"\n                  )\n                }\n                variant=\"primary\"\n              >\n                (.json)\n              </Button>\n            </Col>\n          </Row>\n        </div>\n      )}\n    </Form>\n  );\n};\n\nconst InputSettings = ({\n  placeholder,\n  value,\n  onChange,\n  className = \"\",\n  ...otherProps\n}) => {\n  return (\n    <InputGroup className={\"mb-3 \" + className}>\n      <FormControl\n        placeholder={placeholder}\n        aria-label={placeholder}\n        aria-describedby=\"basic-addon1\"\n        onChange={(evt) => onChange(evt.target.value)}\n        value={value}\n        {...otherProps}\n      />\n    </InputGroup>\n  );\n};\n\nfunction download(data, filename, type) {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nconst getLocalImage = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsDataURL(files[0]);\n  }\n};\n\nconst getLocalSubtitle = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsText(files[0]);\n  }\n};\n\nconst Select = ({\n  options,\n  title,\n  onChange,\n  defaultValue,\n  ...otherProps\n}: {\n  options: { id: string | number; name: string }[];\n  title: string;\n  onChange?: React.ChangeEventHandler;\n  defaultValue: string | number;\n}) => {\n  return (\n    <Form.Control\n      {...otherProps}\n      onChange={onChange}\n      as=\"select\"\n      className=\"mr-sm-2\"\n      //id=\"inlineFormCustomSelect\"\n      value={defaultValue}\n      custom\n    >\n      <option value=\"none\">{title || \"Choose...\"}</option>\n      {options.map((option) => {\n        return (\n          <option key={option.id} value={option.id}>\n            {option.name}\n          </option>\n        );\n      })}\n    </Form.Control>\n  );\n};\n\nconst abbrevStyles = {\n  bgc: \"background-color\",\n  bg: \"background\",\n  p: \"padding\",\n  pb: \"paddingBottom\",\n  pt: \"paddingTop\",\n  pl: \"paddingLeft\",\n  pr: \"paddingRight\",\n  m: \"margin\",\n  mb: \"marginBottom\",\n  mt: \"marginTop\",\n  ml: \"marginLeft\",\n  mr: \"marginRight\",\n\n  bd: \"border\",\n  bdw: \"borderWidth\",\n  bdst: \"borderStyle\",\n  bdsp: \"borderSpacing\",\n\n  bdb: \"borderBottom\",\n  bdt: \"borderTop\",\n  bdl: \"borderLeft\",\n  bdr: \"borderRight\",\n\n  bdrd: \"borderRadius\",\n  bdbrd: \"borderBottomRadius\",\n  bdtrd: \"borderTopRadius\",\n  bdlrd: \"borderLeftRadius\",\n  bdrrd: \"borderRightRadius\",\n\n  bdblrd: \"borderBottomLeftRadius\",\n  bdtlrd: \"borderTopLeftRadius\",\n  bdtrrd: \"borderTopRightRadius\",\n  bdbrrd: \"borderBottomRightRadius\",\n\n  bdbst: \"borderBottomStyle\",\n  bdtst: \"borderTopStyle\",\n  bdlst: \"borderLeftStyle\",\n  bdrst: \"borderRightStyle\",\n\n  bdbw: \"borderBottomWidith\",\n  bdtw: \"borderTopWidith\",\n  bdlw: \"borderLeftWidith\",\n  bdrw: \"borderRightWidith\",\n};\n\nexport default EditSub;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle, { TypeSub } from \"./cmponents/ImageSubTittle\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    localStorage.getItem(\"lastImage\") || \"\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [mouseImageClick, setMouseImageClick] = useState(false);\n  const [textIndexselected, setTextIndexselected] = useState(0);\n  const [mouseX, setMouseX] = useState(0);\n  const [mouseY, setMouseY] = useState(0);\n  const [subs, setSubs] = useState<TypeSub>(\n    localStorage.getItem(\"lastPSRT\")\n      ? parsePSRTToObject(localStorage.getItem(\"lastPSRT\") || \"\")\n      : parsePSRTFileToObject(\"assets/kaifuku_32.psrt\")\n  );\n  const [currentPage, setCurrentPage] = useState(\n    localStorage.getItem(\"lastPage\") || \"page1\"\n  );\n\n  const handleMouseClick = (\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    const x = e.pageX - e.target.offsetLeft;\n    const y = e.pageY - e.target.offsetTop;\n\n    setMouseImageClick(true);\n    setMouseX(((e.clientX - e.target.offsetLeft) / e.target.offsetWidth) * 100);\n    if (e.target.offsetTop >= e.clientY) {\n      setMouseY(\n        ((e.clientY - e.target.offsetTop) / e.target.clientHeight) * 100\n      );\n    }\n  };\n\n  const handleTextClick = (\n    index: number | string,\n    e: React.MouseEvent<HTMLParagraphElement, MouseEvent>\n  ) => {\n    setTextIndexselected(index)\n\n  };\n\n  const [editStyles, setEditStyles] = useState({});\n  useEffect(() => {\n    localStorage.setItem(\"lastPage\", currentPage);\n    if (subs?.__image_link__?.[currentPage]) {\n      setImageBlob(subs?.__image_link__?.[currentPage]);\n    }\n  }, [currentPage]);\n\n  useEffect(() => {\n    localStorage.setItem(\"lastImage\", imageBlob);\n  }, [imageBlob]);\n\n  return (\n    <div className=\"App container mb-6\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        image={imageBlob}\n        setImageStyle={setImageStyle}\n        editStyles={editStyles}\n        setEditStyles={setEditStyles}\n        mouse={{ x: mouseX, y: mouseY }}\n        setMouseImageClick={setMouseImageClick}\n        mouseImageClick={mouseImageClick}\n        textIndexselected={textIndexselected}\n      />\n      <div className=\"mb-5 mt-5 ml-5 pl-5 justify-content-end col\">\n        <ImageSubTittle\n          editStyles={editStyles}\n          style={{ width: \"600px\", border: \"1px solid\", ...imageStyle }}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n          onClick={handleMouseClick}\n          onTextClick={handleTextClick}\n        />\n        <ImageSubTittle\n          style={{ width: \"1000px\", border: \"1px solid\", ...imageStyle }}\n          editStyles={editStyles}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n          onClick={handleMouseClick}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Nós vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocês, humanos, ousam recusar a punição!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Você parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... não era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, você viu? Quando você começou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", você diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Você não pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Você sabe o que está acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}