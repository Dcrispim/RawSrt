{"version":3,"sources":["cmponents/ImageSubTittle.tsx","service/subtitle.ts","cmponents/EditSub.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SubTitle","text","x","y","width","size","style","id","globalStyle","position","top","left","fontSize","ImageSubTittle","imgPath","subtitle","page","props","imgRef","useRef","useState","subY","setSubY","subX","setSubX","subH","setSubH","subW","setSubW","updateSubs","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","useEffect","window","addEventListener","removeEventListener","zIndex","height","sort","a","b","index","map","__global_style__","onLoad","ref","src","alt","parsePSRTToObject","out","currentPage","i","lastIndex","split","line","includes","substring","trim","JSON","parse","clearLine","s","w","push","parseInt","parseFloat","length","BG_SELECT_COLOR","download","data","filename","type","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","getLocalImage","callback","evt","files","target","FileReader","fr","onload","readAsDataURL","getLocalSubtitle","readAsText","EditSub","sub","setSub","defaultPage","setDefaultPage","setPage","setImage","setImageStyle","isNewPage","setIsNewPage","setIndex","setX","setY","setWidth","setSize","subText","setSubText","show","setShow","setStyle","keyStyle","setKeyStyle","valueStyle","setValueStyle","clearSub","setClearSub","reduce","p","c","setLastIndex","Object","keys","txt","String","backgroundColor","error","console","log","handleChangeSub","updateSubInfos","newSub","find","oldX","oldY","oldW","oldS","old","Form","overflowY","overflowX","className","onClick","checked","htmlFor","Row","Group","controlId","Label","Control","onChange","localStorage","setItem","result","visibility","placeholder","Button","page1","variant","alignItems","value","e","disabled","min","max","step","DropdownButton","title","styleProp","Dropdown","Item","key","newStyles","handleRemoveStyle","replaceAll","filter","stringify","parseObjectToPSRT","App","getItem","imageBlob","setImageBlob","imageStyle","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","send","parsePSRTFileToObject","subs","setSubs","setCurrentPage","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gOAkFMA,EAAW,SAAC,GAgBX,IAfLC,EAeI,EAfJA,KACAC,EAcI,EAdJA,EACAC,EAaI,EAbJA,EACAC,EAYI,EAZJA,MACAC,EAWI,EAXJA,KACAC,EAUI,EAVJA,MACAC,EASI,EATJA,GACAC,EAQI,EARJA,YASA,OACE,mBACED,GAAE,UAAKA,GACPD,MAAK,yBACHG,SAAU,WACVC,IAAI,GAAD,OAAKP,EAAL,KACHQ,KAAK,GAAD,OAAKT,EAAL,KACJE,MAAM,GAAD,OAAKA,EAAL,KACLQ,SAAS,GAAD,OAAKP,EAAL,OACLC,GACAE,GATP,SAYGP,KAKQY,EA9FV,SAAC,GAA2C,IAAD,EAAxCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,KAASC,EAAY,6CACxCC,EAASC,iBAAyB,MADM,EAEtBC,mBAAc,GAFQ,mBAEvCC,EAFuC,KAEjCC,EAFiC,OAGtBF,mBAAc,GAHQ,mBAGvCG,EAHuC,KAGjCC,EAHiC,OAItBJ,mBAAc,GAJQ,mBAIvCK,EAJuC,KAIjCC,EAJiC,OAKtBN,mBAAc,GALQ,mBAKvCO,EALuC,KAKjCC,EALiC,KAMxCC,EAAa,WAAO,IAAD,QACvBP,EAAO,UAACJ,EAAOY,eAAR,aAAC,EAAgBC,WACxBP,EAAO,UAACN,EAAOY,eAAR,aAAC,EAAgBE,YACxBN,EAAO,UAACR,EAAOY,eAAR,aAAC,EAAgBG,cACxBL,EAAO,UAACV,EAAOY,eAAR,aAAC,EAAgBI,cAU1B,OAPAC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,SAAUR,GAC3B,WACLO,OAAOE,oBAAoB,SAAUT,MAEtC,IAGD,gCACE,qBACEvB,MAAO,CACLG,SAAU,WACV8B,OAAQ,GACR7B,IAAKW,EACLV,KAAMY,EACNnB,MAAOuB,EACPa,OAAQf,GAPZ,mBAUGV,EAASC,UAVZ,aAUG,EACGyB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,MAAQD,EAAEC,SAC5BC,KAAI,gBAAG5C,EAAH,EAAGA,KAAMC,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAAGC,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,KAAMC,EAA5B,EAA4BA,MAAOsC,EAAnC,EAAmCA,MAAnC,OACH,cAAC,EAAD,CAEErC,GAAIqC,EACJ3C,KAAMA,EACNO,YAAaO,EAAS+B,iBACtB5C,EAAGA,EACHC,EAAGA,EACHC,MAAOA,EACPC,KAAOA,EAAOsB,EAAQ,IACtBrB,MAAOA,GARFsC,QAYb,iCACEG,OAAQlB,EACRmB,IAAK9B,EACL+B,IAAKnC,EACLoC,IAAKlC,GACDC,QC9CCkC,EAAoB,SAACpC,GAChC,IAAIqC,EAA4B,GAC5BC,EAAc,GAEdC,EAAI,EACJC,EAAY,EAsChB,OApCAxC,EAASyC,MAAM,MAAMX,KAAI,SAACY,GACxB,GAAIA,EAAKC,SAAS,UAChBL,EAAcI,EAAKE,UAAU,GAAGC,OAAOJ,MAAM,KAAK,GAClDJ,EAAIC,GAAe,GACfI,EAAKE,UAAU,GAAGC,OAAOJ,MAAM,KAAK,KACtCJ,EAAIN,iBAAmBe,KAAKC,MAC1BL,EAAKE,UAAU,GAAGC,OAAOJ,MAAM,KAAK,UAGnC,GAAIC,EAAKC,SAAS,QACvBL,EAAc,QACT,GAAII,EAAKC,SAAS,MAAO,CAAC,IAAD,IACxBK,EAAYN,EAAKE,UAAU,GADH,EAETI,EAAUP,MAAM,KAAK,GAAGA,MAAM,KAFrB,mBAEvBtD,EAFuB,KAEpBC,EAFoB,KAEjB6D,EAFiB,KAEdC,EAFc,KAG9B,UAAAb,EAAIC,UAAJ,SAAkBa,KAAK,CACrBtB,MAAOmB,EAAUP,MAAM,KAAK,GACxBW,SAASJ,EAAUP,MAAM,KAAK,IAC9BD,EAAYD,EAChBpD,EAAGkE,WAAWlE,GACdC,EAAGiE,WAAWjE,GACdE,KAAM+D,WAAWJ,GACjB5D,MAAOgE,WAAWH,GAClB3D,MAAOuD,KAAKC,MAAL,UAAWC,EAAUP,MAAM,YAA3B,aAAW,EAAuB,MAE3CD,EAAYQ,EAAUP,MAAM,KAAK,GAC7BW,SAASJ,EAAUP,MAAM,KAAK,IAC9BD,EAEJD,GAAK,OACA,GAAIG,EAAKY,OAAS,EAAG,CAAC,IAAD,EACQ,EAAlC,IAAI,UAAAjB,EAAIC,UAAJ,eAAkBgB,QAAS,EAC7BjB,EAAIC,IAAa,UAAAD,EAAIC,UAAJ,eAAkBgB,QAAS,GAAGpE,KAAOwD,MAKrDL,G,wDChEHkB,EAAkB,QAifxB,SAASC,EAASC,EAAMC,EAAUC,GAChC,IAAIC,EAAO,IAAIC,KAAK,CAACJ,GAAO,CAAEE,KAAMA,IACpC,GAAItC,OAAOyC,UAAUC,iBAEnB1C,OAAOyC,UAAUC,iBAAiBH,EAAMF,OACrC,CAEH,IAAI/B,EAAIqC,SAASC,cAAc,KAC7BC,EAAMC,IAAIC,gBAAgBR,GAC5BjC,EAAE0C,KAAOH,EACTvC,EAAE6B,SAAWE,EACbM,SAASM,KAAKC,YAAY5C,GAC1BA,EAAE6C,QACFC,YAAW,WACTT,SAASM,KAAKI,YAAY/C,GAC1BN,OAAO8C,IAAIQ,gBAAgBT,KAC1B,IAIP,IAAMU,EAAgB,SAACC,GAAD,OAAuC,SAACC,GAC5D,IACIC,EADMD,EAAIE,OACED,MAGhB,GAAIE,YAAcF,GAASA,EAAMzB,OAAQ,CACvC,IAAI4B,EAAK,IAAID,WACbC,EAAGC,OAAS,kBAAMN,EAASK,IAC3BA,EAAGE,cAAcL,EAAM,OAIrBM,EAAmB,SAACR,GAAD,OAAuC,SAACC,GAC/D,IACIC,EADMD,EAAIE,OACED,MAGhB,GAAIE,YAAcF,GAASA,EAAMzB,OAAQ,CACvC,IAAI4B,EAAK,IAAID,WACbC,EAAGC,OAAS,kBAAMN,EAASK,IAC3BA,EAAGI,WAAWP,EAAM,OAITQ,EAvgBV,SAAC,GAOC,IAAD,MANJC,EAMI,EANJA,IACAC,EAKI,EALJA,OACMC,EAIF,EAJJzF,KACS0F,EAGL,EAHJC,QACAC,EAEI,EAFJA,SAEI,KADJC,cAEwBzF,mBAASqF,GAAe,UAD5C,mBACGzF,EADH,KACS2F,EADT,OAE8BvF,oBAAS,GAFvC,mBAEG0F,EAFH,KAEcC,EAFd,OAGsB3F,mBAA0B,GAHhD,mBAGGwB,EAHH,KAGUoE,EAHV,OAIc5F,mBAA0B,GAJxC,mBAIGlB,EAJH,KAIM+G,EAJN,OAKc7F,mBAA0B,GALxC,mBAKGjB,EALH,KAKM+G,EALN,OAMsB9F,mBAA0B,GANhD,mBAMGhB,EANH,KAMU+G,EANV,OAOoB/F,mBAA0B,GAP9C,mBAOGf,EAPH,KAOS+G,EAPT,OAQ0BhG,mBAAS,IARnC,oBAQGiG,GARH,MAQYC,GARZ,SASoBlG,oBAAS,GAT7B,qBASGmG,GATH,MASSC,GATT,SAUsBpG,mBAAwC,IAV9D,qBAUGd,GAVH,MAUUmH,GAVV,SAW4BrG,mBAAiB,IAX7C,qBAWGsG,GAXH,MAWaC,GAXb,SAYgCvG,mBAAiB,IAZjD,qBAYGwG,GAZH,MAYeC,GAZf,SAa4BzG,mBAASmF,GAAY,IAbjD,qBAaGuB,GAbH,MAaaC,GAbb,SAe8B3G,oBAChC,UAAAmF,EAAI,GAAD,OAAIvF,WAAP,eAAgBgH,QAAO,SAACC,EAAGC,GAAJ,OAAWA,EAAEtF,MAAQqF,EAAIC,EAAEtF,MAAQqF,IAAI,IAAK,GAhBjE,qBAeG1E,GAfH,MAec4E,GAfd,MAmFJhG,qBAAU,YAhEc,WACtB,GAAIiG,OAAOC,KAAKP,IAAUpE,SAAS1C,GACjC,IACEwF,GAAO,SAAChC,GAAD,yBAAC,eACHA,GADE,kBAEJxD,EAFI,sBAGAwD,EAAKxD,UAHL,aAGA,EAAY6B,KAAI,SAACyF,GAClB,OAAIA,EAAI1F,QAAUuB,SAASoE,OAAO3F,IACzB,2BACF0F,GADL,IAEEpI,EAAGkE,WAAWlE,GACdC,EAAGiE,WAAWjE,GACdC,MAAOgE,WAAWhE,GAClBC,KAAM+D,WAAW/D,GACjBJ,KAAMoH,GACN/G,MAAM,2BACDA,IADA,IAEHkI,gBAAiBlE,OAIjBgE,EAAIhI,MAAMkI,kBAAoBlE,UACzBgE,EAAIhI,MAAMkI,gBAEZ,2BACFF,GADL,IAEEhI,MAAM,2BACDgI,EAAIhI,OADJ,IAEHkI,gBAAe,UAAEV,GAAS9G,UAAX,iBAAE,EAAgBV,aAAlB,aAAE,EAAuBkI,qBARtC,IAAD,aAgBbT,IAAY,SAACvD,GAAD,yBAAC,eACRA,GADO,kBAETxD,EAFS,mBAGL8G,SAHK,IAGLA,IAHK,UAGLA,GAAW9G,UAHN,aAGL,EAAkB6B,KAAI,SAACyF,GACxB,OAAIA,EAAI1F,QAAUuB,SAASoE,OAAO3F,IACzB,2BACF0F,GADL,IAEEpI,EAAGkE,WAAWlE,GACdC,EAAGiE,WAAWjE,GACdC,MAAOgE,WAAWhE,GAClBC,KAAM+D,WAAW/D,GACjBJ,KAAMoH,GACN/G,MAAM,eACDA,MAIA,eAAKgI,YAKpB,MAAOG,GACPC,QAAQC,IAAIF,IAOhBG,KAEC,CAAC1I,EAAGC,EAAGC,EAAOC,EAAMgH,GAAS/G,GAAOmG,IAEvC,IAAMoC,GAAiB,SAACC,GAEtB,GAAI9H,EAAM,CAAC,IAAD,EACFf,EAAI,WAFC6I,GAAUvC,GAEHvF,UAAR,aAAG,EAAY+H,MAAK,SAACrG,GAAD,OAAOA,EAAEE,QAAUuB,SAASoE,OAAO3F,OACjEqE,GAAK,SAAC+B,GAAD,OAAc,OAAJ/I,QAAI,IAAJA,OAAA,EAAAA,EAAMC,IAAK8I,KAC1B9B,GAAK,SAAC+B,GAAD,OAAc,OAAJhJ,QAAI,IAAJA,OAAA,EAAAA,EAAME,IAAK8I,KAC1B9B,GAAS,SAAC+B,GAAD,OAAc,OAAJjJ,QAAI,IAAJA,OAAA,EAAAA,EAAMG,QAAS8I,KAClC9B,GAAQ,SAAC+B,GAAD,OAAc,OAAJlJ,QAAI,IAAJA,OAAA,EAAAA,EAAMI,OAAQ8I,KAChC7B,IAAe,OAAJrH,QAAI,IAAJA,OAAA,EAAAA,EAAMA,OAAQ,IACzBwH,IAAS,SAAC2B,GAAD,OAAc,OAAJnJ,QAAI,IAAJA,OAAA,EAAAA,EAAMK,OAAN,sBAAmBL,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAMK,OAAzB,eAAwC8I,QAkJ/D,OAZAjH,qBAAU,WACR0G,OACC,CAACjG,EAAO5B,IAEXmB,qBAAU,WAAO,IAAD,EACd4E,GAAcqB,OAAOC,KAAK9B,GAAK7C,SAAS1C,IACxCoH,OAAOC,KAAK9B,GAAK7C,SAAS1C,IAAS0F,EAAe1F,GAClDmH,IACE,UAAAL,GAAS9G,UAAT,eAAgBgH,QAAO,SAACC,EAAD,OAAMrF,EAAN,EAAMA,MAAN,OAAmBA,EAAQqF,EAAIrF,EAAQqF,IAAI,IAAK,KAExE,CAACjH,IAGF,eAACqI,EAAA,EAAD,CACE/I,MAAO,CACLG,SAAU,QACVL,MAAO,QACPO,KAAM,EACN2I,UAAW,OACXC,UAAW,SACXhH,OAAQ,IAPZ,UAUE,sBAAKiH,UAAS,8BAAd,UACE,uBACEA,UAAU,mBACV9E,KAAK,WACL+E,QAAS,kBAAMjC,IAAQ,SAAC9E,GAAD,OAAQA,MAC/BnC,GAAG,yBACHmJ,QAASnC,KAEX,uBAAOiC,UAAU,mBAAmBG,QAAQ,yBAA5C,yBAIDpC,IACC,gCACE,eAACqC,EAAA,EAAD,CAAKJ,UAAU,OAAf,UACE,eAACH,EAAA,EAAKQ,MAAN,CAAYL,UAAU,cAAcM,UAAU,gBAA9C,UACE,cAACT,EAAA,EAAKU,MAAN,CAAYP,UAAU,kBAAtB,wBACA,cAACH,EAAA,EAAKW,QAAN,CACEC,SAAUtE,GA1EN,SAACM,GACjBiE,aAAaC,QAAQ,YAAY5B,OAAOtC,EAAGmE,SAC3CxD,EAAS2B,OAAOtC,EAAGmE,YAyEP1F,KAAK,OACLpE,MAAO,CAAE+J,WAAY,SAAU7H,OAAQ,OACvC8H,YAAY,aAIhB,eAACjB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,cAAcM,UAAU,aAA9C,UACE,cAACT,EAAA,EAAKU,MAAN,CAAYP,UAAU,kBAAtB,2BACA,cAACH,EAAA,EAAKW,QAAN,CACEC,SAAU7D,GA9FG,SAACH,GAC1BiE,aAAaC,QAAQ,WAAW5B,OAAOtC,EAAGmE,SAC1C,IAAMtB,EAAkB3F,EAAkBoF,OAAOtC,EAAGmE,SACpD5D,EAAOsC,GACPf,GAAYe,GACZX,GACEW,EAAO9H,GAAMgH,QAAO,SAACC,EAAD,OAAMrF,EAAN,EAAMA,MAAN,OAAmBA,EAAQqF,EAAIrF,EAAQqF,IAAI,GAAK,GAEtEY,GAAeC,MAuFHpE,KAAK,OACLpE,MAAO,CAAE+J,WAAY,SAAU7H,OAAQ,OACvC8H,YAAY,aAIhB,cAACC,EAAA,EAAD,CACEf,UAAU,SACVC,QAxEW,WACrB,IAAMX,EAAS,CACb0B,MAAO,IAETzC,GAAYe,GAEZtC,EAAOsC,GACPnC,EAAQ,SACRK,EAAS,GACTmB,GAAa,IAgEHsC,QAAQ,SAHV,0BASF,eAACb,EAAA,EAAD,CAAKtJ,MAAO,CAAEoK,WAAY,YAA1B,UACE,eAACrB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,cAAcM,UAAU,WAA9C,UACE,cAACT,EAAA,EAAKU,MAAN,mBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAO3J,EACPiJ,SAAU,SAACW,GAAD,OAAOjE,EAAQiE,EAAE7E,OAAO4E,QAClCL,YAAY,YAIhB,cAACC,EAAA,EAAD,CACEf,UAAU,SACVC,QAvKO,WACb3C,IACFN,EAAO,2BACFsB,IADC,kBAEH9G,EAAO,CACN,CACE4B,MAAOuB,SAASoE,OAAO,IACvBrI,EAAGkE,WAAWmE,OAAOrI,IACrBC,EAAGiE,WAAWmE,OAAOpI,IACrBC,MAAOgE,WAAWmE,OAAOnI,IACzBC,KAAM+D,WAAWmE,OAAOlI,IACxBJ,KAAMoH,GACN/G,MAAM,2BACDA,IADA,IAEHkI,gBAAiBlE,SAKzByD,GAAY,2BACPD,IADM,kBAER9G,EAAO,CACN,CACE4B,MAAOuB,SAASoE,OAAO,IACvBrI,EAAGkE,WAAWmE,OAAOrI,IACrBC,EAAGiE,WAAWmE,OAAOpI,IACrBC,MAAOgE,WAAWmE,OAAOnI,IACzBC,KAAM+D,WAAWmE,OAAOlI,IACxBJ,KAAMoH,GACN/G,MAAM,eACDA,SAMXuI,GAAetC,GAEfS,EAAS,GACTmB,GAAa,GACbzB,EAAe1F,GACf6H,OA+HQgC,UAAW/D,EACX2D,QAAQ,UAJV,sBASA,eAACpB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,cAAcM,UAAU,YAA9C,UACE,cAACT,EAAA,EAAKU,MAAN,oBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAO/H,EACPqH,SAAU,SAACW,GAAD,OAAO5D,EAAS4D,EAAE7E,OAAO4E,QACnCjG,KAAK,SACLoG,IAAI,IACJC,IAAG,UAAExE,EAAIgC,OAAOvH,WAAb,aAAE,EAAmBqD,OACxB2G,KAAK,IACLV,YAAY,aAIhB,cAACC,EAAA,EAAD,CAAQf,UAAU,SAASC,QArOlB,WACjBjD,GAAO,SAAChC,GAAD,mBAAC,eACHA,GADE,kBAEJxD,EAFI,sBAGAwD,EAAKxD,IAHL,CAIH,CACE4B,MAAOuB,SAASoE,OAAOhF,KACvBrD,EAAGkE,WAAWmE,OAAOrI,IACrBC,EAAGiE,WAAWmE,OAAOpI,IACrBC,MAAOgE,WAAWmE,OAAOnI,IACzBC,KAAM+D,WAAWmE,OAAOlI,IACxBJ,KAAMoH,GACN/G,MAAM,2BACDA,IADA,IAEHkI,gBAAiBlE,YAMzByD,IAAY,SAACvD,GAAD,mBAAC,eACRA,GADO,kBAETxD,EAFS,sBAGLwD,EAAKxD,IAHA,CAIR,CACE4B,MAAOuB,SAASoE,OAAOhF,KACvBrD,EAAGkE,WAAWmE,OAAOrI,IACrBC,EAAGiE,WAAWmE,OAAOpI,IACrBC,MAAOgE,WAAWmE,OAAOnI,IACzBC,KAAM+D,WAAWmE,OAAOlI,IACxBJ,KAAMoH,GACN/G,MAAM,eACDA,YAMX0G,EAASzD,IACT4E,IAAa,SAACiB,GAAD,OAASA,EAAM,MA8L4BqB,QAAQ,UAAxD,yBAIF,eAACb,EAAA,EAAD,WACE,eAACP,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,QAAzC,UACE,cAACT,EAAA,EAAKU,MAAN,qBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAOzK,EACP+J,SAAU,SAACW,GAAD,OAAO3D,EAAK2D,EAAE7E,OAAO4E,QAC/BjG,KAAK,SACLoG,IAAI,IACJC,IAAI,MACJC,KAAK,MACLV,YAAY,SAIhB,eAACjB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,QAAzC,UACE,cAACT,EAAA,EAAKU,MAAN,qBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAOxK,EACP8J,SAAU,SAACW,GAAD,OAAO1D,EAAK0D,EAAE7E,OAAO4E,QAC/BjG,KAAK,SACLoG,IAAI,IACJC,IAAI,MACJC,KAAK,MACLV,YAAY,SAIhB,eAACjB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,QAAzC,UACE,cAACT,EAAA,EAAKU,MAAN,mBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAOtK,EACP4J,SAAU,SAACW,GAAD,OAAOxD,EAAQwD,EAAE7E,OAAO4E,QAClCjG,KAAK,SACLoG,IAAI,IACJC,IAAI,MACJC,KAAK,MACLV,YAAY,YAGhB,eAACjB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,YAAzC,UACE,cAACT,EAAA,EAAKU,MAAN,oBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAOvK,EACP6J,SAAU,SAACW,GAAD,OAAOzD,EAASyD,EAAE7E,OAAO4E,QACnCjG,KAAK,SACLoG,IAAI,IACJC,IAAI,MACJC,KAAK,MACLV,YAAY,gBAIlB,eAACV,EAAA,EAAD,WACE,eAACP,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,WAAzC,UACE,cAACT,EAAA,EAAKU,MAAN,mBACA,cAACV,EAAA,EAAKW,QAAN,CACEW,MAAOtD,GACP4C,SAAU,SAACW,GAAD,OAAOtD,GAAWsD,EAAE7E,OAAO4E,QACrCjG,KAAK,OACL4F,YAAY,aAGflC,OAAOC,KAAK/H,IAAO+D,OAAS,GAC3B,cAAC4G,EAAA,EAAD,CACEzB,UAAU,QACViB,QAAQ,YACRlK,GAAG,wBACH2K,MAAM,SAJR,SAMG9C,OAAOC,KAAK/H,IAAO+D,OAAS,IAA5B,UACC+D,OAAOC,KAAK/H,WADb,aACC,EAAoBuC,KAAI,SAACsI,GAAD,OACtB,cAACC,EAAA,EAASC,KAAV,CACE5B,QAAS,kBArMH,SAAC6B,GACzBzD,GAAcvH,GAAMgL,IACpB3D,GAAY2D,GACZ,IAAMC,EAAS,eAAQjL,WAEhBiL,EAAUD,GAEjB7D,GAAS8D,GA8LwBC,CAAkBL,IADnC,mBAIMA,EAAUM,WAAW,IAAK,KAJhC,cAKInL,GAAM6K,KAHHA,YAUjB,eAACvB,EAAA,EAAD,WACE,cAACP,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,eAAzC,SACE,cAACT,EAAA,EAAKW,QAAN,CACEW,MAAOjD,GACPuC,SAAU,SAACW,GAAD,OAAOjD,GAAYiD,EAAE7E,OAAO4E,QACtCjG,KAAK,OACL4F,YAAY,UAGhB,cAACjB,EAAA,EAAKQ,MAAN,CAAYL,UAAU,SAASM,UAAU,iBAAzC,SACE,cAACT,EAAA,EAAKW,QAAN,CACEW,MAAO/C,GACPqC,SAAU,SAACW,GAAD,OAAO/C,GAAc+C,EAAE7E,OAAO4E,QACxCjG,KAAK,OACL4F,YAAY,YAIhB,cAACC,EAAA,EAAD,CACEjK,MAAO,CAAEkC,OAAQ,QACjBgH,UAAU,0BACVC,QA3OW,WACrBhC,IAAS,SAAC2B,GAAD,mBAAC,eAAcA,GAAf,kBAAqB1B,GAAWE,QACzCC,GAAc,IACdF,GAAY,KAqOJ,0BAQF,gCACE,cAAC4C,EAAA,EAAD,CACEd,QAAS,kBACPlF,EDzZiB,SAACgC,GAWhC,IAAInD,EAAM,GAcV,OAZAgF,OAAOC,KAAK9B,GACTmF,QAAO,SAAChJ,GAAD,MAAa,qBAANA,KACdG,KAAI,SAAC7B,GAAU,IAAD,EACboC,GAAG,iBAAcpC,EAAd,YAAsB6C,KAAK8H,WAAa,OAAHpF,QAAG,IAAHA,OAAA,EAAAA,EAAKzD,mBAAoB,IAA9D,MACH,UAAAyD,EAAIvF,UAAJ,SAAW6B,KAAI,WAA4CS,GAAO,IAAhDpD,EAA+C,EAA/CA,EAAGC,EAA4C,EAA5CA,EAAGE,EAAyC,EAAzCA,KAAMD,EAAmC,EAAnCA,MAAOH,EAA4B,EAA5BA,KAAMK,EAAsB,EAAtBA,MAAOsC,EAAe,EAAfA,MAChDQ,GAAG,YAASlD,EAAT,YAAcC,EAAd,YAAmBE,EAAnB,YAA2BD,EAA3B,YAAoCyD,KAAK8H,UAAUrL,GAAnD,YACDsC,GAASU,EADR,MAGHF,GAAG,UAAOnD,EAAP,WAELmD,GAAG,eAAYpC,EAAZ,WAEAoC,ECgYgBwI,CAAkB9D,IAAW,WAAY,QAEpD2C,QAAQ,UAJV,sCAQA,cAACF,EAAA,EAAD,CACEd,QAAS,kBACPlF,EAASV,KAAK8H,UAAU7D,IAAW,WAAY,QAEjD2C,QAAQ,UAJV,gD,MCrbGoB,MA1Cf,WAAgB,IAAD,EACqBzK,mBAChC8I,aAAa4B,QAAQ,cACnB,qFAHS,mBACNC,EADM,KACKC,EADL,OAKuB5K,mBAA8B,IALrD,mBAKN6K,EALM,KAKMpF,EALN,OAMWzF,mBACtB8I,aAAa4B,QAAQ,YACjB3I,EAAkB+G,aAAa4B,QAAQ,aAAe,IFpBzB,SACnCnH,GAYA,IAAIvB,EAA4B,GAE5B8I,EAAU,IAAIC,eAYlB,OAXAD,EAAQE,KAAK,MAAOzH,GAAM,GAC1BuH,EAAQG,mBAAqB,WACA,IAAvBH,EAAQI,aACa,MAAnBJ,EAAQK,QAAoC,GAAlBL,EAAQK,SACpCnJ,EAAG,eAAQD,EAAkB+I,EAAQM,kBAK3CN,EAAQO,KAAK,MAENrJ,EENDsJ,CACE,wFAVK,mBAMNC,EANM,KAMAC,EANA,OAayBxL,mBAAS,SAblC,mBAaNiC,EAbM,KAaOwJ,EAbP,KAeb,OACE,sBAAKrD,UAAU,gBAAgBlJ,MAAO,CAAEwM,QAAS,QAAjD,UACE,cAAC,EAAD,CACEvG,IAAKoG,EACLnG,OAAQoG,EACR5L,KAAMqC,EACNsD,QAASkG,EACTjG,SAAUoF,EACVnF,cAAeA,IAEjB,gCACE,cAAC,EAAD,CACE/F,QAASiL,EACT/K,KAAMqC,EACNtC,SAAU4L,IAEZ,cAAC,EAAD,CACErM,MAAK,aAAIF,MAAO,UAAa6L,GAC7BnL,QAASiL,EACT/K,KAAMqC,EACNtC,SAAU4L,WCjCLI,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3I,SAAS4I,eAAe,SAM1BZ,M","file":"static/js/main.f568c18f.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { parsePSRTFileToObject } from \"../service/subtitle\";\n\n// import { Container } from './styles';\n\nconst ImageSubTittle: React.FC<{\n  imgPath: string;\n  subtitle: {\n    __global_style__?:React.CSSProperties;\n    [page: string]: {\n      x: number;\n      y: number;\n      width: number;\n      size: number;\n      text: string;\n      index: number;\n      style: React.CSSProperties;\n    }[];\n  };\n  page: string;\n\n  style?: React.CSSProperties;\n  [prop: string]: any;\n}> = ({ imgPath, subtitle, page, ...props }) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [subY, setSubY] = useState<any>(0);\n  const [subX, setSubX] = useState<any>(0);\n  const [subH, setSubH] = useState<any>(0);\n  const [subW, setSubW] = useState<any>(0);\n  const updateSubs = () => {\n    setSubY(imgRef.current?.offsetTop);\n    setSubX(imgRef.current?.offsetLeft);\n    setSubH(imgRef.current?.offsetHeight);\n    setSubW(imgRef.current?.offsetWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateSubs);\n    return () => {\n      window.removeEventListener(\"resize\", updateSubs);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 11,\n          top: subY,\n          left: subX,\n          width: subW,\n          height: subH,\n        }}\n      >\n        {subtitle[page]\n          ?.sort((a, b) => a.index - b.index)\n          .map(({ text, x, y, width, size, style, index }) => (\n            <SubTitle\n              key={index}\n              id={index}\n              text={text}\n              globalStyle={subtitle.__global_style__}\n              x={x}\n              y={y}\n              width={width}\n              size={(size * subW) / 100}\n              style={style}\n            />\n          ))}\n      </div>\n      <img\n        onLoad={updateSubs}\n        ref={imgRef}\n        src={imgPath}\n        alt={page}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst SubTitle = ({\n  text,\n  x,\n  y,\n  width,\n  size,\n  style,\n  id,\n  globalStyle,\n}: {\n  text: string;\n  x: number;\n  y: number;\n  width?: number;\n  globalStyle?: React.CSSProperties;\n  [k: string]: any;\n}) => {\n  return (\n    <p\n      id={`${id}`}\n      style={{\n        position: \"absolute\",\n        top: `${y}%`,\n        left: `${x}%`,\n        width: `${width}%`,\n        fontSize: `${size}px`,\n        ...style,\n        ...globalStyle\n      }}\n    >\n      {text}\n    </p>\n  );\n};\n\nexport default ImageSubTittle;\n","export const parsePSRTFileToObject = (\n  file: string\n): {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n} => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n  let rawFile = new XMLHttpRequest();\n  rawFile.open(\"GET\", file, false);\n  rawFile.onreadystatechange = function () {\n    if (rawFile.readyState === 4) {\n      if (rawFile.status === 200 || rawFile.status == 0) {\n        out = { ...parsePSRTToObject(rawFile.responseText) };\n      }\n    }\n  };\n\n  rawFile.send(null);\n\n  return out;\n};\n\nexport const parsePSRTToObject = (subtitle: string) => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n\n  let i = 0;\n  let lastIndex = 0;\n\n  subtitle.split(\"\\n\").map((line) => {\n    if (line.includes(\"$START\")) {\n      currentPage = line.substring(6).trim().split(\"/\")[0];\n      out[currentPage] = [];\n      if (line.substring(6).trim().split(\"/\")[1]) {\n        out.__global_style__ = JSON.parse(\n          line.substring(6).trim().split(\"/\")[1]\n        );\n      }\n    } else if (line.includes(\"$END\")) {\n      currentPage = \"\";\n    } else if (line.includes(\">>\")) {\n      const clearLine = line.substring(2);\n      const [x, y, s, w] = clearLine.split(\"/\")[0].split(\"-\");\n      out[currentPage]?.push({\n        index: clearLine.split(\"/\")[2]\n          ? parseInt(clearLine.split(\"/\")[2])\n          : lastIndex + i,\n        x: parseFloat(x),\n        y: parseFloat(y),\n        size: parseFloat(s),\n        width: parseFloat(w),\n        style: JSON.parse(clearLine.split(\"/\")?.[1]),\n      });\n      lastIndex = clearLine.split(\"/\")[2]\n        ? parseInt(clearLine.split(\"/\")[2])\n        : lastIndex;\n\n      i += 1;\n    } else if (line.length > 1) {\n      if (out[currentPage]?.length > 0) {\n        out[currentPage][out[currentPage]?.length - 1].text = line;\n      }\n    }\n  });\n\n  return out;\n};\n\nexport const parseObjectToPSRT = (sub: {\n  [page: string]: {\n    x: number;\n    y: number;\n    width: number;\n    size: number;\n    text: string;\n    index: number;\n    style: React.CSSProperties;\n  }[];\n}): string => {\n  let out = \"\";\n\n  Object.keys(sub)\n    .filter((a) => a !== \"__global_style__\")\n    .map((page) => {\n      out += `$START ${page}/${JSON.stringify(sub?.__global_style__ || {})}\\n`;\n      sub[page]?.map(({ x, y, size, width, text, style, index }, i) => {\n        out += `>>${x}-${y}-${size}-${width}/${JSON.stringify(style)}/${\n          index || i\n        }\\n`;\n        out += `${text}\\n\\n`;\n      });\n      out += `$END ${page}\\n\\n`;\n    });\n  return out;\n};\n","/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Button, DropdownButton, Dropdown, Row } from \"react-bootstrap\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"../service/subtitle\";\n\nconst BG_SELECT_COLOR = \"#0f04\";\n//import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\ntype TypeUseState<T> = (a: T | ((a: T) => T)) => void;\ntype TypeSub = {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n};\nconst EditSub: React.FC<{\n  sub: TypeSub;\n  setSub: TypeUseState<TypeSub>;\n  page?: string;\n  setPage: TypeUseState<string>;\n  setImage: TypeUseState<string>;\n  setImageStyle: TypeUseState<React.CSSProperties | string>;\n}> = ({\n  sub,\n  setSub,\n  page: defaultPage,\n  setPage: setDefaultPage,\n  setImage,\n  setImageStyle,\n}) => {\n  const [page, setPage] = useState(defaultPage || \"page1\");\n  const [isNewPage, setIsNewPage] = useState(false);\n  const [index, setIndex] = useState<string | number>(1);\n  const [x, setX] = useState<string | number>(0);\n  const [y, setY] = useState<string | number>(0);\n  const [width, setWidth] = useState<string | number>(0);\n  const [size, setSize] = useState<string | number>(0);\n  const [subText, setSubText] = useState(\"\");\n  const [show, setShow] = useState(true);\n  const [style, setStyle] = useState<{ [cssAttr: string]: string }>({});\n  const [keyStyle, setKeyStyle] = useState<string>(\"\");\n  const [valueStyle, setValueStyle] = useState<string>(\"\");\n  const [clearSub, setClearSub] = useState(sub ? sub : {});\n\n  const [lastIndex, setLastIndex] = useState(\n    sub[`${page}`]?.reduce((p, c) => (c.index > p ? c.index : p), 0) + 1\n  );\n\n  const handleChangeSub = () => {\n    if (Object.keys(clearSub).includes(page)) {\n      try {\n        setSub((data) => ({\n          ...data,\n          [page]: [\n            ...data[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                    backgroundColor: BG_SELECT_COLOR,\n                  },\n                };\n              } else {\n                if (txt.style.backgroundColor === BG_SELECT_COLOR) {\n                  delete txt.style.backgroundColor;\n                }\n                return {\n                  ...txt,\n                  style: {\n                    ...txt.style,\n                    backgroundColor: clearSub[page]?.style?.backgroundColor,\n                  },\n                };\n              }\n            }),\n          ],\n        }));\n\n        setClearSub((data) => ({\n          ...data,\n          [page]: [\n            ...clearSub?.[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                  },\n                };\n              } else {\n                return { ...txt };\n              }\n            }),\n          ],\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    //console.log(sub);\n    handleChangeSub();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [x, y, width, size, subText, style, defaultPage]);\n\n  const updateSubInfos = (newSub?: TypeSub) => {\n    const _sub = newSub || sub;\n    if (page) {\n      const text = _sub[page]?.find((a) => a.index === parseInt(String(index)));\n      setX((oldX) => text?.x || oldX);\n      setY((oldY) => text?.y || oldY);\n      setWidth((oldW) => text?.width || oldW);\n      setSize((oldS) => text?.size || oldS);\n      setSubText(text?.text || \"\");\n      setStyle((old) => (text?.style ? { ...text?.style } : { ...old }));\n    }\n  };\n\n  const addNewText = () => {\n    setSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n            backgroundColor: BG_SELECT_COLOR,\n          },\n        },\n      ],\n    }));\n\n    setClearSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n          },\n        },\n      ],\n    }));\n\n    setIndex(lastIndex);\n    setLastIndex((old) => old + 1);\n  };\n\n  const addNewPage = () => {\n    if (isNewPage) {\n      setSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n              backgroundColor: BG_SELECT_COLOR,\n            },\n          },\n        ],\n      });\n      setClearSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n            },\n          },\n        ],\n      });\n\n      updateSubInfos(sub);\n\n      setIndex(0);\n      setLastIndex(1);\n      setDefaultPage(page);\n      updateSubInfos();\n    }\n  };\n\n  const updateSubtitleFile = (fr: FileReader) => {\n    localStorage.setItem('lastPSRT',String(fr.result))\n    const newSub: TypeSub = parsePSRTToObject(String(fr.result));\n    setSub(newSub);\n    setClearSub(newSub);\n    setLastIndex(\n      newSub[page].reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n    updateSubInfos(newSub);\n  };\n  const showImage = (fr: FileReader) => {\n    localStorage.setItem('lastImage',String(fr.result))\n    setImage(String(fr.result))\n  };\n\n  const handleAddStyle = () => {\n    setStyle((old) => ({ ...old, [keyStyle]: valueStyle }));\n    setValueStyle(\"\");\n    setKeyStyle(\"\");\n  };\n\n  const handleRemoveStyle = (key: string) => {\n    setValueStyle(style[key]);\n    setKeyStyle(key);\n    const newStyles = { ...style };\n\n    delete newStyles[key];\n\n    setStyle(newStyles);\n  };\n\n  const handleClearAll = () => {\n    const newSub = {\n      page1: [],\n    };\n    setClearSub(newSub);\n\n    setSub(newSub);\n    setPage(\"page1\");\n    setIndex(0);\n    setLastIndex(0);\n  };\n\n  useEffect(() => {\n    updateSubInfos();\n  }, [index, page]);\n\n  useEffect(() => {\n    setIsNewPage(!Object.keys(sub).includes(page));\n    Object.keys(sub).includes(page) && setDefaultPage(page);\n    setLastIndex(\n      clearSub[page]?.reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n  }, [page]);\n\n  return (\n    <Form\n      style={{\n        position: \"fixed\",\n        width: \"500px\",\n        left: 0,\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        zIndex: 50,\n      }}\n    >\n      <div className={`form-check form-switch mr-0`}>\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          onClick={() => setShow((a) => !a)}\n          id=\"flexSwitchCheckChecked\"\n          checked={show}\n        />\n        <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckChecked\">\n          Settings\n        </label>\n      </div>\n      {show && (\n        <div>\n          <Row className=\"mb-2\">\n            <Form.Group className=\" col-4 mb-0\" controlId=\"subtitle-file\">\n              <Form.Label className=\"btn btn-primary\">Load Image</Form.Label>\n              <Form.Control\n                onChange={getLocalImage(showImage)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-4 mb-0\" controlId=\"image-file\">\n              <Form.Label className=\"btn btn-primary\">Load SubTitle</Form.Label>\n              <Form.Control\n                onChange={getLocalSubtitle(updateSubtitleFile)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={handleClearAll}\n              variant=\"danger\"\n            >\n              Clear All\n            </Button>\n          </Row>\n\n          <Row style={{ alignItems: \"flex-end\" }}>\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formPage\">\n              <Form.Label>Page</Form.Label>\n              <Form.Control\n                value={page}\n                onChange={(e) => setPage(e.target.value)}\n                placeholder=\"Page\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={addNewPage}\n              disabled={!isNewPage}\n              variant=\"primary\"\n            >\n              Add page\n            </Button>\n\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formIndex\">\n              <Form.Label>Index</Form.Label>\n              <Form.Control\n                value={index}\n                onChange={(e) => setIndex(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max={sub[String(page)]?.length}\n                step=\"1\"\n                placeholder=\"index\"\n              />\n            </Form.Group>\n\n            <Button className=\" col-2\" onClick={addNewText} variant=\"primary\">\n              Add Text\n            </Button>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-3\" controlId=\"formX\">\n              <Form.Label>X axis</Form.Label>\n              <Form.Control\n                value={x}\n                onChange={(e) => setX(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"X\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Y axis</Form.Label>\n              <Form.Control\n                value={y}\n                onChange={(e) => setY(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"Y\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Size</Form.Label>\n              <Form.Control\n                value={size}\n                onChange={(e) => setSize(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"size\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-3\" controlId=\"formWidth\">\n              <Form.Label>Width</Form.Label>\n              <Form.Control\n                value={width}\n                onChange={(e) => setWidth(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-8\" controlId=\"formText\">\n              <Form.Label>Text</Form.Label>\n              <Form.Control\n                value={subText}\n                onChange={(e) => setSubText(e.target.value)}\n                type=\"text\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n            {Object.keys(style).length > 0 && (\n              <DropdownButton\n                className=\"col-4\"\n                variant=\"secondary\"\n                id=\"dropdown-basic-button\"\n                title=\"Styles\"\n              >\n                {Object.keys(style).length > 0 &&\n                  Object.keys(style)?.map((styleProp) => (\n                    <Dropdown.Item\n                      onClick={() => handleRemoveStyle(styleProp)}\n                      key={styleProp}\n                    >\n                      {`${styleProp.replaceAll(\"_\", \" \")} : ${\n                        style[styleProp]\n                      }`}\n                    </Dropdown.Item>\n                  ))}\n              </DropdownButton>\n            )}\n          </Row>\n          <Row>\n            <Form.Group className=\" col-4\" controlId=\"formKeyStyle\">\n              <Form.Control\n                value={keyStyle}\n                onChange={(e) => setKeyStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"key\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-4\" controlId=\"formValueStyle\">\n              <Form.Control\n                value={valueStyle}\n                onChange={(e) => setValueStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"value\"\n              />\n            </Form.Group>\n\n            <Button\n              style={{ height: \"100%\" }}\n              className=\"p-2 col-4 btn-secondary\"\n              onClick={handleAddStyle}\n            >\n              Add Style\n            </Button>\n          </Row>\n          <div>\n            <Button\n              onClick={() =>\n                download(parseObjectToPSRT(clearSub), \"sub.psrt\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.psrt)\n            </Button>\n            <Button\n              onClick={() =>\n                download(JSON.stringify(clearSub), \"sub.json\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.json)\n            </Button>\n          </div>\n        </div>\n      )}\n    </Form>\n  );\n};\n\nfunction download(data, filename, type) {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nconst getLocalImage = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsDataURL(files[0]);\n  }\n};\n\nconst getLocalSubtitle = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsText(files[0]);\n  }\n};\n\nexport default EditSub;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle from \"./cmponents/ImageSubTittle\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    localStorage.getItem(\"lastImage\") ||\n      \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [subs, setSubs] = useState(\n    localStorage.getItem(\"lastPSRT\")\n      ? parsePSRTToObject(localStorage.getItem(\"lastPSRT\") || \"\")\n      : parsePSRTFileToObject(\n          \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\"\n        )\n  );\n  const [currentPage, setCurrentPage] = useState(\"page1\");\n\n  return (\n    <div className=\"App container\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        setImageStyle={setImageStyle}\n      />\n      <div>\n        <ImageSubTittle\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n        <ImageSubTittle\n          style={{ width: \"1300px\", ...imageStyle }}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Nós vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocês, humanos, ousam recusar a punição!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Você parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... não era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, você viu? Quando você começou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", você diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Você não pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Você sabe o que está acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}