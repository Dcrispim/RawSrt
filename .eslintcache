[{"/home/intelie/Documents/srt2/src/App.tsx":"1","/home/intelie/Documents/srt2/src/service/subtitle.ts":"2","/home/intelie/Documents/srt2/src/cmponents/ImageSubTittle.tsx":"3","/home/intelie/Documents/srt2/src/cmponents/EditSub.tsx":"4","/home/intelie/Documents/srt2/src/reportWebVitals.ts":"5","/home/intelie/Documents/srt2/src/index.tsx":"6"},{"size":3702,"mtime":1611626641593,"results":"7","hashOfConfig":"8"},{"size":2341,"mtime":1611663177953,"results":"9","hashOfConfig":"8"},{"size":2353,"mtime":1611626625225,"results":"10","hashOfConfig":"8"},{"size":15419,"mtime":1611663697646,"results":"11","hashOfConfig":"8"},{"size":425,"mtime":1611422798347,"results":"12","hashOfConfig":"8"},{"size":500,"mtime":1611423644563,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"7hngy0",{"filePath":"17","messages":"18","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/intelie/Documents/srt2/src/App.tsx",["28","29","30","31"],"import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle from \"./cmponents/ImageSubTittle\";\nimport { parseObjectToPSRT, parsePSRTFileToObject } from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [subs, setSubs] = useState(\n    parsePSRTFileToObject(\n      \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\"\n    )\n  );\n  const [currentPage, setCurrentPage] = useState(\"page1\");\n\n  return (\n    <div className=\"App container\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        setImageStyle={setImageStyle}\n      />\n      <div>\n        <ImageSubTittle imgPath={imageBlob} page={currentPage} subtitle={subs} />\n        <ImageSubTittle\n          style={{ width: \"1300px\", ...imageStyle }}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Nós vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocês, humanos, ousam recusar a punição!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Você parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... não era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, você viu? Quando você começou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", você diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Você não pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Você sabe o que está acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n","/home/intelie/Documents/srt2/src/service/subtitle.ts",["32","33","34","35","36"],"/home/intelie/Documents/srt2/src/cmponents/ImageSubTittle.tsx",["37","38"],"import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { parsePSRTFileToObject } from \"../service/subtitle\";\n\n// import { Container } from './styles';\n\nconst ImageSubTittle: React.FC<{\n  imgPath: string;\n  subtitle: {\n    [page: string]: {\n      x: number;\n      y: number;\n      width: number;\n      size: number;\n      text: string;\n      index: number;\n      style: React.CSSProperties;\n    }[];\n  };\n  page: string;\n\n  style?: React.CSSProperties;\n  [prop: string]: any;\n}> = ({ imgPath, subtitle, page, ...props }) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [subY, setSubY] = useState<any>(0);\n  const [subX, setSubX] = useState<any>(0);\n  const [subH, setSubH] = useState<any>(0);\n  const [subW, setSubW] = useState<any>(0);\n  const updateSubs = () => {\n    setSubY(imgRef.current?.offsetTop);\n    setSubX(imgRef.current?.offsetLeft);\n    setSubH(imgRef.current?.offsetHeight);\n    setSubW(imgRef.current?.offsetWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateSubs);\n    return () => {\n      window.removeEventListener(\"resize\", updateSubs);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 11,\n          top: subY,\n          left: subX,\n          width: subW,\n          height: subH,\n        }}\n      >\n        {subtitle[page]\n          ?.sort((a, b) => a.index - b.index)\n          .map(({ text, x, y, width, size, style, index }) => (\n            <SubTitle\n              key={index}\n              id={index}\n              text={text}\n              x={x}\n              y={y}\n              width={width}\n              size={(size * subW) / 100}\n              style={style}\n            />\n          ))}\n      </div>\n      <img\n        onLoad={updateSubs}\n        ref={imgRef}\n        src={imgPath}\n        alt={page}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst SubTitle = ({\n  text,\n  x,\n  y,\n  width,\n  size,\n  style,\n  id,\n}: {\n  text: string;\n  x: number;\n  y: number;\n  width?: number;\n  [k: string]: any;\n}) => {\n  return (\n    <p\n      id={`${id}`}\n      style={{\n        position: \"absolute\",\n        top: `${y}%`,\n        left: `${x}%`,\n        width: `${width}%`,\n        fontSize: `${size}px`,\n        ...style,\n      }}\n    >\n      {text}\n    </p>\n  );\n};\n\nexport default ImageSubTittle;\n","/home/intelie/Documents/srt2/src/cmponents/EditSub.tsx",["39","40","41"],"/home/intelie/Documents/srt2/src/reportWebVitals.ts",[],"/home/intelie/Documents/srt2/src/index.tsx",[],{"ruleId":"42","severity":1,"message":"43","line":1,"column":17,"nodeType":"44","messageId":"45","endLine":1,"endColumn":26},{"ruleId":"42","severity":1,"message":"46","line":2,"column":8,"nodeType":"44","messageId":"45","endLine":2,"endColumn":12},{"ruleId":"42","severity":1,"message":"47","line":5,"column":10,"nodeType":"44","messageId":"45","endLine":5,"endColumn":27},{"ruleId":"42","severity":1,"message":"48","line":46,"column":7,"nodeType":"44","messageId":"45","endLine":46,"endColumn":11},{"ruleId":"42","severity":1,"message":"49","line":15,"column":7,"nodeType":"44","messageId":"45","endLine":15,"endColumn":18},{"ruleId":"50","severity":1,"message":"51","line":20,"column":52,"nodeType":"52","messageId":"53","endLine":20,"endColumn":54},{"ruleId":"54","severity":1,"message":"55","line":38,"column":35,"nodeType":"56","messageId":"57","endLine":38,"endColumn":37},{"ruleId":"54","severity":1,"message":"55","line":85,"column":31,"nodeType":"56","messageId":"57","endLine":85,"endColumn":33},{"ruleId":"54","severity":1,"message":"55","line":87,"column":66,"nodeType":"56","messageId":"57","endLine":87,"endColumn":68},{"ruleId":"42","severity":1,"message":"58","line":1,"column":28,"nodeType":"44","messageId":"45","endLine":1,"endColumn":35},{"ruleId":"42","severity":1,"message":"59","line":2,"column":10,"nodeType":"44","messageId":"45","endLine":2,"endColumn":31},{"ruleId":"42","severity":1,"message":"59","line":6,"column":3,"nodeType":"44","messageId":"45","endLine":6,"endColumn":24},{"ruleId":"60","severity":1,"message":"61","line":266,"column":6,"nodeType":"62","endLine":266,"endColumn":19,"suggestions":"63"},{"ruleId":"60","severity":1,"message":"64","line":274,"column":6,"nodeType":"62","endLine":274,"endColumn":12,"suggestions":"65"},"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used.","'parseObjectToPSRT' is defined but never used.","'mock' is assigned a value but never used.","'currentPage' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'useMemo' is defined but never used.","'parsePSRTFileToObject' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateSubInfos'. Either include it or remove the dependency array.","ArrayExpression",["66"],"React Hook useEffect has missing dependencies: 'clearSub', 'setDefaultPage', and 'sub'. Either include them or remove the dependency array. If 'setDefaultPage' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["67"],{"desc":"68","fix":"69"},{"desc":"70","fix":"71"},"Update the dependencies array to be: [index, page, updateSubInfos]",{"range":"72","text":"73"},"Update the dependencies array to be: [clearSub, page, setDefaultPage, sub]",{"range":"74","text":"75"},[7016,7029],"[index, page, updateSubInfos]",[7275,7281],"[clearSub, page, setDefaultPage, sub]"]