{"code":"(this.webpackJsonpsrt2=this.webpackJsonpsrt2||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){\"use strict\";a.r(t);var n=a(2),c=a(0),i=a.n(c),l=a(20),r=a.n(l),o=(a(42),a(4)),s=a(8),u=(a(43),a(36)),d=function(e){var t=e.text,a=e.x,c=e.y,i=e.width,l=e.size,r=e.style,s=e.id,u=e.globalStyle;return Object(n.jsx)(\"p\",{id:\"\".concat(s),style:Object(o.a)(Object(o.a)({position:\"absolute\",top:\"\".concat(c,\"%\"),left:\"\".concat(a,\"%\"),width:\"\".concat(i,\"%\"),fontSize:\"\".concat(l,\"px\")},r),u),children:t})},b=function(e){var t,a=e.imgPath,i=e.subtitle,l=e.page,r=Object(u.a)(e,[\"imgPath\",\"subtitle\",\"page\"]),b=Object(c.useRef)(null),j=Object(c.useState)(0),O=Object(s.a)(j,2),p=O[0],f=O[1],g=Object(c.useState)(0),h=Object(s.a)(g,2),v=h[0],x=h[1],m=Object(c.useState)(0),y=Object(s.a)(m,2),S=y[0],C=y[1],w=Object(c.useState)(0),k=Object(s.a)(w,2),I=k[0],F=k[1],N=function(){var e,t,a,n;f(null===(e=b.current)||void 0===e?void 0:e.offsetTop),x(null===(t=b.current)||void 0===t?void 0:t.offsetLeft),C(null===(a=b.current)||void 0===a?void 0:a.offsetHeight),F(null===(n=b.current)||void 0===n?void 0:n.offsetWidth)};return Object(c.useEffect)((function(){return window.addEventListener(\"resize\",N),function(){window.removeEventListener(\"resize\",N)}}),[]),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"div\",{style:{position:\"absolute\",zIndex:11,top:p,left:v,width:I,height:S},children:null===(t=i[l])||void 0===t?void 0:t.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.text,a=e.x,c=e.y,l=e.width,r=e.size,o=e.style,s=e.index;return Object(n.jsx)(d,{id:s,text:t,globalStyle:i.__global_style__,x:a,y:c,width:l,size:r*I/100,style:o},s)}))}),Object(n.jsx)(\"img\",Object(o.a)({onLoad:N,ref:b,src:a,alt:l},r))]})},j=function(e){var t={},a=\"\",n=0,c=0;return e.split(\"\\n\").map((function(e){if(e.includes(\"$START\"))a=e.substring(6).trim().split(\"/\")[0],t[a]=[],e.substring(6).trim().split(\"/\")[1]&&(t.__global_style__=JSON.parse(e.substring(6).trim().split(\"/\")[1]));else if(e.includes(\"$END\"))a=\"\";else if(e.includes(\">>\")){var i,l,r=e.substring(2),o=r.split(\"/\")[0].split(\"-\"),u=Object(s.a)(o,4),d=u[0],b=u[1],j=u[2],O=u[3];null===(i=t[a])||void 0===i||i.push({index:r.split(\"/\")[2]?parseInt(r.split(\"/\")[2]):c+n,x:parseFloat(d),y:parseFloat(b),size:parseFloat(j),width:parseFloat(O),style:JSON.parse(null===(l=r.split(\"/\"))||void 0===l?void 0:l[1])}),c=r.split(\"/\")[2]?parseInt(r.split(\"/\")[2]):c,n+=1}else if(e.length>1){var p,f;if((null===(p=t[a])||void 0===p?void 0:p.length)>0)t[a][(null===(f=t[a])||void 0===f?void 0:f.length)-1].text=e}})),t},O=a(10),p=a(18),f=a(56),g=a(54),h=a(31),v=a(55),x=a(35),m=\"#0f04\";function y(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var c=document.createElement(\"a\"),i=URL.createObjectURL(n);c.href=i,c.download=t,document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(i)}),0)}}var S=function(e){return function(t){var a=t.target.files;if(FileReader&&a&&a.length){var n=new FileReader;n.onload=function(){return e(n)},n.readAsDataURL(a[0])}}},C=function(e){return function(t){var a=t.target.files;if(FileReader&&a&&a.length){var n=new FileReader;n.onload=function(){return e(n)},n.readAsText(a[0])}}},w=function(e){var t,a,i,l=e.sub,r=e.setSub,u=e.page,d=e.setPage,b=e.setImage,w=(e.setImageStyle,Object(c.useState)(u||\"page1\")),k=Object(s.a)(w,2),I=k[0],F=k[1],N=Object(c.useState)(!1),L=Object(s.a)(N,2),_=L[0],z=L[1],T=Object(c.useState)(1),R=Object(s.a)(T,2),P=R[0],G=R[1],E=Object(c.useState)(0),A=Object(s.a)(E,2),J=A[0],D=A[1],B=Object(c.useState)(0),U=Object(s.a)(B,2),X=U[0],Y=U[1],$=Object(c.useState)(0),W=Object(s.a)($,2),H=W[0],M=W[1],q=Object(c.useState)(0),K=Object(s.a)(q,2),V=K[0],Q=K[1],Z=Object(c.useState)(\"\"),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(!0),ce=Object(s.a)(ne,2),ie=ce[0],le=ce[1],re=Object(c.useState)({}),oe=Object(s.a)(re,2),se=oe[0],ue=oe[1],de=Object(c.useState)(\"\"),be=Object(s.a)(de,2),je=be[0],Oe=be[1],pe=Object(c.useState)(\"\"),fe=Object(s.a)(pe,2),ge=fe[0],he=fe[1],ve=Object(c.useState)(l||{}),xe=Object(s.a)(ve,2),me=xe[0],ye=xe[1],Se=Object(c.useState)((null===(t=l[\"\".concat(I)])||void 0===t?void 0:t.reduce((function(e,t){return t.index>e?t.index:e}),0))+1),Ce=Object(s.a)(Se,2),we=Ce[0],ke=Ce[1];Object(c.useEffect)((function(){!function(){if(Object.keys(me).includes(I))try{r((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},Object(O.a)({},I,Object(p.a)(null===(t=e[I])||void 0===t?void 0:t.map((function(e){return e.index===parseInt(String(P))?Object(o.a)(Object(o.a)({},e),{},{x:parseFloat(J),y:parseFloat(X),width:parseFloat(H),size:parseFloat(V),text:te,style:Object(o.a)(Object(o.a)({},se),{},{backgroundColor:m})}):(e.style.backgroundColor===m&&delete e.style.backgroundColor,Object(o.a)(Object(o.a)({},e),{},{style:Object(o.a)(Object(o.a)({},e.style),{},{backgroundColor:null===(t=me[I])||void 0===t||null===(a=t.style)||void 0===a?void 0:a.backgroundColor})}));var t,a})))))})),ye((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},Object(O.a)({},I,Object(p.a)(null===me||void 0===me||null===(t=me[I])||void 0===t?void 0:t.map((function(e){return e.index===parseInt(String(P))?Object(o.a)(Object(o.a)({},e),{},{x:parseFloat(J),y:parseFloat(X),width:parseFloat(H),size:parseFloat(V),text:te,style:Object(o.a)({},se)}):Object(o.a)({},e)})))))}))}catch(e){console.log(e)}}()}),[J,X,H,V,te,se,u]);var Ie=function(e){if(I){var t,a=null===(t=(e||l)[I])||void 0===t?void 0:t.find((function(e){return e.index===parseInt(String(P))}));D((function(e){return(null===a||void 0===a?void 0:a.x)||e})),Y((function(e){return(null===a||void 0===a?void 0:a.y)||e})),M((function(e){return(null===a||void 0===a?void 0:a.width)||e})),Q((function(e){return(null===a||void 0===a?void 0:a.size)||e})),ae((null===a||void 0===a?void 0:a.text)||\"\"),ue((function(e){return(null===a||void 0===a?void 0:a.style)?Object(o.a)({},null===a||void 0===a?void 0:a.style):Object(o.a)({},e)}))}};return Object(c.useEffect)((function(){Ie()}),[P,I]),Object(c.useEffect)((function(){var e;z(!Object.keys(l).includes(I)),Object.keys(l).includes(I)&&d(I),ke((null===(e=me[I])||void 0===e?void 0:e.reduce((function(e,t){var a=t.index;return a>e?a:e}),0))+1)}),[I]),Object(n.jsxs)(f.a,{style:{position:\"fixed\",width:\"500px\",left:0,overflowY:\"auto\",overflowX:\"hidden\",zIndex:50},children:[Object(n.jsxs)(\"div\",{className:\"form-check form-switch mr-0\",children:[Object(n.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",onClick:function(){return le((function(e){return!e}))},id:\"flexSwitchCheckChecked\",checked:ie}),Object(n.jsx)(\"label\",{className:\"form-check-label\",htmlFor:\"flexSwitchCheckChecked\",children:\"Settings\"})]}),ie&&Object(n.jsxs)(\"div\",{children:[Object(n.jsxs)(g.a,{className:\"mb-2\",children:[Object(n.jsxs)(f.a.Group,{className:\" col-4 mb-0\",controlId:\"subtitle-file\",children:[Object(n.jsx)(f.a.Label,{className:\"btn btn-primary\",children:\"Load Image\"}),Object(n.jsx)(f.a.Control,{onChange:S((function(e){localStorage.setItem(\"lastImage\",String(e.result)),b(String(e.result))})),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),Object(n.jsxs)(f.a.Group,{className:\" col-4 mb-0\",controlId:\"image-file\",children:[Object(n.jsx)(f.a.Label,{className:\"btn btn-primary\",children:\"Load SubTitle\"}),Object(n.jsx)(f.a.Control,{onChange:C((function(e){localStorage.setItem(\"lastPSRT\",String(e.result));var t=j(String(e.result));r(t),ye(t),ke(t[I].reduce((function(e,t){var a=t.index;return a>e?a:e}),0)+1),Ie(t)})),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),Object(n.jsx)(h.a,{className:\" col-2\",onClick:function(){var e={page1:[]};ye(e),r(e),F(\"page1\"),G(0),ke(0)},variant:\"danger\",children:\"Clear All\"})]}),Object(n.jsxs)(g.a,{style:{alignItems:\"flex-end\"},children:[Object(n.jsxs)(f.a.Group,{className:\" col-3 mb-0\",controlId:\"formPage\",children:[Object(n.jsx)(f.a.Label,{children:\"Page\"}),Object(n.jsx)(f.a.Control,{value:I,onChange:function(e){return F(e.target.value)},placeholder:\"Page\"})]}),Object(n.jsx)(h.a,{className:\" col-2\",onClick:function(){_&&(r(Object(o.a)(Object(o.a)({},me),{},Object(O.a)({},I,[{index:parseInt(String(0)),x:parseFloat(String(J)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(V)),text:te,style:Object(o.a)(Object(o.a)({},se),{},{backgroundColor:m})}]))),ye(Object(o.a)(Object(o.a)({},me),{},Object(O.a)({},I,[{index:parseInt(String(0)),x:parseFloat(String(J)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(V)),text:te,style:Object(o.a)({},se)}]))),Ie(l),G(0),ke(1),d(I),Ie())},disabled:!_,variant:\"primary\",children:\"Add page\"}),Object(n.jsxs)(f.a.Group,{className:\" col-3 mb-0\",controlId:\"formIndex\",children:[Object(n.jsx)(f.a.Label,{children:\"Index\"}),Object(n.jsx)(f.a.Control,{value:P,onChange:function(e){return G(e.target.value)},type:\"number\",min:\"0\",max:null===(a=l[String(I)])||void 0===a?void 0:a.length,step:\"1\",placeholder:\"index\"})]}),Object(n.jsx)(h.a,{className:\" col-2\",onClick:function(){r((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(O.a)({},I,[].concat(Object(p.a)(e[I]),[{index:parseInt(String(we)),x:parseFloat(String(J)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(V)),text:te,style:Object(o.a)(Object(o.a)({},se),{},{backgroundColor:m})}])))})),ye((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(O.a)({},I,[].concat(Object(p.a)(e[I]),[{index:parseInt(String(we)),x:parseFloat(String(J)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(V)),text:te,style:Object(o.a)({},se)}])))})),G(we),ke((function(e){return e+1}))},variant:\"primary\",children:\"Add Text\"})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formX\",children:[Object(n.jsx)(f.a.Label,{children:\"X axis\"}),Object(n.jsx)(f.a.Control,{value:J,onChange:function(e){return D(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"X\"})]}),Object(n.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formY\",children:[Object(n.jsx)(f.a.Label,{children:\"Y axis\"}),Object(n.jsx)(f.a.Control,{value:X,onChange:function(e){return Y(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"Y\"})]}),Object(n.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formY\",children:[Object(n.jsx)(f.a.Label,{children:\"Size\"}),Object(n.jsx)(f.a.Control,{value:V,onChange:function(e){return Q(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"size\"})]}),Object(n.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formWidth\",children:[Object(n.jsx)(f.a.Label,{children:\"Width\"}),Object(n.jsx)(f.a.Control,{value:H,onChange:function(e){return M(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"width\"})]})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsxs)(f.a.Group,{className:\" col-8\",controlId:\"formText\",children:[Object(n.jsx)(f.a.Label,{children:\"Text\"}),Object(n.jsx)(f.a.Control,{value:te,onChange:function(e){return ae(e.target.value)},type:\"text\",placeholder:\"width\"})]}),Object.keys(se).length>0&&Object(n.jsx)(v.a,{className:\"col-4\",variant:\"secondary\",id:\"dropdown-basic-button\",title:\"Styles\",children:Object.keys(se).length>0&&(null===(i=Object.keys(se))||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(x.a.Item,{onClick:function(){return function(e){he(se[e]),Oe(e);var t=Object(o.a)({},se);delete t[e],ue(t)}(e)},children:\"\".concat(e.replaceAll(\"_\",\" \"),\" : \").concat(se[e])},e)})))})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(f.a.Group,{className:\" col-4\",controlId:\"formKeyStyle\",children:Object(n.jsx)(f.a.Control,{value:je,onChange:function(e){return Oe(e.target.value)},type:\"text\",placeholder:\"key\"})}),Object(n.jsx)(f.a.Group,{className:\" col-4\",controlId:\"formValueStyle\",children:Object(n.jsx)(f.a.Control,{value:ge,onChange:function(e){return he(e.target.value)},type:\"text\",placeholder:\"value\"})}),Object(n.jsx)(h.a,{style:{height:\"100%\"},className:\"p-2 col-4 btn-secondary\",onClick:function(){ue((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(O.a)({},je,ge))})),he(\"\"),Oe(\"\")},children:\"Add Style\"})]}),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(h.a,{onClick:function(){return y(function(e){var t=\"\";return Object.keys(e).filter((function(e){return\"__global_style__\"!==e})).map((function(a){var n;t+=\"$START \".concat(a,\"/\").concat(JSON.stringify((null===e||void 0===e?void 0:e.__global_style__)||{}),\"\\n\"),null===(n=e[a])||void 0===n||n.map((function(e,a){var n=e.x,c=e.y,i=e.size,l=e.width,r=e.text,o=e.style,s=e.index;t+=\">>\".concat(n,\"-\").concat(c,\"-\").concat(i,\"-\").concat(l,\"/\").concat(JSON.stringify(o),\"/\").concat(s||a,\"\\n\"),t+=\"\".concat(r,\"\\n\\n\")})),t+=\"$END \".concat(a,\"\\n\\n\")})),t}(me),\"sub.psrt\",\"jpg\")},variant:\"primary\",children:\"Dowload Subtitle (.psrt)\"}),Object(n.jsx)(h.a,{onClick:function(){return y(JSON.stringify(me),\"sub.json\",\"jpg\")},variant:\"primary\",children:\"Dowload Subtitle (.json)\"})]})]})]})};a(48);var k=function(){var e=Object(c.useState)(localStorage.getItem(\"lastImage\")||\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"),t=Object(s.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)({}),r=Object(s.a)(l,2),u=r[0],d=r[1],O=Object(c.useState)(localStorage.getItem(\"lastPSRT\")?j(localStorage.getItem(\"lastPSRT\")||\"\"):function(e){var t={},a=new XMLHttpRequest;return a.open(\"GET\",e,!1),a.onreadystatechange=function(){4===a.readyState&&(200!==a.status&&0!=a.status||(t=Object(o.a)({},j(a.responseText))))},a.send(null),t}(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\")),p=Object(s.a)(O,2),f=p[0],g=p[1],h=Object(c.useState)(\"page1\"),v=Object(s.a)(h,2),x=v[0],m=v[1];return Object(n.jsxs)(\"div\",{className:\"App container\",style:{display:\"flex\"},children:[Object(n.jsx)(w,{sub:f,setSub:g,page:x,setPage:m,setImage:i,setImageStyle:d}),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(b,{imgPath:a,page:x,subtitle:f}),Object(n.jsx)(b,{style:Object(o.a)({width:\"1300px\"},u),imgPath:a,page:x,subtitle:f})]})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,57)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),i(e),l(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById(\"root\")),I()}},[[49,1,2]]]);","name":"static/js/main.f568c18f.chunk.js","map":{"version":3,"sources":["static/js/main.f568c18f.chunk.js"],"names":["this","push","42","module","exports","__webpack_require__","43","49","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","objectWithoutProperties","ImageSubTittle_SubTitle","_ref3","text","x","y","width","size","style","id","globalStyle","Object","concat","position","top","left","fontSize","children","cmponents_ImageSubTittle","_ref","_subtitle$page","imgPath","subtitle","page","props","imgRef","_useState","_useState2","subY","setSubY","_useState3","_useState4","subX","setSubX","_useState5","_useState6","subH","setSubH","_useState7","_useState8","subW","setSubW","updateSubs","_imgRef$current","_imgRef$current2","_imgRef$current3","_imgRef$current4","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","window","addEventListener","removeEventListener","zIndex","height","sort","a","b","index","map","_ref2","__global_style__","onLoad","ref","src","alt","subtitle_parsePSRTToObject","out","currentPage","i","lastIndex","split","line","includes","substring","trim","JSON","parse","_out$currentPage","_clearLine$split","clearLine","_clearLine$split$0$sp","_clearLine$split$0$sp2","s","w","parseInt","parseFloat","length","_out$currentPage2","_out$currentPage3","defineProperty","toConsumableArray","Form","Row","Button","DropdownButton","Dropdown","BG_SELECT_COLOR","download","data","filename","type","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","getLocalImage","callback","evt","files","target","FileReader","_fr","onload","readAsDataURL","getLocalSubtitle","_fr2","readAsText","cmponents_EditSub","_sub$","_sub$String","_Object$keys","sub","setSub","defaultPage","setDefaultPage","setPage","setImage","setImageStyle","isNewPage","setIsNewPage","setIndex","setX","_useState9","_useState10","setY","_useState11","_useState12","setWidth","_useState13","_useState14","setSize","_useState15","_useState16","subText","setSubText","_useState17","_useState18","show","setShow","_useState19","_useState20","setStyle","_useState21","_useState22","keyStyle","setKeyStyle","_useState23","_useState24","valueStyle","setValueStyle","_useState25","_useState26","clearSub","setClearSub","_useState27","reduce","p","c","_useState28","setLastIndex","keys","_data$page","txt","String","backgroundColor","_clearSub$page","_clearSub$page$style","_clearSub$page2","error","console","log","handleChangeSub","updateSubInfos","newSub","_sub$page","find","oldX","oldY","oldW","oldS","old","_clearSub$page3","overflowY","overflowX","className","onClick","checked","htmlFor","Group","controlId","Label","Control","onChange","fr","localStorage","setItem","result","visibility","placeholder","page1","variant","alignItems","value","e","disabled","min","max","step","title","styleProp","Item","key","newStyles","handleRemoveStyle","replaceAll","filter","stringify","parseObjectToPSRT","src_App","getItem","imageBlob","setImageBlob","imageStyle","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","send","subtitle_parsePSRTFileToObject","subs","setSubs","setCurrentPage","display","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsrt2\"] = this[\"webpackJsonpsrt2\"] || []).push([[0],{\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(20);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/cmponents/ImageSubTittle.tsx\n// import { Container } from './styles';\nvar ImageSubTittle_ImageSubTittle=function ImageSubTittle(_ref){var _subtitle$page;var imgPath=_ref.imgPath,subtitle=_ref.subtitle,page=_ref.page,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"imgPath\",\"subtitle\",\"page\"]);var imgRef=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),subY=_useState2[0],setSubY=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),subX=_useState4[0],setSubX=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),subH=_useState6[0],setSubH=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),subW=_useState8[0],setSubW=_useState8[1];var updateSubs=function updateSubs(){var _imgRef$current,_imgRef$current2,_imgRef$current3,_imgRef$current4;setSubY((_imgRef$current=imgRef.current)===null||_imgRef$current===void 0?void 0:_imgRef$current.offsetTop);setSubX((_imgRef$current2=imgRef.current)===null||_imgRef$current2===void 0?void 0:_imgRef$current2.offsetLeft);setSubH((_imgRef$current3=imgRef.current)===null||_imgRef$current3===void 0?void 0:_imgRef$current3.offsetHeight);setSubW((_imgRef$current4=imgRef.current)===null||_imgRef$current4===void 0?void 0:_imgRef$current4.offsetWidth);};Object(react[\"useEffect\"])(function(){window.addEventListener(\"resize\",updateSubs);return function(){window.removeEventListener(\"resize\",updateSubs);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:\"absolute\",zIndex:11,top:subY,left:subX,width:subW,height:subH},children:(_subtitle$page=subtitle[page])===null||_subtitle$page===void 0?void 0:_subtitle$page.sort(function(a,b){return a.index-b.index;}).map(function(_ref2){var text=_ref2.text,x=_ref2.x,y=_ref2.y,width=_ref2.width,size=_ref2.size,style=_ref2.style,index=_ref2.index;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImageSubTittle_SubTitle,{id:index,text:text,globalStyle:subtitle.__global_style__,x:x,y:y,width:width,size:size*subW/100,style:style},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",Object(objectSpread2[\"a\" /* default */])({onLoad:updateSubs,ref:imgRef,src:imgPath,alt:page},props))]});};var ImageSubTittle_SubTitle=function SubTitle(_ref3){var text=_ref3.text,x=_ref3.x,y=_ref3.y,width=_ref3.width,size=_ref3.size,style=_ref3.style,id=_ref3.id,globalStyle=_ref3.globalStyle;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{id:\"\".concat(id),style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({position:\"absolute\",top:\"\".concat(y,\"%\"),left:\"\".concat(x,\"%\"),width:\"\".concat(width,\"%\"),fontSize:\"\".concat(size,\"px\")},style),globalStyle),children:text});};/* harmony default export */ var cmponents_ImageSubTittle = (ImageSubTittle_ImageSubTittle);\n// CONCATENATED MODULE: ./src/service/subtitle.ts\nvar subtitle_parsePSRTFileToObject=function parsePSRTFileToObject(file){var out={};var currentPage=\"\";var rawFile=new XMLHttpRequest();rawFile.open(\"GET\",file,false);rawFile.onreadystatechange=function(){if(rawFile.readyState===4){if(rawFile.status===200||rawFile.status==0){out=Object(objectSpread2[\"a\" /* default */])({},subtitle_parsePSRTToObject(rawFile.responseText));}}};rawFile.send(null);return out;};var subtitle_parsePSRTToObject=function parsePSRTToObject(subtitle){var out={};var currentPage=\"\";var i=0;var lastIndex=0;subtitle.split(\"\\n\").map(function(line){if(line.includes(\"$START\")){currentPage=line.substring(6).trim().split(\"/\")[0];out[currentPage]=[];if(line.substring(6).trim().split(\"/\")[1]){out.__global_style__=JSON.parse(line.substring(6).trim().split(\"/\")[1]);}}else if(line.includes(\"$END\")){currentPage=\"\";}else if(line.includes(\">>\")){var _out$currentPage,_clearLine$split;var clearLine=line.substring(2);var _clearLine$split$0$sp=clearLine.split(\"/\")[0].split(\"-\"),_clearLine$split$0$sp2=Object(slicedToArray[\"a\" /* default */])(_clearLine$split$0$sp,4),x=_clearLine$split$0$sp2[0],y=_clearLine$split$0$sp2[1],s=_clearLine$split$0$sp2[2],w=_clearLine$split$0$sp2[3];(_out$currentPage=out[currentPage])===null||_out$currentPage===void 0?void 0:_out$currentPage.push({index:clearLine.split(\"/\")[2]?parseInt(clearLine.split(\"/\")[2]):lastIndex+i,x:parseFloat(x),y:parseFloat(y),size:parseFloat(s),width:parseFloat(w),style:JSON.parse((_clearLine$split=clearLine.split(\"/\"))===null||_clearLine$split===void 0?void 0:_clearLine$split[1])});lastIndex=clearLine.split(\"/\")[2]?parseInt(clearLine.split(\"/\")[2]):lastIndex;i+=1;}else if(line.length>1){var _out$currentPage2;if(((_out$currentPage2=out[currentPage])===null||_out$currentPage2===void 0?void 0:_out$currentPage2.length)>0){var _out$currentPage3;out[currentPage][((_out$currentPage3=out[currentPage])===null||_out$currentPage3===void 0?void 0:_out$currentPage3.length)-1].text=line;}}});return out;};var parseObjectToPSRT=function parseObjectToPSRT(sub){var out=\"\";Object.keys(sub).filter(function(a){return a!==\"__global_style__\";}).map(function(page){var _sub$page;out+=\"$START \".concat(page,\"/\").concat(JSON.stringify((sub===null||sub===void 0?void 0:sub.__global_style__)||{}),\"\\n\");(_sub$page=sub[page])===null||_sub$page===void 0?void 0:_sub$page.map(function(_ref,i){var x=_ref.x,y=_ref.y,size=_ref.size,width=_ref.width,text=_ref.text,style=_ref.style,index=_ref.index;out+=\">>\".concat(x,\"-\").concat(y,\"-\").concat(size,\"-\").concat(width,\"/\").concat(JSON.stringify(style),\"/\").concat(index||i,\"\\n\");out+=\"\".concat(text,\"\\n\\n\");});out+=\"$END \".concat(page,\"\\n\\n\");});return out;};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 14 modules\nvar Form = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/DropdownButton.js\nvar DropdownButton = __webpack_require__(55);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 14 modules\nvar Dropdown = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/cmponents/EditSub.tsx\n/* eslint-disable react/jsx-no-undef */var BG_SELECT_COLOR=\"#0f04\";//import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\nvar EditSub_EditSub=function EditSub(_ref){var _sub$,_sub$String,_Object$keys;var sub=_ref.sub,setSub=_ref.setSub,defaultPage=_ref.page,setDefaultPage=_ref.setPage,setImage=_ref.setImage,setImageStyle=_ref.setImageStyle;var _useState=Object(react[\"useState\"])(defaultPage||\"page1\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isNewPage=_useState4[0],setIsNewPage=_useState4[1];var _useState5=Object(react[\"useState\"])(1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),x=_useState8[0],setX=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),y=_useState10[0],setY=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),width=_useState12[0],setWidth=_useState12[1];var _useState13=Object(react[\"useState\"])(0),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),size=_useState14[0],setSize=_useState14[1];var _useState15=Object(react[\"useState\"])(\"\"),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),subText=_useState16[0],setSubText=_useState16[1];var _useState17=Object(react[\"useState\"])(true),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),show=_useState18[0],setShow=_useState18[1];var _useState19=Object(react[\"useState\"])({}),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),style=_useState20[0],setStyle=_useState20[1];var _useState21=Object(react[\"useState\"])(\"\"),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),keyStyle=_useState22[0],setKeyStyle=_useState22[1];var _useState23=Object(react[\"useState\"])(\"\"),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),valueStyle=_useState24[0],setValueStyle=_useState24[1];var _useState25=Object(react[\"useState\"])(sub?sub:{}),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),clearSub=_useState26[0],setClearSub=_useState26[1];var _useState27=Object(react[\"useState\"])(((_sub$=sub[\"\".concat(page)])===null||_sub$===void 0?void 0:_sub$.reduce(function(p,c){return c.index>p?c.index:p;},0))+1),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),lastIndex=_useState28[0],setLastIndex=_useState28[1];var handleChangeSub=function handleChangeSub(){if(Object.keys(clearSub).includes(page)){try{setSub(function(data){var _data$page;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,Object(toConsumableArray[\"a\" /* default */])((_data$page=data[page])===null||_data$page===void 0?void 0:_data$page.map(function(txt){if(txt.index===parseInt(String(index))){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt),{},{x:parseFloat(x),y:parseFloat(y),width:parseFloat(width),size:parseFloat(size),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:BG_SELECT_COLOR})});}else{var _clearSub$page,_clearSub$page$style;if(txt.style.backgroundColor===BG_SELECT_COLOR){delete txt.style.backgroundColor;}return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt),{},{style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt.style),{},{backgroundColor:(_clearSub$page=clearSub[page])===null||_clearSub$page===void 0?void 0:(_clearSub$page$style=_clearSub$page.style)===null||_clearSub$page$style===void 0?void 0:_clearSub$page$style.backgroundColor})});}}))));});setClearSub(function(data){var _clearSub$page2;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,Object(toConsumableArray[\"a\" /* default */])(clearSub===null||clearSub===void 0?void 0:(_clearSub$page2=clearSub[page])===null||_clearSub$page2===void 0?void 0:_clearSub$page2.map(function(txt){if(txt.index===parseInt(String(index))){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt),{},{x:parseFloat(x),y:parseFloat(y),width:parseFloat(width),size:parseFloat(size),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)});}else{return Object(objectSpread2[\"a\" /* default */])({},txt);}}))));});}catch(error){console.log(error);}}};Object(react[\"useEffect\"])(function(){//console.log(sub);\nhandleChangeSub();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[x,y,width,size,subText,style,defaultPage]);var updateSubInfos=function updateSubInfos(newSub){var _sub=newSub||sub;if(page){var _sub$page;var text=(_sub$page=_sub[page])===null||_sub$page===void 0?void 0:_sub$page.find(function(a){return a.index===parseInt(String(index));});setX(function(oldX){return(text===null||text===void 0?void 0:text.x)||oldX;});setY(function(oldY){return(text===null||text===void 0?void 0:text.y)||oldY;});setWidth(function(oldW){return(text===null||text===void 0?void 0:text.width)||oldW;});setSize(function(oldS){return(text===null||text===void 0?void 0:text.size)||oldS;});setSubText((text===null||text===void 0?void 0:text.text)||\"\");setStyle(function(old){return(text===null||text===void 0?void 0:text.style)?Object(objectSpread2[\"a\" /* default */])({},text===null||text===void 0?void 0:text.style):Object(objectSpread2[\"a\" /* default */])({},old);});}};var addNewText=function addNewText(){setSub(function(data){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,[].concat(Object(toConsumableArray[\"a\" /* default */])(data[page]),[{index:parseInt(String(lastIndex)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:BG_SELECT_COLOR})}])));});setClearSub(function(data){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,[].concat(Object(toConsumableArray[\"a\" /* default */])(data[page]),[{index:parseInt(String(lastIndex)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)}])));});setIndex(lastIndex);setLastIndex(function(old){return old+1;});};var addNewPage=function addNewPage(){if(isNewPage){setSub(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},clearSub),{},Object(defineProperty[\"a\" /* default */])({},page,[{index:parseInt(String(0)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:BG_SELECT_COLOR})}])));setClearSub(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},clearSub),{},Object(defineProperty[\"a\" /* default */])({},page,[{index:parseInt(String(0)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)}])));updateSubInfos(sub);setIndex(0);setLastIndex(1);setDefaultPage(page);updateSubInfos();}};var updateSubtitleFile=function updateSubtitleFile(fr){localStorage.setItem('lastPSRT',String(fr.result));var newSub=subtitle_parsePSRTToObject(String(fr.result));setSub(newSub);setClearSub(newSub);setLastIndex(newSub[page].reduce(function(p,_ref2){var index=_ref2.index;return index>p?index:p;},0)+1);updateSubInfos(newSub);};var showImage=function showImage(fr){localStorage.setItem('lastImage',String(fr.result));setImage(String(fr.result));};var handleAddStyle=function handleAddStyle(){setStyle(function(old){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},old),{},Object(defineProperty[\"a\" /* default */])({},keyStyle,valueStyle));});setValueStyle(\"\");setKeyStyle(\"\");};var handleRemoveStyle=function handleRemoveStyle(key){setValueStyle(style[key]);setKeyStyle(key);var newStyles=Object(objectSpread2[\"a\" /* default */])({},style);delete newStyles[key];setStyle(newStyles);};var handleClearAll=function handleClearAll(){var newSub={page1:[]};setClearSub(newSub);setSub(newSub);setPage(\"page1\");setIndex(0);setLastIndex(0);};Object(react[\"useEffect\"])(function(){updateSubInfos();},[index,page]);Object(react[\"useEffect\"])(function(){var _clearSub$page3;setIsNewPage(!Object.keys(sub).includes(page));Object.keys(sub).includes(page)&&setDefaultPage(page);setLastIndex(((_clearSub$page3=clearSub[page])===null||_clearSub$page3===void 0?void 0:_clearSub$page3.reduce(function(p,_ref3){var index=_ref3.index;return index>p?index:p;},0))+1);},[page]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{style:{position:\"fixed\",width:\"500px\",left:0,overflowY:\"auto\",overflowX:\"hidden\",zIndex:50},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-check form-switch mr-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",onClick:function onClick(){return setShow(function(a){return!a;});},id:\"flexSwitchCheckChecked\",checked:show}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"form-check-label\",htmlFor:\"flexSwitchCheckChecked\",children:\"Settings\"})]}),show&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-4 mb-0\",controlId:\"subtitle-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"btn btn-primary\",children:\"Load Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{onChange:getLocalImage(showImage),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-4 mb-0\",controlId:\"image-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"btn btn-primary\",children:\"Load SubTitle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{onChange:getLocalSubtitle(updateSubtitleFile),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:handleClearAll,variant:\"danger\",children:\"Clear All\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{style:{alignItems:\"flex-end\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3 mb-0\",controlId:\"formPage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:page,onChange:function onChange(e){return setPage(e.target.value);},placeholder:\"Page\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:addNewPage,disabled:!isNewPage,variant:\"primary\",children:\"Add page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3 mb-0\",controlId:\"formIndex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Index\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:index,onChange:function onChange(e){return setIndex(e.target.value);},type:\"number\",min:\"0\",max:(_sub$String=sub[String(page)])===null||_sub$String===void 0?void 0:_sub$String.length,step:\"1\",placeholder:\"index\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:addNewText,variant:\"primary\",children:\"Add Text\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formX\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"X axis\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:x,onChange:function onChange(e){return setX(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"X\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formY\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Y axis\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:y,onChange:function onChange(e){return setY(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"Y\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formY\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Size\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:size,onChange:function onChange(e){return setSize(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"size\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formWidth\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Width\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:width,onChange:function onChange(e){return setWidth(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"width\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-8\",controlId:\"formText\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:subText,onChange:function onChange(e){return setSubText(e.target.value);},type:\"text\",placeholder:\"width\"})]}),Object.keys(style).length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DropdownButton[\"a\" /* default */],{className:\"col-4\",variant:\"secondary\",id:\"dropdown-basic-button\",title:\"Styles\",children:Object.keys(style).length>0&&((_Object$keys=Object.keys(style))===null||_Object$keys===void 0?void 0:_Object$keys.map(function(styleProp){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{onClick:function onClick(){return handleRemoveStyle(styleProp);},children:\"\".concat(styleProp.replaceAll(\"_\",\" \"),\" : \").concat(style[styleProp])},styleProp);}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{className:\" col-4\",controlId:\"formKeyStyle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:keyStyle,onChange:function onChange(e){return setKeyStyle(e.target.value);},type:\"text\",placeholder:\"key\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{className:\" col-4\",controlId:\"formValueStyle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:valueStyle,onChange:function onChange(e){return setValueStyle(e.target.value);},type:\"text\",placeholder:\"value\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{height:\"100%\"},className:\"p-2 col-4 btn-secondary\",onClick:handleAddStyle,children:\"Add Style\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return download(parseObjectToPSRT(clearSub),\"sub.psrt\",\"jpg\");},variant:\"primary\",children:\"Dowload Subtitle (.psrt)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return download(JSON.stringify(clearSub),\"sub.json\",\"jpg\");},variant:\"primary\",children:\"Dowload Subtitle (.json)\"})]})]})]});};function download(data,filename,type){var file=new Blob([data],{type:type});if(window.navigator.msSaveOrOpenBlob)// IE10+\nwindow.navigator.msSaveOrOpenBlob(file,filename);else{// Others\nvar a=document.createElement(\"a\"),url=URL.createObjectURL(file);a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);window.URL.revokeObjectURL(url);},0);}}var getLocalImage=function getLocalImage(callback){return function(evt){var tgt=evt.target;var files=tgt.files;// FileReader support\nif(FileReader&&files&&files.length){var _fr=new FileReader();_fr.onload=function(){return callback(_fr);};_fr.readAsDataURL(files[0]);}};};var getLocalSubtitle=function getLocalSubtitle(callback){return function(evt){var tgt=evt.target;var files=tgt.files;// FileReader support\nif(FileReader&&files&&files.length){var _fr2=new FileReader();_fr2.onload=function(){return callback(_fr2);};_fr2.readAsText(files[0]);}};};/* harmony default export */ var cmponents_EditSub = (EditSub_EditSub);\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(48);\n\n// CONCATENATED MODULE: ./src/App.tsx\nfunction App_App(){var _useState=Object(react[\"useState\"])(localStorage.getItem(\"lastImage\")||\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageBlob=_useState2[0],setImageBlob=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),imageStyle=_useState4[0],setImageStyle=_useState4[1];var _useState5=Object(react[\"useState\"])(localStorage.getItem(\"lastPSRT\")?subtitle_parsePSRTToObject(localStorage.getItem(\"lastPSRT\")||\"\"):subtitle_parsePSRTFileToObject(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\")),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),subs=_useState6[0],setSubs=_useState6[1];var _useState7=Object(react[\"useState\"])(\"page1\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App container\",style:{display:\"flex\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_EditSub,{sub:subs,setSub:setSubs,page:currentPage,setPage:setCurrentPage,setImage:setImageBlob,setImageStyle:setImageStyle}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_ImageSubTittle,{imgPath:imageBlob,page:currentPage,subtitle:subs}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_ImageSubTittle,{style:Object(objectSpread2[\"a\" /* default */])({width:\"1300px\"},imageStyle),imgPath:imageBlob,page:currentPage,subtitle:subs})]})]});}/* harmony default export */ var src_App = (App_App);var mock={page1:[{x:6.7,y:8,width:6,size:2,text:\"Ns vamos morrer!\",style:{fontWeight:\"bold\",wordWrap:\"break-word\",msWrapFlow:\"end\"}},{x:39,y:5,width:10,size:3,text:\"Basta vencer as duas\",style:{fontWeight:\"bold\"}},{x:55,y:2,width:11,size:2,text:\"Como vocs, humanos, ousam recusar a punio!\",style:{fontWeight:\"bold\"}},{x:8,y:32,width:11,size:2,text:\"Voc parece estar se divertindo.\",style:{//fontWeight: \"bold\",\n}},{x:18.5,y:31,width:11,size:2,text:\"Jovem Mestre,\",style:{//fontWeight: \"bold\",\n}},{x:36.5,y:32,width:11,size:2,text:\"O que eu devo fazer sobre isso?!\",style:{//fontWeight: \"bold\",\n}},{x:10,y:65,width:7,size:2,text:\"Um econt... no era isso!\",style:{//fontWeight: \"bold\",\n}},{x:7,y:74,width:10,size:2,text:\"Espera, voc viu? Quando voc comeou a vigiar?!\",style:{// fontSize:'50px'\n}},{x:51,y:60,width:10,size:2.6,text:\"\\\"Algo\\\", voc\\xEA diz?\",style:{// fontSize:'50px'\n}},{x:51,y:74,width:10,size:2,text:\"Voc teve um encontro com a Mio e agora est me pedindo ajuda?\",style:{// fontSize:'50px'\n}},{x:65,y:60,width:10,size:2,text:\"Voc no pode fazer algo sobre isso?!\",style:{// fontSize:'50px'\n}},{x:83,y:58,width:10,size:1.7,text:\"Telepatia? Tomoe!\",style:{// fontSize:'50px'\n}},{x:83.5,y:66.5,width:9,size:1.4,text:\"Voc\\xEA sabe o que est\\xE1 acontecendo?!\",style:{// fontSize:'50px'\n}}]};\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 57)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[49,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/intelie/Documents/srt2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/intelie/Documents/srt2/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/intelie/Documents/srt2/node_modules/postcss-loader/src/index.js??postcss!/home/intelie/Documents/srt2/src/index.css","/home/intelie/Documents/srt2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/intelie/Documents/srt2/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/intelie/Documents/srt2/node_modules/postcss-loader/src/index.js??postcss!/home/intelie/Documents/srt2/src/App.css","/home/intelie/Documents/srt2/src/cmponents/ImageSubTittle.tsx","/home/intelie/Documents/srt2/src/service/subtitle.ts","/home/intelie/Documents/srt2/src/cmponents/EditSub.tsx","/home/intelie/Documents/srt2/src/App.tsx","/home/intelie/Documents/srt2/src/reportWebVitals.ts","/home/intelie/Documents/srt2/src/index.tsx"],"names":["ImageSubTittle","imgPath","subtitle","page","props","imgRef","useRef","useState","subY","setSubY","subX","setSubX","subH","setSubH","subW","setSubW","updateSubs","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","useEffect","window","addEventListener","removeEventListener","position","zIndex","top","left","width","height","sort","a","b","index","map","text","x","y","size","style","__global_style__","SubTitle","id","globalStyle","fontSize","parsePSRTFileToObject","file","out","currentPage","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","parsePSRTToObject","responseText","send","i","lastIndex","split","line","includes","substring","trim","JSON","parse","clearLine","s","w","push","parseInt","parseFloat","length","parseObjectToPSRT","sub","Object","keys","filter","stringify","BG_SELECT_COLOR","EditSub","setSub","defaultPage","setDefaultPage","setPage","setImage","setImageStyle","isNewPage","setIsNewPage","setIndex","setX","setY","setWidth","setSize","subText","setSubText","show","setShow","setStyle","keyStyle","setKeyStyle","valueStyle","setValueStyle","clearSub","setClearSub","reduce","p","c","setLastIndex","handleChangeSub","data","txt","String","backgroundColor","error","console","log","updateSubInfos","newSub","_sub","find","oldX","oldY","oldW","oldS","old","addNewText","addNewPage","updateSubtitleFile","fr","localStorage","setItem","result","showImage","handleAddStyle","handleRemoveStyle","key","newStyles","handleClearAll","page1","overflowY","overflowX","getLocalImage","visibility","getLocalSubtitle","alignItems","e","target","value","styleProp","replaceAll","download","filename","type","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","callback","evt","tgt","files","FileReader","onload","readAsDataURL","readAsText","App","getItem","imageBlob","setImageBlob","imageStyle","subs","setSubs","setCurrentPage","display","mock","fontWeight","wordWrap","msWrapFlow","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { parsePSRTFileToObject } from \"../service/subtitle\";\n\n// import { Container } from './styles';\n\nconst ImageSubTittle: React.FC<{\n  imgPath: string;\n  subtitle: {\n    __global_style__?:React.CSSProperties;\n    [page: string]: {\n      x: number;\n      y: number;\n      width: number;\n      size: number;\n      text: string;\n      index: number;\n      style: React.CSSProperties;\n    }[];\n  };\n  page: string;\n\n  style?: React.CSSProperties;\n  [prop: string]: any;\n}> = ({ imgPath, subtitle, page, ...props }) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [subY, setSubY] = useState<any>(0);\n  const [subX, setSubX] = useState<any>(0);\n  const [subH, setSubH] = useState<any>(0);\n  const [subW, setSubW] = useState<any>(0);\n  const updateSubs = () => {\n    setSubY(imgRef.current?.offsetTop);\n    setSubX(imgRef.current?.offsetLeft);\n    setSubH(imgRef.current?.offsetHeight);\n    setSubW(imgRef.current?.offsetWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateSubs);\n    return () => {\n      window.removeEventListener(\"resize\", updateSubs);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 11,\n          top: subY,\n          left: subX,\n          width: subW,\n          height: subH,\n        }}\n      >\n        {subtitle[page]\n          ?.sort((a, b) => a.index - b.index)\n          .map(({ text, x, y, width, size, style, index }) => (\n            <SubTitle\n              key={index}\n              id={index}\n              text={text}\n              globalStyle={subtitle.__global_style__}\n              x={x}\n              y={y}\n              width={width}\n              size={(size * subW) / 100}\n              style={style}\n            />\n          ))}\n      </div>\n      <img\n        onLoad={updateSubs}\n        ref={imgRef}\n        src={imgPath}\n        alt={page}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst SubTitle = ({\n  text,\n  x,\n  y,\n  width,\n  size,\n  style,\n  id,\n  globalStyle,\n}: {\n  text: string;\n  x: number;\n  y: number;\n  width?: number;\n  globalStyle?: React.CSSProperties;\n  [k: string]: any;\n}) => {\n  return (\n    <p\n      id={`${id}`}\n      style={{\n        position: \"absolute\",\n        top: `${y}%`,\n        left: `${x}%`,\n        width: `${width}%`,\n        fontSize: `${size}px`,\n        ...style,\n        ...globalStyle\n      }}\n    >\n      {text}\n    </p>\n  );\n};\n\nexport default ImageSubTittle;\n","export const parsePSRTFileToObject = (\n  file: string\n): {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n} => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n  let rawFile = new XMLHttpRequest();\n  rawFile.open(\"GET\", file, false);\n  rawFile.onreadystatechange = function () {\n    if (rawFile.readyState === 4) {\n      if (rawFile.status === 200 || rawFile.status == 0) {\n        out = { ...parsePSRTToObject(rawFile.responseText) };\n      }\n    }\n  };\n\n  rawFile.send(null);\n\n  return out;\n};\n\nexport const parsePSRTToObject = (subtitle: string) => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n\n  let i = 0;\n  let lastIndex = 0;\n\n  subtitle.split(\"\\n\").map((line) => {\n    if (line.includes(\"$START\")) {\n      currentPage = line.substring(6).trim().split(\"/\")[0];\n      out[currentPage] = [];\n      if (line.substring(6).trim().split(\"/\")[1]) {\n        out.__global_style__ = JSON.parse(\n          line.substring(6).trim().split(\"/\")[1]\n        );\n      }\n    } else if (line.includes(\"$END\")) {\n      currentPage = \"\";\n    } else if (line.includes(\">>\")) {\n      const clearLine = line.substring(2);\n      const [x, y, s, w] = clearLine.split(\"/\")[0].split(\"-\");\n      out[currentPage]?.push({\n        index: clearLine.split(\"/\")[2]\n          ? parseInt(clearLine.split(\"/\")[2])\n          : lastIndex + i,\n        x: parseFloat(x),\n        y: parseFloat(y),\n        size: parseFloat(s),\n        width: parseFloat(w),\n        style: JSON.parse(clearLine.split(\"/\")?.[1]),\n      });\n      lastIndex = clearLine.split(\"/\")[2]\n        ? parseInt(clearLine.split(\"/\")[2])\n        : lastIndex;\n\n      i += 1;\n    } else if (line.length > 1) {\n      if (out[currentPage]?.length > 0) {\n        out[currentPage][out[currentPage]?.length - 1].text = line;\n      }\n    }\n  });\n\n  return out;\n};\n\nexport const parseObjectToPSRT = (sub: {\n  [page: string]: {\n    x: number;\n    y: number;\n    width: number;\n    size: number;\n    text: string;\n    index: number;\n    style: React.CSSProperties;\n  }[];\n}): string => {\n  let out = \"\";\n\n  Object.keys(sub)\n    .filter((a) => a !== \"__global_style__\")\n    .map((page) => {\n      out += `$START ${page}/${JSON.stringify(sub?.__global_style__ || {})}\\n`;\n      sub[page]?.map(({ x, y, size, width, text, style, index }, i) => {\n        out += `>>${x}-${y}-${size}-${width}/${JSON.stringify(style)}/${\n          index || i\n        }\\n`;\n        out += `${text}\\n\\n`;\n      });\n      out += `$END ${page}\\n\\n`;\n    });\n  return out;\n};\n","/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Button, DropdownButton, Dropdown, Row } from \"react-bootstrap\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"../service/subtitle\";\n\nconst BG_SELECT_COLOR = \"#0f04\";\n//import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\ntype TypeUseState<T> = (a: T | ((a: T) => T)) => void;\ntype TypeSub = {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n};\nconst EditSub: React.FC<{\n  sub: TypeSub;\n  setSub: TypeUseState<TypeSub>;\n  page?: string;\n  setPage: TypeUseState<string>;\n  setImage: TypeUseState<string>;\n  setImageStyle: TypeUseState<React.CSSProperties | string>;\n}> = ({\n  sub,\n  setSub,\n  page: defaultPage,\n  setPage: setDefaultPage,\n  setImage,\n  setImageStyle,\n}) => {\n  const [page, setPage] = useState(defaultPage || \"page1\");\n  const [isNewPage, setIsNewPage] = useState(false);\n  const [index, setIndex] = useState<string | number>(1);\n  const [x, setX] = useState<string | number>(0);\n  const [y, setY] = useState<string | number>(0);\n  const [width, setWidth] = useState<string | number>(0);\n  const [size, setSize] = useState<string | number>(0);\n  const [subText, setSubText] = useState(\"\");\n  const [show, setShow] = useState(true);\n  const [style, setStyle] = useState<{ [cssAttr: string]: string }>({});\n  const [keyStyle, setKeyStyle] = useState<string>(\"\");\n  const [valueStyle, setValueStyle] = useState<string>(\"\");\n  const [clearSub, setClearSub] = useState(sub ? sub : {});\n\n  const [lastIndex, setLastIndex] = useState(\n    sub[`${page}`]?.reduce((p, c) => (c.index > p ? c.index : p), 0) + 1\n  );\n\n  const handleChangeSub = () => {\n    if (Object.keys(clearSub).includes(page)) {\n      try {\n        setSub((data) => ({\n          ...data,\n          [page]: [\n            ...data[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                    backgroundColor: BG_SELECT_COLOR,\n                  },\n                };\n              } else {\n                if (txt.style.backgroundColor === BG_SELECT_COLOR) {\n                  delete txt.style.backgroundColor;\n                }\n                return {\n                  ...txt,\n                  style: {\n                    ...txt.style,\n                    backgroundColor: clearSub[page]?.style?.backgroundColor,\n                  },\n                };\n              }\n            }),\n          ],\n        }));\n\n        setClearSub((data) => ({\n          ...data,\n          [page]: [\n            ...clearSub?.[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                  },\n                };\n              } else {\n                return { ...txt };\n              }\n            }),\n          ],\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    //console.log(sub);\n    handleChangeSub();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [x, y, width, size, subText, style, defaultPage]);\n\n  const updateSubInfos = (newSub?: TypeSub) => {\n    const _sub = newSub || sub;\n    if (page) {\n      const text = _sub[page]?.find((a) => a.index === parseInt(String(index)));\n      setX((oldX) => text?.x || oldX);\n      setY((oldY) => text?.y || oldY);\n      setWidth((oldW) => text?.width || oldW);\n      setSize((oldS) => text?.size || oldS);\n      setSubText(text?.text || \"\");\n      setStyle((old) => (text?.style ? { ...text?.style } : { ...old }));\n    }\n  };\n\n  const addNewText = () => {\n    setSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n            backgroundColor: BG_SELECT_COLOR,\n          },\n        },\n      ],\n    }));\n\n    setClearSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n          },\n        },\n      ],\n    }));\n\n    setIndex(lastIndex);\n    setLastIndex((old) => old + 1);\n  };\n\n  const addNewPage = () => {\n    if (isNewPage) {\n      setSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n              backgroundColor: BG_SELECT_COLOR,\n            },\n          },\n        ],\n      });\n      setClearSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n            },\n          },\n        ],\n      });\n\n      updateSubInfos(sub);\n\n      setIndex(0);\n      setLastIndex(1);\n      setDefaultPage(page);\n      updateSubInfos();\n    }\n  };\n\n  const updateSubtitleFile = (fr: FileReader) => {\n    localStorage.setItem('lastPSRT',String(fr.result))\n    const newSub: TypeSub = parsePSRTToObject(String(fr.result));\n    setSub(newSub);\n    setClearSub(newSub);\n    setLastIndex(\n      newSub[page].reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n    updateSubInfos(newSub);\n  };\n  const showImage = (fr: FileReader) => {\n    localStorage.setItem('lastImage',String(fr.result))\n    setImage(String(fr.result))\n  };\n\n  const handleAddStyle = () => {\n    setStyle((old) => ({ ...old, [keyStyle]: valueStyle }));\n    setValueStyle(\"\");\n    setKeyStyle(\"\");\n  };\n\n  const handleRemoveStyle = (key: string) => {\n    setValueStyle(style[key]);\n    setKeyStyle(key);\n    const newStyles = { ...style };\n\n    delete newStyles[key];\n\n    setStyle(newStyles);\n  };\n\n  const handleClearAll = () => {\n    const newSub = {\n      page1: [],\n    };\n    setClearSub(newSub);\n\n    setSub(newSub);\n    setPage(\"page1\");\n    setIndex(0);\n    setLastIndex(0);\n  };\n\n  useEffect(() => {\n    updateSubInfos();\n  }, [index, page]);\n\n  useEffect(() => {\n    setIsNewPage(!Object.keys(sub).includes(page));\n    Object.keys(sub).includes(page) && setDefaultPage(page);\n    setLastIndex(\n      clearSub[page]?.reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n  }, [page]);\n\n  return (\n    <Form\n      style={{\n        position: \"fixed\",\n        width: \"500px\",\n        left: 0,\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        zIndex: 50,\n      }}\n    >\n      <div className={`form-check form-switch mr-0`}>\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          onClick={() => setShow((a) => !a)}\n          id=\"flexSwitchCheckChecked\"\n          checked={show}\n        />\n        <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckChecked\">\n          Settings\n        </label>\n      </div>\n      {show && (\n        <div>\n          <Row className=\"mb-2\">\n            <Form.Group className=\" col-4 mb-0\" controlId=\"subtitle-file\">\n              <Form.Label className=\"btn btn-primary\">Load Image</Form.Label>\n              <Form.Control\n                onChange={getLocalImage(showImage)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-4 mb-0\" controlId=\"image-file\">\n              <Form.Label className=\"btn btn-primary\">Load SubTitle</Form.Label>\n              <Form.Control\n                onChange={getLocalSubtitle(updateSubtitleFile)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={handleClearAll}\n              variant=\"danger\"\n            >\n              Clear All\n            </Button>\n          </Row>\n\n          <Row style={{ alignItems: \"flex-end\" }}>\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formPage\">\n              <Form.Label>Page</Form.Label>\n              <Form.Control\n                value={page}\n                onChange={(e) => setPage(e.target.value)}\n                placeholder=\"Page\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={addNewPage}\n              disabled={!isNewPage}\n              variant=\"primary\"\n            >\n              Add page\n            </Button>\n\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formIndex\">\n              <Form.Label>Index</Form.Label>\n              <Form.Control\n                value={index}\n                onChange={(e) => setIndex(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max={sub[String(page)]?.length}\n                step=\"1\"\n                placeholder=\"index\"\n              />\n            </Form.Group>\n\n            <Button className=\" col-2\" onClick={addNewText} variant=\"primary\">\n              Add Text\n            </Button>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-3\" controlId=\"formX\">\n              <Form.Label>X axis</Form.Label>\n              <Form.Control\n                value={x}\n                onChange={(e) => setX(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"X\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Y axis</Form.Label>\n              <Form.Control\n                value={y}\n                onChange={(e) => setY(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"Y\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Size</Form.Label>\n              <Form.Control\n                value={size}\n                onChange={(e) => setSize(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"size\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-3\" controlId=\"formWidth\">\n              <Form.Label>Width</Form.Label>\n              <Form.Control\n                value={width}\n                onChange={(e) => setWidth(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-8\" controlId=\"formText\">\n              <Form.Label>Text</Form.Label>\n              <Form.Control\n                value={subText}\n                onChange={(e) => setSubText(e.target.value)}\n                type=\"text\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n            {Object.keys(style).length > 0 && (\n              <DropdownButton\n                className=\"col-4\"\n                variant=\"secondary\"\n                id=\"dropdown-basic-button\"\n                title=\"Styles\"\n              >\n                {Object.keys(style).length > 0 &&\n                  Object.keys(style)?.map((styleProp) => (\n                    <Dropdown.Item\n                      onClick={() => handleRemoveStyle(styleProp)}\n                      key={styleProp}\n                    >\n                      {`${styleProp.replaceAll(\"_\", \" \")} : ${\n                        style[styleProp]\n                      }`}\n                    </Dropdown.Item>\n                  ))}\n              </DropdownButton>\n            )}\n          </Row>\n          <Row>\n            <Form.Group className=\" col-4\" controlId=\"formKeyStyle\">\n              <Form.Control\n                value={keyStyle}\n                onChange={(e) => setKeyStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"key\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-4\" controlId=\"formValueStyle\">\n              <Form.Control\n                value={valueStyle}\n                onChange={(e) => setValueStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"value\"\n              />\n            </Form.Group>\n\n            <Button\n              style={{ height: \"100%\" }}\n              className=\"p-2 col-4 btn-secondary\"\n              onClick={handleAddStyle}\n            >\n              Add Style\n            </Button>\n          </Row>\n          <div>\n            <Button\n              onClick={() =>\n                download(parseObjectToPSRT(clearSub), \"sub.psrt\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.psrt)\n            </Button>\n            <Button\n              onClick={() =>\n                download(JSON.stringify(clearSub), \"sub.json\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.json)\n            </Button>\n          </div>\n        </div>\n      )}\n    </Form>\n  );\n};\n\nfunction download(data, filename, type) {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nconst getLocalImage = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsDataURL(files[0]);\n  }\n};\n\nconst getLocalSubtitle = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsText(files[0]);\n  }\n};\n\nexport default EditSub;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle from \"./cmponents/ImageSubTittle\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    localStorage.getItem(\"lastImage\") ||\n      \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [subs, setSubs] = useState(\n    localStorage.getItem(\"lastPSRT\")\n      ? parsePSRTToObject(localStorage.getItem(\"lastPSRT\") || \"\")\n      : parsePSRTFileToObject(\n          \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\"\n        )\n  );\n  const [currentPage, setCurrentPage] = useState(\"page1\");\n\n  return (\n    <div className=\"App container\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        setImageStyle={setImageStyle}\n      />\n      <div>\n        <ImageSubTittle\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n        <ImageSubTittle\n          style={{ width: \"1300px\", ...imageStyle }}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Ns vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocs, humanos, ousam recusar a punio!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Voc parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... no era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, voc viu? Quando voc comeou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", voc diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Voc teve um encontro com a Mio e agora est me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Voc no pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Voc sabe o que est acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}