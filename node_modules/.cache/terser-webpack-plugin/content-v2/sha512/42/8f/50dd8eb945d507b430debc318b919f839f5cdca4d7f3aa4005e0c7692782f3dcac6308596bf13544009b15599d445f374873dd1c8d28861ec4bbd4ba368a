{"code":"(this.webpackJsonpsrt2=this.webpackJsonpsrt2||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},49:function(e,t,n){\"use strict\";n.r(t);var a=n(2),c=n(0),i=n.n(c),r=n(20),o=n.n(r),l=(n(42),n(7)),s=n(8),u=(n(43),n(36)),d=function(e){var t=e.text,n=e.x,c=e.y,i=e.width,r=e.size,o=e.style,s=e.id;return Object(a.jsx)(\"p\",{id:\"\".concat(s),style:Object(l.a)({position:\"absolute\",top:\"\".concat(c,\"%\"),left:\"\".concat(n,\"%\"),width:\"\".concat(i,\"%\"),fontSize:\"\".concat(r,\"px\")},o),children:t})},j=function(e){var t,n=e.imgPath,i=e.subtitle,r=e.page,o=Object(u.a)(e,[\"imgPath\",\"subtitle\",\"page\"]),j=Object(c.useRef)(null),b=Object(c.useState)(0),O=Object(s.a)(b,2),p=O[0],f=O[1],h=Object(c.useState)(0),x=Object(s.a)(h,2),v=x[0],g=x[1],m=Object(c.useState)(0),y=Object(s.a)(m,2),S=y[0],C=y[1],w=Object(c.useState)(0),k=Object(s.a)(w,2),F=k[0],I=k[1],N=function(){var e,t,n,a;f(null===(e=j.current)||void 0===e?void 0:e.offsetTop),g(null===(t=j.current)||void 0===t?void 0:t.offsetLeft),C(null===(n=j.current)||void 0===n?void 0:n.offsetHeight),I(null===(a=j.current)||void 0===a?void 0:a.offsetWidth)};return Object(c.useEffect)((function(){return window.addEventListener(\"resize\",N),function(){window.removeEventListener(\"resize\",N)}}),[]),Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"div\",{style:{position:\"absolute\",zIndex:11,top:p,left:v,width:F,height:S},children:null===(t=i[r])||void 0===t?void 0:t.sort((function(e,t){return e.index-t.index})).map((function(e){var t=e.text,n=e.x,c=e.y,i=e.width,r=e.size,o=e.style,l=e.index;return Object(a.jsx)(d,{id:l,text:t,x:n,y:c,width:i,size:r*F/100,style:o},l)}))}),Object(a.jsx)(\"img\",Object(l.a)({onLoad:N,ref:j,src:n,alt:r},o))]})},b=function(e){var t={},n=\"\",a=0,c=0;return e.split(\"\\n\").map((function(e){if(e.includes(\"$START\"))n=e.substring(6).trim(),t[e.substring(6).trim()]=[];else if(e.includes(\"$END\"))n=\"\";else if(e.includes(\">>\")){var i,r,o=e.substring(2),l=o.split(\"/\")[0].split(\"-\"),u=Object(s.a)(l,4),d=u[0],j=u[1],b=u[2],O=u[3];null===(i=t[n])||void 0===i||i.push({index:o.split(\"/\")[2]?parseInt(o.split(\"/\")[2]):c+a,x:parseFloat(d),y:parseFloat(j),size:parseFloat(b),width:parseFloat(O),style:JSON.parse(null===(r=o.split(\"/\"))||void 0===r?void 0:r[1])}),c=o.split(\"/\")[2]?parseInt(o.split(\"/\")[2]):c,a+=1}else if(e.length>1){var p,f;if((null===(p=t[n])||void 0===p?void 0:p.length)>0)t[n][(null===(f=t[n])||void 0===f?void 0:f.length)-1].text=e}})),t},O=n(10),p=n(18),f=n(56),h=n(54),x=n(31),v=n(55),g=n(35);function m(e,t,n){var a=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,t);else{var c=document.createElement(\"a\"),i=URL.createObjectURL(a);c.href=i,c.download=t,document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(i)}),0)}}var y=function(e){return function(t){var n=t.target.files;if(FileReader&&n&&n.length){var a=new FileReader;a.onload=function(){return e(a)},a.readAsDataURL(n[0])}}},S=function(e){return function(t){var n=t.target.files;if(FileReader&&n&&n.length){var a=new FileReader;a.onload=function(){return e(a)},a.readAsText(n[0])}}},C=function(e){var t,n,i,r=e.sub,o=e.setSub,u=e.page,d=e.setPage,j=e.setImage,C=(e.setImageStyle,Object(c.useState)(u||\"page1\")),w=Object(s.a)(C,2),k=w[0],F=w[1],I=Object(c.useState)(!1),N=Object(s.a)(I,2),L=N[0],z=N[1],T=Object(c.useState)(1),R=Object(s.a)(T,2),G=R[0],E=R[1],P=Object(c.useState)(0),A=Object(s.a)(P,2),D=A[0],B=A[1],J=Object(c.useState)(0),U=Object(s.a)(J,2),X=U[0],Y=U[1],$=Object(c.useState)(0),W=Object(s.a)($,2),H=W[0],M=W[1],_=Object(c.useState)(0),q=Object(s.a)(_,2),K=q[0],V=q[1],Q=Object(c.useState)(\"\"),Z=Object(s.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(!0),ae=Object(s.a)(ne,2),ce=ae[0],ie=ae[1],re=Object(c.useState)({}),oe=Object(s.a)(re,2),le=oe[0],se=oe[1],ue=Object(c.useState)(\"\"),de=Object(s.a)(ue,2),je=de[0],be=de[1],Oe=Object(c.useState)(\"\"),pe=Object(s.a)(Oe,2),fe=pe[0],he=pe[1],xe=Object(c.useState)(r||{}),ve=Object(s.a)(xe,2),ge=ve[0],me=ve[1],ye=Object(c.useState)((null===(t=r[\"\".concat(k)])||void 0===t?void 0:t.reduce((function(e,t){return t.index>e?t.index:e}),0))+1),Se=Object(s.a)(ye,2),Ce=Se[0],we=Se[1];Object(c.useEffect)((function(){!function(){if(console.log(Object.keys(ge)),Object.keys(ge).includes(k))try{o((function(e){var t;return Object(l.a)(Object(l.a)({},e),{},Object(O.a)({},k,Object(p.a)(null===(t=e[k])||void 0===t?void 0:t.map((function(e){return console.log(e.index,G),e.index===parseInt(String(G))?Object(l.a)(Object(l.a)({},e),{},{x:parseFloat(D),y:parseFloat(X),width:parseFloat(H),size:parseFloat(K),text:ee,style:Object(l.a)(Object(l.a)({},le),{},{backgroundColor:\"#0f0\"})}):(\"#0f0\"===e.style.backgroundColor&&delete e.style.backgroundColor,e)})))))})),me((function(e){var t;return Object(l.a)(Object(l.a)({},e),{},Object(O.a)({},k,Object(p.a)(null===ge||void 0===ge||null===(t=ge[k])||void 0===t?void 0:t.map((function(e){return e.index===parseInt(String(G))?Object(l.a)(Object(l.a)({},e),{},{x:parseFloat(D),y:parseFloat(X),width:parseFloat(H),size:parseFloat(K),text:ee,style:Object(l.a)({},le)}):Object(l.a)({},e)})))))}))}catch(e){console.log(e)}}()}),[D,X,H,K,ee,le,u]);var ke=function(e){if(k){var t,n=null===(t=(e||r)[k])||void 0===t?void 0:t.find((function(e){return e.index===parseInt(String(G))}));B((function(e){return(null===n||void 0===n?void 0:n.x)||e})),Y((function(e){return(null===n||void 0===n?void 0:n.y)||e})),M((function(e){return(null===n||void 0===n?void 0:n.width)||e})),V((function(e){return(null===n||void 0===n?void 0:n.size)||e})),te((null===n||void 0===n?void 0:n.text)||\"\"),se((function(e){return(null===n||void 0===n?void 0:n.style)?Object(l.a)({},null===n||void 0===n?void 0:n.style):Object(l.a)({},e)}))}};return Object(c.useEffect)((function(){ke()}),[G,k]),Object(c.useEffect)((function(){var e;z(!Object.keys(r).includes(k)),Object.keys(r).includes(k)&&d(k),we((null===(e=ge[k])||void 0===e?void 0:e.reduce((function(e,t){var n=t.index;return n>e?n:e}),0))+1)}),[k]),Object(a.jsxs)(f.a,{style:{position:\"fixed\",width:\"500px\",left:0,overflowY:\"auto\",overflowX:\"hidden\",zIndex:50},children:[Object(a.jsxs)(\"div\",{className:\"form-check form-switch mr-0\",children:[Object(a.jsx)(\"input\",{className:\"form-check-input\",type:\"checkbox\",onClick:function(){return ie((function(e){return!e}))},id:\"flexSwitchCheckChecked\",checked:ce}),Object(a.jsx)(\"label\",{className:\"form-check-label\",htmlFor:\"flexSwitchCheckChecked\",children:\"Settings\"})]}),ce&&Object(a.jsxs)(\"div\",{children:[Object(a.jsxs)(h.a,{className:\"mb-2\",children:[Object(a.jsxs)(f.a.Group,{className:\" col-4 mb-0\",controlId:\"subtitle-file\",children:[Object(a.jsx)(f.a.Label,{className:\"btn btn-primary\",children:\"Load Image\"}),Object(a.jsx)(f.a.Control,{onChange:y((function(e){return j(String(e.result))})),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),Object(a.jsxs)(f.a.Group,{className:\" col-4 mb-0\",controlId:\"image-file\",children:[Object(a.jsx)(f.a.Label,{className:\"btn btn-primary\",children:\"Load SubTitle\"}),Object(a.jsx)(f.a.Control,{onChange:S((function(e){var t=b(String(e.result));o(t),me(t),we(t[k].reduce((function(e,t){var n=t.index;return n>e?n:e}),0)+1),ke(t)})),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),Object(a.jsx)(x.a,{className:\" col-2\",onClick:function(){var e={page1:[]};me(e),o(e),F(\"page1\"),E(0),we(0)},variant:\"danger\",children:\"Clear All\"})]}),Object(a.jsxs)(h.a,{style:{alignItems:\"flex-end\"},children:[Object(a.jsxs)(f.a.Group,{className:\" col-3 mb-0\",controlId:\"formPage\",children:[Object(a.jsx)(f.a.Label,{children:\"Page\"}),Object(a.jsx)(f.a.Control,{value:k,onChange:function(e){return F(e.target.value)},placeholder:\"Page\"})]}),Object(a.jsx)(x.a,{className:\" col-2\",onClick:function(){L&&(o(Object(l.a)(Object(l.a)({},ge),{},Object(O.a)({},k,[{index:parseInt(String(0)),x:parseFloat(String(D)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(K)),text:ee,style:Object(l.a)(Object(l.a)({},le),{},{backgroundColor:\"#0f0\"})}]))),me(Object(l.a)(Object(l.a)({},ge),{},Object(O.a)({},k,[{index:parseInt(String(0)),x:parseFloat(String(D)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(K)),text:ee,style:Object(l.a)({},le)}]))),ke(r),E(0),we(1),d(k),ke())},disabled:!L,variant:\"primary\",children:\"Add page\"}),Object(a.jsxs)(f.a.Group,{className:\" col-3 mb-0\",controlId:\"formIndex\",children:[Object(a.jsx)(f.a.Label,{children:\"Index\"}),Object(a.jsx)(f.a.Control,{value:G,onChange:function(e){return E(e.target.value)},type:\"number\",min:\"0\",max:null===(n=r[String(k)])||void 0===n?void 0:n.length,step:\"1\",placeholder:\"index\"})]}),Object(a.jsx)(x.a,{className:\" col-2\",onClick:function(){o((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(O.a)({},k,[].concat(Object(p.a)(e[k]),[{index:parseInt(String(Ce)),x:parseFloat(String(D)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(K)),text:ee,style:Object(l.a)(Object(l.a)({},le),{},{backgroundColor:\"#0f0\"})}])))})),me((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(O.a)({},k,[].concat(Object(p.a)(e[k]),[{index:parseInt(String(Ce)),x:parseFloat(String(D)),y:parseFloat(String(X)),width:parseFloat(String(H)),size:parseFloat(String(K)),text:ee,style:Object(l.a)({},le)}])))})),E(Ce),we((function(e){return e+1}))},variant:\"primary\",children:\"Add Text\"})]}),Object(a.jsxs)(h.a,{children:[Object(a.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formX\",children:[Object(a.jsx)(f.a.Label,{children:\"X axis\"}),Object(a.jsx)(f.a.Control,{value:D,onChange:function(e){return B(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"X\"})]}),Object(a.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formY\",children:[Object(a.jsx)(f.a.Label,{children:\"Y axis\"}),Object(a.jsx)(f.a.Control,{value:X,onChange:function(e){return Y(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"Y\"})]}),Object(a.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formY\",children:[Object(a.jsx)(f.a.Label,{children:\"Size\"}),Object(a.jsx)(f.a.Control,{value:K,onChange:function(e){return V(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"size\"})]}),Object(a.jsxs)(f.a.Group,{className:\" col-3\",controlId:\"formWidth\",children:[Object(a.jsx)(f.a.Label,{children:\"Width\"}),Object(a.jsx)(f.a.Control,{value:H,onChange:function(e){return M(e.target.value)},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"width\"})]})]}),Object(a.jsxs)(h.a,{children:[Object(a.jsxs)(f.a.Group,{className:\" col-8\",controlId:\"formText\",children:[Object(a.jsx)(f.a.Label,{children:\"Text\"}),Object(a.jsx)(f.a.Control,{value:ee,onChange:function(e){return te(e.target.value)},type:\"text\",placeholder:\"width\"})]}),Object.keys(le).length>0&&Object(a.jsx)(v.a,{className:\"col-4\",variant:\"secondary\",id:\"dropdown-basic-button\",title:\"Styles\",children:Object.keys(le).length>0&&(null===(i=Object.keys(le))||void 0===i?void 0:i.map((function(e){return Object(a.jsx)(g.a.Item,{onClick:function(){return function(e){he(le[e]),be(e);var t=Object(l.a)({},le);delete t[e],se(t)}(e)},children:\"\".concat(e.replaceAll(\"_\",\" \"),\" : \").concat(le[e])},e)})))})]}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(f.a.Group,{className:\" col-4\",controlId:\"formKeyStyle\",children:Object(a.jsx)(f.a.Control,{value:je,onChange:function(e){return be(e.target.value)},type:\"text\",placeholder:\"key\"})}),Object(a.jsx)(f.a.Group,{className:\" col-4\",controlId:\"formValueStyle\",children:Object(a.jsx)(f.a.Control,{value:fe,onChange:function(e){return he(e.target.value)},type:\"text\",placeholder:\"value\"})}),Object(a.jsx)(x.a,{style:{height:\"100%\"},className:\"p-2 col-4 btn-secondary\",onClick:function(){se((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(O.a)({},je,fe))})),he(\"\"),be(\"\")},children:\"Add Style\"})]}),Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(x.a,{onClick:function(){return m(function(e){var t=\"\";return Object.keys(e).map((function(n){t+=\"$START \".concat(n,\"\\n\"),e[n].map((function(e,n){var a=e.x,c=e.y,i=e.size,r=e.width,o=e.text,l=e.style,s=e.index;t+=\">>\".concat(a,\"-\").concat(c,\"-\").concat(i,\"-\").concat(r,\" \").concat(JSON.stringify(l),\" \").concat(s||n,\"\\n\"),t+=\"\".concat(o,\"\\n\\n\")})),t+=\"$END \".concat(n,\"\\n\\n\")})),t}(ge),\"sub.psrt\",\"jpg\")},variant:\"primary\",children:\"Dowload Subtitle (.psrt)\"}),Object(a.jsx)(x.a,{onClick:function(){return m(JSON.stringify(ge),\"sub.json\",\"jpg\")},variant:\"primary\",children:\"Dowload Subtitle (.json)\"})]})]})]})};n(48);var w=function(){var e=Object(c.useState)(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)({}),o=Object(s.a)(r,2),u=o[0],d=o[1],O=Object(c.useState)(function(e){var t={},n=new XMLHttpRequest;return n.open(\"GET\",e,!1),n.onreadystatechange=function(){4===n.readyState&&(200!==n.status&&0!=n.status||(t=Object(l.a)({},b(n.responseText))))},n.send(null),t}(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\")),p=Object(s.a)(O,2),f=p[0],h=p[1],x=Object(c.useState)(\"page1\"),v=Object(s.a)(x,2),g=v[0],m=v[1];return Object(a.jsxs)(\"div\",{className:\"App container\",style:{display:\"flex\"},children:[Object(a.jsx)(C,{sub:f,setSub:h,page:g,setPage:m,setImage:i,setImageStyle:d}),Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(j,{imgPath:n,page:g,subtitle:f}),Object(a.jsx)(j,{style:Object(l.a)({width:\"1300px\"},u),imgPath:n,page:g,subtitle:f})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById(\"root\")),k()}},[[49,1,2]]]);","name":"static/js/main.459647ec.chunk.js","map":{"version":3,"sources":["static/js/main.459647ec.chunk.js"],"names":["this","push","42","module","exports","__webpack_require__","43","49","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","objectWithoutProperties","ImageSubTittle_SubTitle","_ref3","text","x","y","width","size","style","id","Object","concat","position","top","left","fontSize","children","cmponents_ImageSubTittle","_ref","_subtitle$page","imgPath","subtitle","page","props","imgRef","_useState","_useState2","subY","setSubY","_useState3","_useState4","subX","setSubX","_useState5","_useState6","subH","setSubH","_useState7","_useState8","subW","setSubW","updateSubs","_imgRef$current","_imgRef$current2","_imgRef$current3","_imgRef$current4","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","window","addEventListener","removeEventListener","zIndex","height","sort","a","b","index","map","_ref2","onLoad","ref","src","alt","subtitle_parsePSRTToObject","out","currentPage","i","lastIndex","split","line","includes","substring","trim","_out$currentPage","_clearLine$split","clearLine","_clearLine$split$0$sp","_clearLine$split$0$sp2","s","w","parseInt","parseFloat","JSON","parse","length","_out$currentPage2","_out$currentPage3","defineProperty","toConsumableArray","Form","Row","Button","DropdownButton","Dropdown","download","data","filename","type","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","getLocalImage","callback","evt","files","target","FileReader","_fr","onload","readAsDataURL","getLocalSubtitle","_fr2","readAsText","cmponents_EditSub","_sub$","_sub$String","_Object$keys","sub","setSub","defaultPage","setDefaultPage","setPage","setImage","setImageStyle","isNewPage","setIsNewPage","setIndex","setX","_useState9","_useState10","setY","_useState11","_useState12","setWidth","_useState13","_useState14","setSize","_useState15","_useState16","subText","setSubText","_useState17","_useState18","show","setShow","_useState19","_useState20","setStyle","_useState21","_useState22","keyStyle","setKeyStyle","_useState23","_useState24","valueStyle","setValueStyle","_useState25","_useState26","clearSub","setClearSub","_useState27","reduce","p","c","_useState28","setLastIndex","console","log","keys","_data$page","txt","String","backgroundColor","_clearSub$page","error","handleChangeSub","updateSubInfos","newSub","_sub$page","find","oldX","oldY","oldW","oldS","old","_clearSub$page2","overflowY","overflowX","className","onClick","checked","htmlFor","Group","controlId","Label","Control","onChange","fr","result","visibility","placeholder","page1","variant","alignItems","value","e","disabled","min","max","step","title","styleProp","Item","key","newStyles","handleRemoveStyle","replaceAll","stringify","parseObjectToPSRT","src_App","imageBlob","setImageBlob","imageStyle","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","send","subtitle_parsePSRTFileToObject","subs","setSubs","setCurrentPage","display","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsrt2\"] = this[\"webpackJsonpsrt2\"] || []).push([[0],{\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(20);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/cmponents/ImageSubTittle.tsx\n// import { Container } from './styles';\nvar ImageSubTittle_ImageSubTittle=function ImageSubTittle(_ref){var _subtitle$page;var imgPath=_ref.imgPath,subtitle=_ref.subtitle,page=_ref.page,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"imgPath\",\"subtitle\",\"page\"]);var imgRef=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),subY=_useState2[0],setSubY=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),subX=_useState4[0],setSubX=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),subH=_useState6[0],setSubH=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),subW=_useState8[0],setSubW=_useState8[1];var updateSubs=function updateSubs(){var _imgRef$current,_imgRef$current2,_imgRef$current3,_imgRef$current4;setSubY((_imgRef$current=imgRef.current)===null||_imgRef$current===void 0?void 0:_imgRef$current.offsetTop);setSubX((_imgRef$current2=imgRef.current)===null||_imgRef$current2===void 0?void 0:_imgRef$current2.offsetLeft);setSubH((_imgRef$current3=imgRef.current)===null||_imgRef$current3===void 0?void 0:_imgRef$current3.offsetHeight);setSubW((_imgRef$current4=imgRef.current)===null||_imgRef$current4===void 0?void 0:_imgRef$current4.offsetWidth);};Object(react[\"useEffect\"])(function(){window.addEventListener(\"resize\",updateSubs);return function(){window.removeEventListener(\"resize\",updateSubs);};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:\"absolute\",zIndex:11,top:subY,left:subX,width:subW,height:subH},children:(_subtitle$page=subtitle[page])===null||_subtitle$page===void 0?void 0:_subtitle$page.sort(function(a,b){return a.index-b.index;}).map(function(_ref2){var text=_ref2.text,x=_ref2.x,y=_ref2.y,width=_ref2.width,size=_ref2.size,style=_ref2.style,index=_ref2.index;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImageSubTittle_SubTitle,{id:index,text:text,x:x,y:y,width:width,size:size*subW/100,style:style},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",Object(objectSpread2[\"a\" /* default */])({onLoad:updateSubs,ref:imgRef,src:imgPath,alt:page},props))]});};var ImageSubTittle_SubTitle=function SubTitle(_ref3){var text=_ref3.text,x=_ref3.x,y=_ref3.y,width=_ref3.width,size=_ref3.size,style=_ref3.style,id=_ref3.id;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{id:\"\".concat(id),style:Object(objectSpread2[\"a\" /* default */])({position:\"absolute\",top:\"\".concat(y,\"%\"),left:\"\".concat(x,\"%\"),width:\"\".concat(width,\"%\"),fontSize:\"\".concat(size,\"px\")},style),children:text});};/* harmony default export */ var cmponents_ImageSubTittle = (ImageSubTittle_ImageSubTittle);\n// CONCATENATED MODULE: ./src/service/subtitle.ts\nvar subtitle_parsePSRTFileToObject=function parsePSRTFileToObject(file){var out={};var currentPage=\"\";var rawFile=new XMLHttpRequest();rawFile.open(\"GET\",file,false);rawFile.onreadystatechange=function(){if(rawFile.readyState===4){if(rawFile.status===200||rawFile.status==0){out=Object(objectSpread2[\"a\" /* default */])({},subtitle_parsePSRTToObject(rawFile.responseText));}}};rawFile.send(null);return out;};var subtitle_parsePSRTToObject=function parsePSRTToObject(subtitle){var out={};var currentPage=\"\";var i=0;var lastIndex=0;subtitle.split(\"\\n\").map(function(line){if(line.includes(\"$START\")){currentPage=line.substring(6).trim();out[line.substring(6).trim()]=[];}else if(line.includes(\"$END\")){currentPage=\"\";}else if(line.includes(\">>\")){var _out$currentPage,_clearLine$split;var clearLine=line.substring(2);var _clearLine$split$0$sp=clearLine.split(\"/\")[0].split(\"-\"),_clearLine$split$0$sp2=Object(slicedToArray[\"a\" /* default */])(_clearLine$split$0$sp,4),x=_clearLine$split$0$sp2[0],y=_clearLine$split$0$sp2[1],s=_clearLine$split$0$sp2[2],w=_clearLine$split$0$sp2[3];(_out$currentPage=out[currentPage])===null||_out$currentPage===void 0?void 0:_out$currentPage.push({index:clearLine.split(\"/\")[2]?parseInt(clearLine.split(\"/\")[2]):lastIndex+i,x:parseFloat(x),y:parseFloat(y),size:parseFloat(s),width:parseFloat(w),style:JSON.parse((_clearLine$split=clearLine.split(\"/\"))===null||_clearLine$split===void 0?void 0:_clearLine$split[1])});lastIndex=clearLine.split(\"/\")[2]?parseInt(clearLine.split(\"/\")[2]):lastIndex;i+=1;}else if(line.length>1){var _out$currentPage2;if(((_out$currentPage2=out[currentPage])===null||_out$currentPage2===void 0?void 0:_out$currentPage2.length)>0){var _out$currentPage3;out[currentPage][((_out$currentPage3=out[currentPage])===null||_out$currentPage3===void 0?void 0:_out$currentPage3.length)-1].text=line;}}});return out;};var parseObjectToPSRT=function parseObjectToPSRT(sub){var out=\"\";Object.keys(sub).map(function(page){out+=\"$START \".concat(page,\"\\n\");sub[page].map(function(_ref,i){var x=_ref.x,y=_ref.y,size=_ref.size,width=_ref.width,text=_ref.text,style=_ref.style,index=_ref.index;out+=\">>\".concat(x,\"-\").concat(y,\"-\").concat(size,\"-\").concat(width,\" \").concat(JSON.stringify(style),\" \").concat(index||i,\"\\n\");out+=\"\".concat(text,\"\\n\\n\");});out+=\"$END \".concat(page,\"\\n\\n\");});return out;};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 14 modules\nvar Form = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/DropdownButton.js\nvar DropdownButton = __webpack_require__(55);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 14 modules\nvar Dropdown = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/cmponents/EditSub.tsx\n/* eslint-disable react/jsx-no-undef *///import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\nvar EditSub_EditSub=function EditSub(_ref){var _sub$,_sub$String,_Object$keys;var sub=_ref.sub,setSub=_ref.setSub,defaultPage=_ref.page,setDefaultPage=_ref.setPage,setImage=_ref.setImage,setImageStyle=_ref.setImageStyle;var _useState=Object(react[\"useState\"])(defaultPage||\"page1\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isNewPage=_useState4[0],setIsNewPage=_useState4[1];var _useState5=Object(react[\"useState\"])(1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),x=_useState8[0],setX=_useState8[1];var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),y=_useState10[0],setY=_useState10[1];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),width=_useState12[0],setWidth=_useState12[1];var _useState13=Object(react[\"useState\"])(0),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),size=_useState14[0],setSize=_useState14[1];var _useState15=Object(react[\"useState\"])(\"\"),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),subText=_useState16[0],setSubText=_useState16[1];var _useState17=Object(react[\"useState\"])(true),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),show=_useState18[0],setShow=_useState18[1];var _useState19=Object(react[\"useState\"])({}),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),style=_useState20[0],setStyle=_useState20[1];var _useState21=Object(react[\"useState\"])(\"\"),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),keyStyle=_useState22[0],setKeyStyle=_useState22[1];var _useState23=Object(react[\"useState\"])(\"\"),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),valueStyle=_useState24[0],setValueStyle=_useState24[1];var _useState25=Object(react[\"useState\"])(sub?sub:{}),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),clearSub=_useState26[0],setClearSub=_useState26[1];var _useState27=Object(react[\"useState\"])(((_sub$=sub[\"\".concat(page)])===null||_sub$===void 0?void 0:_sub$.reduce(function(p,c){return c.index>p?c.index:p;},0))+1),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),lastIndex=_useState28[0],setLastIndex=_useState28[1];var handleChangeSub=function handleChangeSub(){console.log(Object.keys(clearSub));if(Object.keys(clearSub).includes(page)){try{setSub(function(data){var _data$page;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,Object(toConsumableArray[\"a\" /* default */])((_data$page=data[page])===null||_data$page===void 0?void 0:_data$page.map(function(txt){console.log(txt.index,index);if(txt.index===parseInt(String(index))){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt),{},{x:parseFloat(x),y:parseFloat(y),width:parseFloat(width),size:parseFloat(size),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:\"#0f0\"})});}else{if(txt.style.backgroundColor===\"#0f0\"){delete txt.style.backgroundColor;}return txt;}}))));});setClearSub(function(data){var _clearSub$page;return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,Object(toConsumableArray[\"a\" /* default */])(clearSub===null||clearSub===void 0?void 0:(_clearSub$page=clearSub[page])===null||_clearSub$page===void 0?void 0:_clearSub$page.map(function(txt){if(txt.index===parseInt(String(index))){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},txt),{},{x:parseFloat(x),y:parseFloat(y),width:parseFloat(width),size:parseFloat(size),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)});}else{return Object(objectSpread2[\"a\" /* default */])({},txt);}}))));});}catch(error){console.log(error);}}};Object(react[\"useEffect\"])(function(){//console.log(sub);\nhandleChangeSub();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[x,y,width,size,subText,style,defaultPage]);var updateSubInfos=function updateSubInfos(newSub){var _sub=newSub||sub;if(page){var _sub$page;var text=(_sub$page=_sub[page])===null||_sub$page===void 0?void 0:_sub$page.find(function(a){return a.index===parseInt(String(index));});setX(function(oldX){return(text===null||text===void 0?void 0:text.x)||oldX;});setY(function(oldY){return(text===null||text===void 0?void 0:text.y)||oldY;});setWidth(function(oldW){return(text===null||text===void 0?void 0:text.width)||oldW;});setSize(function(oldS){return(text===null||text===void 0?void 0:text.size)||oldS;});setSubText((text===null||text===void 0?void 0:text.text)||\"\");setStyle(function(old){return(text===null||text===void 0?void 0:text.style)?Object(objectSpread2[\"a\" /* default */])({},text===null||text===void 0?void 0:text.style):Object(objectSpread2[\"a\" /* default */])({},old);});}};var addNewText=function addNewText(){setSub(function(data){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,[].concat(Object(toConsumableArray[\"a\" /* default */])(data[page]),[{index:parseInt(String(lastIndex)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:\"#0f0\"})}])));});setClearSub(function(data){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},page,[].concat(Object(toConsumableArray[\"a\" /* default */])(data[page]),[{index:parseInt(String(lastIndex)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)}])));});setIndex(lastIndex);setLastIndex(function(old){return old+1;});};var addNewPage=function addNewPage(){if(isNewPage){setSub(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},clearSub),{},Object(defineProperty[\"a\" /* default */])({},page,[{index:parseInt(String(0)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:\"#0f0\"})}])));setClearSub(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},clearSub),{},Object(defineProperty[\"a\" /* default */])({},page,[{index:parseInt(String(0)),x:parseFloat(String(x)),y:parseFloat(String(y)),width:parseFloat(String(width)),size:parseFloat(String(size)),text:subText,style:Object(objectSpread2[\"a\" /* default */])({},style)}])));updateSubInfos(sub);setIndex(0);setLastIndex(1);setDefaultPage(page);updateSubInfos();}};var updateSubtitleFile=function updateSubtitleFile(fr){var newSub=subtitle_parsePSRTToObject(String(fr.result));setSub(newSub);setClearSub(newSub);setLastIndex(newSub[page].reduce(function(p,_ref2){var index=_ref2.index;return index>p?index:p;},0)+1);updateSubInfos(newSub);};var showImage=function showImage(fr){return setImage(String(fr.result));};var handleAddStyle=function handleAddStyle(){setStyle(function(old){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},old),{},Object(defineProperty[\"a\" /* default */])({},keyStyle,valueStyle));});setValueStyle(\"\");setKeyStyle(\"\");};var handleRemoveStyle=function handleRemoveStyle(key){setValueStyle(style[key]);setKeyStyle(key);var newStyles=Object(objectSpread2[\"a\" /* default */])({},style);delete newStyles[key];setStyle(newStyles);};var handleClearAll=function handleClearAll(){var newSub={page1:[]};setClearSub(newSub);setSub(newSub);setPage(\"page1\");setIndex(0);setLastIndex(0);};Object(react[\"useEffect\"])(function(){updateSubInfos();},[index,page]);Object(react[\"useEffect\"])(function(){var _clearSub$page2;setIsNewPage(!Object.keys(sub).includes(page));Object.keys(sub).includes(page)&&setDefaultPage(page);setLastIndex(((_clearSub$page2=clearSub[page])===null||_clearSub$page2===void 0?void 0:_clearSub$page2.reduce(function(p,_ref3){var index=_ref3.index;return index>p?index:p;},0))+1);},[page]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{style:{position:\"fixed\",width:\"500px\",left:0,overflowY:\"auto\",overflowX:\"hidden\",zIndex:50},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-check form-switch mr-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-check-input\",type:\"checkbox\",onClick:function onClick(){return setShow(function(a){return!a;});},id:\"flexSwitchCheckChecked\",checked:show}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"form-check-label\",htmlFor:\"flexSwitchCheckChecked\",children:\"Settings\"})]}),show&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"mb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-4 mb-0\",controlId:\"subtitle-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"btn btn-primary\",children:\"Load Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{onChange:getLocalImage(showImage),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-4 mb-0\",controlId:\"image-file\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"btn btn-primary\",children:\"Load SubTitle\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{onChange:getLocalSubtitle(updateSubtitleFile),type:\"file\",style:{visibility:\"hidden\",height:\"0px\"},placeholder:\"Image\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:handleClearAll,variant:\"danger\",children:\"Clear All\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{style:{alignItems:\"flex-end\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3 mb-0\",controlId:\"formPage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:page,onChange:function onChange(e){return setPage(e.target.value);},placeholder:\"Page\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:addNewPage,disabled:!isNewPage,variant:\"primary\",children:\"Add page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3 mb-0\",controlId:\"formIndex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Index\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:index,onChange:function onChange(e){return setIndex(e.target.value);},type:\"number\",min:\"0\",max:(_sub$String=sub[String(page)])===null||_sub$String===void 0?void 0:_sub$String.length,step:\"1\",placeholder:\"index\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\" col-2\",onClick:addNewText,variant:\"primary\",children:\"Add Text\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formX\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"X axis\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:x,onChange:function onChange(e){return setX(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"X\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formY\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Y axis\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:y,onChange:function onChange(e){return setY(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"Y\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formY\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Size\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:size,onChange:function onChange(e){return setSize(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"size\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-3\",controlId:\"formWidth\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Width\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:width,onChange:function onChange(e){return setWidth(e.target.value);},type:\"number\",min:\"0\",max:\"100\",step:\"0.1\",placeholder:\"width\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{className:\" col-8\",controlId:\"formText\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:subText,onChange:function onChange(e){return setSubText(e.target.value);},type:\"text\",placeholder:\"width\"})]}),Object.keys(style).length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DropdownButton[\"a\" /* default */],{className:\"col-4\",variant:\"secondary\",id:\"dropdown-basic-button\",title:\"Styles\",children:Object.keys(style).length>0&&((_Object$keys=Object.keys(style))===null||_Object$keys===void 0?void 0:_Object$keys.map(function(styleProp){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{onClick:function onClick(){return handleRemoveStyle(styleProp);},children:\"\".concat(styleProp.replaceAll(\"_\",\" \"),\" : \").concat(style[styleProp])},styleProp);}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{className:\" col-4\",controlId:\"formKeyStyle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:keyStyle,onChange:function onChange(e){return setKeyStyle(e.target.value);},type:\"text\",placeholder:\"key\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{className:\" col-4\",controlId:\"formValueStyle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{value:valueStyle,onChange:function onChange(e){return setValueStyle(e.target.value);},type:\"text\",placeholder:\"value\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{height:\"100%\"},className:\"p-2 col-4 btn-secondary\",onClick:handleAddStyle,children:\"Add Style\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return download(parseObjectToPSRT(clearSub),\"sub.psrt\",\"jpg\");},variant:\"primary\",children:\"Dowload Subtitle (.psrt)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return download(JSON.stringify(clearSub),\"sub.json\",\"jpg\");},variant:\"primary\",children:\"Dowload Subtitle (.json)\"})]})]})]});};function download(data,filename,type){var file=new Blob([data],{type:type});if(window.navigator.msSaveOrOpenBlob)// IE10+\nwindow.navigator.msSaveOrOpenBlob(file,filename);else{// Others\nvar a=document.createElement(\"a\"),url=URL.createObjectURL(file);a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);window.URL.revokeObjectURL(url);},0);}}var getLocalImage=function getLocalImage(callback){return function(evt){var tgt=evt.target;var files=tgt.files;// FileReader support\nif(FileReader&&files&&files.length){var _fr=new FileReader();_fr.onload=function(){return callback(_fr);};_fr.readAsDataURL(files[0]);}};};var getLocalSubtitle=function getLocalSubtitle(callback){return function(evt){var tgt=evt.target;var files=tgt.files;// FileReader support\nif(FileReader&&files&&files.length){var _fr2=new FileReader();_fr2.onload=function(){return callback(_fr2);};_fr2.readAsText(files[0]);}};};/* harmony default export */ var cmponents_EditSub = (EditSub_EditSub);\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(48);\n\n// CONCATENATED MODULE: ./src/App.tsx\nfunction App_App(){var _useState=Object(react[\"useState\"])(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),imageBlob=_useState2[0],setImageBlob=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),imageStyle=_useState4[0],setImageStyle=_useState4[1];var _useState5=Object(react[\"useState\"])(subtitle_parsePSRTFileToObject(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\")),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),subs=_useState6[0],setSubs=_useState6[1];var _useState7=Object(react[\"useState\"])(\"page1\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App container\",style:{display:\"flex\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_EditSub,{sub:subs,setSub:setSubs,page:currentPage,setPage:setCurrentPage,setImage:setImageBlob,setImageStyle:setImageStyle}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_ImageSubTittle,{imgPath:imageBlob,page:currentPage,subtitle:subs}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(cmponents_ImageSubTittle,{style:Object(objectSpread2[\"a\" /* default */])({width:\"1300px\"},imageStyle),imgPath:imageBlob,page:currentPage,subtitle:subs})]})]});}/* harmony default export */ var src_App = (App_App);var mock={page1:[{x:6.7,y:8,width:6,size:2,text:\"Nós vamos morrer!\",style:{fontWeight:\"bold\",wordWrap:\"break-word\",msWrapFlow:\"end\"}},{x:39,y:5,width:10,size:3,text:\"Basta vencer as duas\",style:{fontWeight:\"bold\"}},{x:55,y:2,width:11,size:2,text:\"Como vocês, humanos, ousam recusar a punição!\",style:{fontWeight:\"bold\"}},{x:8,y:32,width:11,size:2,text:\"Você parece estar se divertindo.\",style:{//fontWeight: \"bold\",\n}},{x:18.5,y:31,width:11,size:2,text:\"Jovem Mestre,\",style:{//fontWeight: \"bold\",\n}},{x:36.5,y:32,width:11,size:2,text:\"O que eu devo fazer sobre isso?!\",style:{//fontWeight: \"bold\",\n}},{x:10,y:65,width:7,size:2,text:\"Um econt... não era isso!\",style:{//fontWeight: \"bold\",\n}},{x:7,y:74,width:10,size:2,text:\"Espera, você viu? Quando você começou a vigiar?!\",style:{// fontSize:'50px'\n}},{x:51,y:60,width:10,size:2.6,text:\"\\\"Algo\\\", voc\\xEA diz?\",style:{// fontSize:'50px'\n}},{x:51,y:74,width:10,size:2,text:\"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",style:{// fontSize:'50px'\n}},{x:65,y:60,width:10,size:2,text:\"Você não pode fazer algo sobre isso?!\",style:{// fontSize:'50px'\n}},{x:83,y:58,width:10,size:1.7,text:\"Telepatia? Tomoe!\",style:{// fontSize:'50px'\n}},{x:83.5,y:66.5,width:9,size:1.4,text:\"Voc\\xEA sabe o que est\\xE1 acontecendo?!\",style:{// fontSize:'50px'\n}}]};\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 57)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[49,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/intelie/Documents/srt2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/intelie/Documents/srt2/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/intelie/Documents/srt2/node_modules/postcss-loader/src/index.js??postcss!/home/intelie/Documents/srt2/src/index.css","/home/intelie/Documents/srt2/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/intelie/Documents/srt2/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/intelie/Documents/srt2/node_modules/postcss-loader/src/index.js??postcss!/home/intelie/Documents/srt2/src/App.css","/home/intelie/Documents/srt2/src/cmponents/ImageSubTittle.tsx","/home/intelie/Documents/srt2/src/service/subtitle.ts","/home/intelie/Documents/srt2/src/cmponents/EditSub.tsx","/home/intelie/Documents/srt2/src/App.tsx","/home/intelie/Documents/srt2/src/reportWebVitals.ts","/home/intelie/Documents/srt2/src/index.tsx"],"names":["ImageSubTittle","imgPath","subtitle","page","props","imgRef","useRef","useState","subY","setSubY","subX","setSubX","subH","setSubH","subW","setSubW","updateSubs","current","offsetTop","offsetLeft","offsetHeight","offsetWidth","useEffect","window","addEventListener","removeEventListener","position","zIndex","top","left","width","height","sort","a","b","index","map","text","x","y","size","style","SubTitle","id","fontSize","parsePSRTFileToObject","file","out","currentPage","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","parsePSRTToObject","responseText","send","i","lastIndex","split","line","includes","substring","trim","clearLine","s","w","push","parseInt","parseFloat","JSON","parse","length","parseObjectToPSRT","sub","Object","keys","stringify","EditSub","setSub","defaultPage","setDefaultPage","setPage","setImage","setImageStyle","isNewPage","setIsNewPage","setIndex","setX","setY","setWidth","setSize","subText","setSubText","show","setShow","setStyle","keyStyle","setKeyStyle","valueStyle","setValueStyle","clearSub","setClearSub","reduce","p","c","setLastIndex","handleChangeSub","console","log","data","txt","String","backgroundColor","error","updateSubInfos","newSub","_sub","find","oldX","oldY","oldW","oldS","old","addNewText","addNewPage","updateSubtitleFile","fr","result","showImage","handleAddStyle","handleRemoveStyle","key","newStyles","handleClearAll","page1","overflowY","overflowX","getLocalImage","visibility","getLocalSubtitle","alignItems","e","target","value","styleProp","replaceAll","download","filename","type","Blob","navigator","msSaveOrOpenBlob","document","createElement","url","URL","createObjectURL","href","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","callback","evt","tgt","files","FileReader","onload","readAsDataURL","readAsText","App","imageBlob","setImageBlob","imageStyle","subs","setSubs","setCurrentPage","display","mock","fontWeight","wordWrap","msWrapFlow","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { parsePSRTFileToObject } from \"../service/subtitle\";\n\n// import { Container } from './styles';\n\nconst ImageSubTittle: React.FC<{\n  imgPath: string;\n  subtitle: {\n    [page: string]: {\n      x: number;\n      y: number;\n      width: number;\n      size: number;\n      text: string;\n      index: number;\n      style: React.CSSProperties;\n    }[];\n  };\n  page: string;\n\n  style?: React.CSSProperties;\n  [prop: string]: any;\n}> = ({ imgPath, subtitle, page, ...props }) => {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [subY, setSubY] = useState<any>(0);\n  const [subX, setSubX] = useState<any>(0);\n  const [subH, setSubH] = useState<any>(0);\n  const [subW, setSubW] = useState<any>(0);\n  const updateSubs = () => {\n    setSubY(imgRef.current?.offsetTop);\n    setSubX(imgRef.current?.offsetLeft);\n    setSubH(imgRef.current?.offsetHeight);\n    setSubW(imgRef.current?.offsetWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateSubs);\n    return () => {\n      window.removeEventListener(\"resize\", updateSubs);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 11,\n          top: subY,\n          left: subX,\n          width: subW,\n          height: subH,\n        }}\n      >\n        {subtitle[page]\n          ?.sort((a, b) => a.index - b.index)\n          .map(({ text, x, y, width, size, style, index }) => (\n            <SubTitle\n              key={index}\n              id={index}\n              text={text}\n              x={x}\n              y={y}\n              width={width}\n              size={(size * subW) / 100}\n              style={style}\n            />\n          ))}\n      </div>\n      <img\n        onLoad={updateSubs}\n        ref={imgRef}\n        src={imgPath}\n        alt={page}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst SubTitle = ({\n  text,\n  x,\n  y,\n  width,\n  size,\n  style,\n  id,\n}: {\n  text: string;\n  x: number;\n  y: number;\n  width?: number;\n  [k: string]: any;\n}) => {\n  return (\n    <p\n      id={`${id}`}\n      style={{\n        position: \"absolute\",\n        top: `${y}%`,\n        left: `${x}%`,\n        width: `${width}%`,\n        fontSize: `${size}px`,\n        ...style,\n      }}\n    >\n      {text}\n    </p>\n  );\n};\n\nexport default ImageSubTittle;\n","export const parsePSRTFileToObject = (\n  file: string\n): {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n} => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n  let rawFile = new XMLHttpRequest();\n  rawFile.open(\"GET\", file, false);\n  rawFile.onreadystatechange = function () {\n    if (rawFile.readyState === 4) {\n      if (rawFile.status === 200 || rawFile.status == 0) {\n        out = { ...parsePSRTToObject(rawFile.responseText) };\n      }\n    }\n  };\n\n  rawFile.send(null);\n\n  return out;\n};\n\nexport const parsePSRTToObject = (subtitle: string) => {\n  let out: { [k: string]: any } = {};\n  let currentPage = \"\";\n\n  let i = 0;\n  let lastIndex = 0;\n\n  subtitle.split(\"\\n\").map((line) => {\n    if (line.includes(\"$START\")) {\n      currentPage = line.substring(6).trim();\n      out[line.substring(6).trim()] = [];\n    } else if (line.includes(\"$END\")) {\n      currentPage = \"\";\n    } else if (line.includes(\">>\")) {\n      const clearLine = line.substring(2);\n      const [x, y, s, w] = clearLine.split(\"/\")[0].split(\"-\");\n      out[currentPage]?.push({\n        index: clearLine.split(\"/\")[2]\n          ? parseInt(clearLine.split(\"/\")[2])\n          : lastIndex + i,\n        x: parseFloat(x),\n        y: parseFloat(y),\n        size: parseFloat(s),\n        width: parseFloat(w),\n        style: JSON.parse(clearLine.split(\"/\")?.[1]),\n      });\n      lastIndex = clearLine.split(\"/\")[2]\n        ? parseInt(clearLine.split(\"/\")[2])\n        : lastIndex;\n\n      i += 1;\n    } else if (line.length > 1) {\n      if (out[currentPage]?.length > 0) {\n        out[currentPage][out[currentPage]?.length - 1].text = line;\n      }\n    }\n  });\n\n  return out;\n};\n\nexport const parseObjectToPSRT = (sub: {\n  [page: string]: {\n    x: number;\n    y: number;\n    width: number;\n    size: number;\n    text: string;\n    index: number;\n    style: React.CSSProperties;\n  }[];\n}): string => {\n  let out = \"\";\n\n  Object.keys(sub).map((page) => {\n    out += `$START ${page}\\n`;\n    sub[page].map(({ x, y, size, width, text, style, index }, i) => {\n      out += `>>${x}-${y}-${size}-${width} ${JSON.stringify(style)} ${\n        index || i\n      }\\n`;\n      out += `${text}\\n\\n`;\n    });\n    out += `$END ${page}\\n\\n`;\n  });\n  return out;\n};\n","/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Button, DropdownButton, Dropdown, Row } from \"react-bootstrap\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"../service/subtitle\";\n\n//import DragScaleBar from 'react-drag-scale-bar'\n// import { Container } from './styles';\ntype TypeUseState<T> = (a: T | ((a: T) => T)) => void;\ntype TypeSub = {\n  [page: string]: {\n    x: number;\n    y: number;\n    index: number;\n    width: number;\n    size: number;\n    text: string;\n    style: React.CSSProperties;\n  }[];\n};\nconst EditSub: React.FC<{\n  sub: TypeSub;\n  setSub: TypeUseState<TypeSub>;\n  page?: string;\n  setPage: TypeUseState<string>;\n  setImage: TypeUseState<string>;\n  setImageStyle: TypeUseState<React.CSSProperties | string>;\n}> = ({\n  sub,\n  setSub,\n  page: defaultPage,\n  setPage: setDefaultPage,\n  setImage,\n  setImageStyle,\n}) => {\n  const [page, setPage] = useState(defaultPage || \"page1\");\n  const [isNewPage, setIsNewPage] = useState(false);\n  const [index, setIndex] = useState<string | number>(1);\n  const [x, setX] = useState<string | number>(0);\n  const [y, setY] = useState<string | number>(0);\n  const [width, setWidth] = useState<string | number>(0);\n  const [size, setSize] = useState<string | number>(0);\n  const [subText, setSubText] = useState(\"\");\n  const [show, setShow] = useState(true);\n  const [style, setStyle] = useState<{ [cssAttr: string]: string }>({});\n  const [keyStyle, setKeyStyle] = useState<string>(\"\");\n  const [valueStyle, setValueStyle] = useState<string>(\"\");\n  const [clearSub, setClearSub] = useState(sub ? sub : {});\n\n  const [lastIndex, setLastIndex] = useState(\n    sub[`${page}`]?.reduce((p, c) => (c.index > p ? c.index : p), 0) + 1\n  );\n\n  const handleChangeSub = () => {\n    console.log(Object.keys(clearSub));\n\n    if (Object.keys(clearSub).includes(page)) {\n      try {\n        setSub((data) => ({\n          ...data,\n          [page]: [\n            ...data[page]?.map((txt) => {\n              console.log(txt.index, index);\n\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                    backgroundColor: \"#0f0\",\n                  },\n                };\n              } else {\n                if (txt.style.backgroundColor === \"#0f0\") {\n                  delete txt.style.backgroundColor;\n                }\n                return txt;\n              }\n            }),\n          ],\n        }));\n\n        setClearSub((data) => ({\n          ...data,\n          [page]: [\n            ...clearSub?.[page]?.map((txt) => {\n              if (txt.index === parseInt(String(index))) {\n                return {\n                  ...txt,\n                  x: parseFloat(x),\n                  y: parseFloat(y),\n                  width: parseFloat(width),\n                  size: parseFloat(size),\n                  text: subText,\n                  style: {\n                    ...style,\n                  },\n                };\n              } else {\n                return { ...txt };\n              }\n            }),\n          ],\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    //console.log(sub);\n    handleChangeSub();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [x, y, width, size, subText, style, defaultPage]);\n\n  const updateSubInfos = (newSub?: TypeSub) => {\n    const _sub = newSub || sub;\n    if (page) {\n      const text = _sub[page]?.find((a) => a.index === parseInt(String(index)));\n      setX((oldX) => text?.x || oldX);\n      setY((oldY) => text?.y || oldY);\n      setWidth((oldW) => text?.width || oldW);\n      setSize((oldS) => text?.size || oldS);\n      setSubText(text?.text || \"\");\n      setStyle((old) => (text?.style ? { ...text?.style } : { ...old }));\n    }\n  };\n\n  const addNewText = () => {\n    setSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n            backgroundColor: \"#0f0\",\n          },\n        },\n      ],\n    }));\n\n    setClearSub((data) => ({\n      ...data,\n      [page]: [\n        ...data[page],\n        {\n          index: parseInt(String(lastIndex)),\n          x: parseFloat(String(x)),\n          y: parseFloat(String(y)),\n          width: parseFloat(String(width)),\n          size: parseFloat(String(size)),\n          text: subText,\n          style: {\n            ...style,\n          },\n        },\n      ],\n    }));\n\n    setIndex(lastIndex);\n    setLastIndex((old) => old + 1);\n  };\n\n  const addNewPage = () => {\n    if (isNewPage) {\n      setSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n              backgroundColor: \"#0f0\",\n            },\n          },\n        ],\n      });\n      setClearSub({\n        ...clearSub,\n        [page]: [\n          {\n            index: parseInt(String(0)),\n            x: parseFloat(String(x)),\n            y: parseFloat(String(y)),\n            width: parseFloat(String(width)),\n            size: parseFloat(String(size)),\n            text: subText,\n            style: {\n              ...style,\n            },\n          },\n        ],\n      });\n\n      updateSubInfos(sub);\n\n      setIndex(0);\n      setLastIndex(1);\n      setDefaultPage(page);\n      updateSubInfos();\n    }\n  };\n\n  const updateSubtitleFile = (fr: FileReader) => {\n    const newSub: TypeSub = parsePSRTToObject(String(fr.result));\n    setSub(newSub);\n    setClearSub(newSub);\n    setLastIndex(\n      newSub[page].reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n    updateSubInfos(newSub);\n  };\n  const showImage = (fr: FileReader) => setImage(String(fr.result));\n\n  const handleAddStyle = () => {\n    setStyle((old) => ({ ...old, [keyStyle]: valueStyle }));\n    setValueStyle(\"\");\n    setKeyStyle(\"\");\n  };\n\n  const handleRemoveStyle = (key: string) => {\n    setValueStyle(style[key]);\n    setKeyStyle(key);\n    const newStyles = { ...style };\n\n    delete newStyles[key];\n\n    setStyle(newStyles);\n  };\n\n  const handleClearAll = () => {\n    const newSub = {\n      page1: [],\n    };\n    setClearSub(newSub);\n\n    setSub(newSub);\n    setPage(\"page1\");\n    setIndex(0);\n    setLastIndex(0);\n  };\n\n  useEffect(() => {\n    updateSubInfos();\n  }, [index, page]);\n\n  useEffect(() => {\n    setIsNewPage(!Object.keys(sub).includes(page));\n    Object.keys(sub).includes(page) && setDefaultPage(page);\n    setLastIndex(\n      clearSub[page]?.reduce((p, { index }) => (index > p ? index : p), 0) + 1\n    );\n  }, [page]);\n\n  return (\n    <Form\n      style={{\n        position: \"fixed\",\n        width: \"500px\",\n        left: 0,\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        zIndex: 50,\n      }}\n    >\n      <div className={`form-check form-switch mr-0`}>\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          onClick={() => setShow((a) => !a)}\n          id=\"flexSwitchCheckChecked\"\n          checked={show}\n        />\n        <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckChecked\">\n          Settings\n        </label>\n      </div>\n      {show && (\n        <div>\n          <Row className=\"mb-2\">\n            <Form.Group className=\" col-4 mb-0\" controlId=\"subtitle-file\">\n              <Form.Label className=\"btn btn-primary\">Load Image</Form.Label>\n              <Form.Control\n                onChange={getLocalImage(showImage)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-4 mb-0\" controlId=\"image-file\">\n              <Form.Label className=\"btn btn-primary\">Load SubTitle</Form.Label>\n              <Form.Control\n                onChange={getLocalSubtitle(updateSubtitleFile)}\n                type=\"file\"\n                style={{ visibility: \"hidden\", height: \"0px\" }}\n                placeholder=\"Image\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={handleClearAll}\n              variant=\"danger\"\n            >\n              Clear All\n            </Button>\n          </Row>\n\n          <Row style={{ alignItems: \"flex-end\" }}>\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formPage\">\n              <Form.Label>Page</Form.Label>\n              <Form.Control\n                value={page}\n                onChange={(e) => setPage(e.target.value)}\n                placeholder=\"Page\"\n              />\n            </Form.Group>\n\n            <Button\n              className=\" col-2\"\n              onClick={addNewPage}\n              disabled={!isNewPage}\n              variant=\"primary\"\n            >\n              Add page\n            </Button>\n\n            <Form.Group className=\" col-3 mb-0\" controlId=\"formIndex\">\n              <Form.Label>Index</Form.Label>\n              <Form.Control\n                value={index}\n                onChange={(e) => setIndex(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max={sub[String(page)]?.length}\n                step=\"1\"\n                placeholder=\"index\"\n              />\n            </Form.Group>\n\n            <Button className=\" col-2\" onClick={addNewText} variant=\"primary\">\n              Add Text\n            </Button>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-3\" controlId=\"formX\">\n              <Form.Label>X axis</Form.Label>\n              <Form.Control\n                value={x}\n                onChange={(e) => setX(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"X\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Y axis</Form.Label>\n              <Form.Control\n                value={y}\n                onChange={(e) => setY(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"Y\"\n              />\n            </Form.Group>\n\n            <Form.Group className=\" col-3\" controlId=\"formY\">\n              <Form.Label>Size</Form.Label>\n              <Form.Control\n                value={size}\n                onChange={(e) => setSize(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"size\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-3\" controlId=\"formWidth\">\n              <Form.Label>Width</Form.Label>\n              <Form.Control\n                value={width}\n                onChange={(e) => setWidth(e.target.value)}\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.1\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n          </Row>\n          <Row>\n            <Form.Group className=\" col-8\" controlId=\"formText\">\n              <Form.Label>Text</Form.Label>\n              <Form.Control\n                value={subText}\n                onChange={(e) => setSubText(e.target.value)}\n                type=\"text\"\n                placeholder=\"width\"\n              />\n            </Form.Group>\n            {Object.keys(style).length > 0 && (\n              <DropdownButton\n                className=\"col-4\"\n                variant=\"secondary\"\n                id=\"dropdown-basic-button\"\n                title=\"Styles\"\n              >\n                {Object.keys(style).length > 0 &&\n                  Object.keys(style)?.map((styleProp) => (\n                    <Dropdown.Item\n                      onClick={() => handleRemoveStyle(styleProp)}\n                      key={styleProp}\n                    >\n                      {`${styleProp.replaceAll(\"_\", \" \")} : ${\n                        style[styleProp]\n                      }`}\n                    </Dropdown.Item>\n                  ))}\n              </DropdownButton>\n            )}\n          </Row>\n          <Row>\n            <Form.Group className=\" col-4\" controlId=\"formKeyStyle\">\n              <Form.Control\n                value={keyStyle}\n                onChange={(e) => setKeyStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"key\"\n              />\n            </Form.Group>\n            <Form.Group className=\" col-4\" controlId=\"formValueStyle\">\n              <Form.Control\n                value={valueStyle}\n                onChange={(e) => setValueStyle(e.target.value)}\n                type=\"text\"\n                placeholder=\"value\"\n              />\n            </Form.Group>\n\n            <Button\n              style={{ height: \"100%\" }}\n              className=\"p-2 col-4 btn-secondary\"\n              onClick={handleAddStyle}\n            >\n              Add Style\n            </Button>\n          </Row>\n          <div>\n            <Button\n              onClick={() =>\n                download(parseObjectToPSRT(clearSub), \"sub.psrt\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.psrt)\n            </Button>\n            <Button\n              onClick={() =>\n                download(JSON.stringify(clearSub), \"sub.json\", \"jpg\")\n              }\n              variant=\"primary\"\n            >\n              Dowload Subtitle (.json)\n            </Button>\n          </div>\n        </div>\n      )}\n    </Form>\n  );\n};\n\nfunction download(data, filename, type) {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n\nconst getLocalImage = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsDataURL(files[0]);\n  }\n};\n\nconst getLocalSubtitle = (callback: (fr: FileReader) => any) => (evt) => {\n  let tgt = evt.target;\n  let files = tgt.files;\n\n  // FileReader support\n  if (FileReader && files && files.length) {\n    let fr = new FileReader();\n    fr.onload = () => callback(fr);\n    fr.readAsText(files[0]);\n  }\n};\n\nexport default EditSub;\n","import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle from \"./cmponents/ImageSubTittle\";\nimport { parseObjectToPSRT, parsePSRTFileToObject } from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [subs, setSubs] = useState(\n    parsePSRTFileToObject(\n      \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\"\n    )\n  );\n  const [currentPage, setCurrentPage] = useState(\"page1\");\n\n  return (\n    <div className=\"App container\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        setImageStyle={setImageStyle}\n      />\n      <div>\n        <ImageSubTittle imgPath={imageBlob} page={currentPage} subtitle={subs} />\n        <ImageSubTittle\n          style={{ width: \"1300px\", ...imageStyle }}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Nós vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocês, humanos, ousam recusar a punição!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Você parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... não era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, você viu? Quando você começou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", você diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Você não pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Você sabe o que está acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}