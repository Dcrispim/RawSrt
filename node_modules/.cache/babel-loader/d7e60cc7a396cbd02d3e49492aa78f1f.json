{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/home/intelie/Documents/srt2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/intelie/Documents/srt2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./App.css\";import ImageSubTittle from\"./cmponents/ImageSubTittle\";import{parsePSRTFileToObject,parsePSRTToObject}from\"./service/subtitle\";import EditSub from\"./cmponents/EditSub\";import\"bootstrap/dist/css/bootstrap.min.css\";function App(){var _useState=useState(localStorage.getItem(\"lastImage\")||\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"),_useState2=_slicedToArray(_useState,2),imageBlob=_useState2[0],setImageBlob=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),imageStyle=_useState4[0],setImageStyle=_useState4[1];var _useState5=useState(localStorage.getItem(\"lastPSRT\")?parsePSRTToObject(localStorage.getItem(\"lastPSRT\")||\"\"):parsePSRTFileToObject(\"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\")),_useState6=_slicedToArray(_useState5,2),subs=_useState6[0],setSubs=_useState6[1];var _useState7=useState(localStorage.getItem(\"lastPage\")||\"page1\"),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),editStyles=_useState10[0],setEditStyles=_useState10[1];useEffect(function(){localStorage.setItem(\"lastPage\",currentPage);},[currentPage]);useEffect(function(){localStorage.setItem(\"lastImage\",imageBlob);},[imageBlob]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App container\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(EditSub,{sub:subs,setSub:setSubs,page:currentPage,setPage:setCurrentPage,setImage:setImageBlob,image:imageBlob,setImageStyle:setImageStyle,setEditStyles:setEditStyles}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ImageSubTittle,{editStyles:editStyles,imgPath:imageBlob,page:currentPage,subtitle:subs}),/*#__PURE__*/_jsx(ImageSubTittle,{style:_objectSpread({width:\"1300px\"},imageStyle),editStyles:editStyles,imgPath:imageBlob,page:currentPage,subtitle:subs})]})]});}export default App;var mock={page1:[{x:6.7,y:8,width:6,size:2,text:\"Nós vamos morrer!\",style:{fontWeight:\"bold\",wordWrap:\"break-word\",msWrapFlow:\"end\"}},{x:39,y:5,width:10,size:3,text:\"Basta vencer as duas\",style:{fontWeight:\"bold\"}},{x:55,y:2,width:11,size:2,text:\"Como vocês, humanos, ousam recusar a punição!\",style:{fontWeight:\"bold\"}},{x:8,y:32,width:11,size:2,text:\"Você parece estar se divertindo.\",style:{//fontWeight: \"bold\",\n}},{x:18.5,y:31,width:11,size:2,text:\"Jovem Mestre,\",style:{//fontWeight: \"bold\",\n}},{x:36.5,y:32,width:11,size:2,text:\"O que eu devo fazer sobre isso?!\",style:{//fontWeight: \"bold\",\n}},{x:10,y:65,width:7,size:2,text:\"Um econt... não era isso!\",style:{//fontWeight: \"bold\",\n}},{x:7,y:74,width:10,size:2,text:\"Espera, você viu? Quando você começou a vigiar?!\",style:{// fontSize:'50px'\n}},{x:51,y:60,width:10,size:2.6,text:\"\\\"Algo\\\", voc\\xEA diz?\",style:{// fontSize:'50px'\n}},{x:51,y:74,width:10,size:2,text:\"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",style:{// fontSize:'50px'\n}},{x:65,y:60,width:10,size:2,text:\"Você não pode fazer algo sobre isso?!\",style:{// fontSize:'50px'\n}},{x:83,y:58,width:10,size:1.7,text:\"Telepatia? Tomoe!\",style:{// fontSize:'50px'\n}},{x:83.5,y:66.5,width:9,size:1.4,text:\"Voc\\xEA sabe o que est\\xE1 acontecendo?!\",style:{// fontSize:'50px'\n}}]};","map":{"version":3,"sources":["/home/intelie/Documents/srt2/src/App.tsx"],"names":["React","useEffect","useState","ImageSubTittle","parsePSRTFileToObject","parsePSRTToObject","EditSub","App","localStorage","getItem","imageBlob","setImageBlob","imageStyle","setImageStyle","subs","setSubs","currentPage","setCurrentPage","editStyles","setEditStyles","setItem","display","width","mock","page1","x","y","size","text","style","fontWeight","wordWrap","msWrapFlow"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport ImageSubTittle from \"./cmponents/ImageSubTittle\";\nimport {\n  parseObjectToPSRT,\n  parsePSRTFileToObject,\n  parsePSRTToObject,\n} from \"./service/subtitle\";\nimport EditSub from \"./cmponents/EditSub\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [imageBlob, setImageBlob] = useState(\n    localStorage.getItem(\"lastImage\") ||\n      \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02.jpg\"\n  );\n  const [imageStyle, setImageStyle] = useState<React.CSSProperties>({});\n  const [subs, setSubs] = useState(\n    localStorage.getItem(\"lastPSRT\")\n      ? parsePSRTToObject(localStorage.getItem(\"lastPSRT\") || \"\")\n      : parsePSRTFileToObject(\n          \"assets/-fasc-nio-asi-tico-tsuki-ga-michibiku-isekai-douchuu-vol06-cap39-pag02_.psrt\"\n        )\n  );\n  const [currentPage, setCurrentPage] = useState(\n    localStorage.getItem(\"lastPage\") || \"page1\"\n  );\n\n  const [editStyles, setEditStyles] = useState({});\n\n  useEffect(() => {\n    localStorage.setItem(\"lastPage\", currentPage);\n  }, [currentPage]);\n\n  useEffect(() => {\n    localStorage.setItem(\"lastImage\", imageBlob);\n  }, [imageBlob]);\n\n  return (\n    <div className=\"App container\" style={{ display: \"flex\" }}>\n      <EditSub\n        sub={subs}\n        setSub={setSubs}\n        page={currentPage}\n        setPage={setCurrentPage}\n        setImage={setImageBlob}\n        image={imageBlob}\n        setImageStyle={setImageStyle}\n        setEditStyles={setEditStyles}\n      />\n      <div>\n        <ImageSubTittle\n          editStyles={editStyles}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n        <ImageSubTittle\n          style={{ width: \"1300px\", ...imageStyle }}\n          editStyles={editStyles}\n          imgPath={imageBlob}\n          page={currentPage}\n          subtitle={subs}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\nconst mock = {\n  page1: [\n    {\n      x: 6.7,\n      y: 8,\n      width: 6,\n      size: 2,\n      text: \"Nós vamos morrer!\",\n      style: {\n        fontWeight: \"bold\",\n        wordWrap: \"break-word\",\n        msWrapFlow: \"end\",\n      },\n    },\n    {\n      x: 39,\n      y: 5,\n      width: 10,\n      size: 3,\n      text: \"Basta vencer as duas\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 55,\n      y: 2,\n      width: 11,\n      size: 2,\n      text: \"Como vocês, humanos, ousam recusar a punição!\",\n      style: {\n        fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 8,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"Você parece estar se divertindo.\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 18.5,\n      y: 31,\n      width: 11,\n      size: 2,\n      text: \"Jovem Mestre,\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 36.5,\n      y: 32,\n      width: 11,\n      size: 2,\n      text: \"O que eu devo fazer sobre isso?!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 10,\n      y: 65,\n      width: 7,\n      size: 2,\n      text: \"Um econt... não era isso!\",\n      style: {\n        //fontWeight: \"bold\",\n      },\n    },\n    {\n      x: 7,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Espera, você viu? Quando você começou a vigiar?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 60,\n      width: 10,\n      size: 2.6,\n      text: `\"Algo\", você diz?`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 51,\n      y: 74,\n      width: 10,\n      size: 2,\n      text: \"Você teve um encontro com a Mio e agora está me pedindo ajuda?\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 65,\n      y: 60,\n      width: 10,\n      size: 2,\n      text: \"Você não pode fazer algo sobre isso?!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83,\n      y: 58,\n      width: 10,\n      size: 1.7,\n      text: \"Telepatia? Tomoe!\",\n      style: {\n        // fontSize:'50px'\n      },\n    },\n    {\n      x: 83.5,\n      y: 66.5,\n      width: 9,\n      size: 1.4,\n      text: `Você sabe o que está acontecendo?!`,\n      style: {\n        // fontSize:'50px'\n      },\n    },\n  ],\n};\n"]},"metadata":{},"sourceType":"module"}